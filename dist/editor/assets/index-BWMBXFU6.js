import{ad as SE,ae as Bg,D as CE,af as _g,ag as Ng,ah as $g,K as jg,W as Ks,N as AE,O as rl,E as zg,k as nl,ai as TE,aj as IE,B as Ew,T as EE,ak as ME,al as OE,o as Xu,a as At,a7 as kE,n as qe,m as Or,M as FE,am as PE,an as LE,j as C,ao as RE,ap as Mw,p as Ll,P as rr,aq as DE,a2 as BE,ar as _E}from"./index-WS9WPIMT.js";import{l as Jr,M as NE,H as $E,d as ti,f as jE,R as zE,U as HE,m as VE}from"./index-D6_jqkUR.js";import{c as Pd,t as Uu,b as Ow,g as dp,d as kw,e as WE,h as Ld,r as Zs,f as Hg,j as Va,k as Fw,m as Pr,n as GE,o as YE,p as ne,q as Xr,s as Ri,a as fu,V as al,u as Ca,v as $n,w as qE,x as XE}from"./VariableBind-DVsj7nw6.js";import{Q as Jl}from"./index-DPIPbv1w.js";import{E as Ku}from"./SaveOutlined-DdNYbKpM.js";import{D as Pw}from"./DeleteOutlined-DII6juwf.js";import{M as UE}from"./ColorPicker-r_teWa8L.js";const Zu=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Br},get Circle(){return mq},get Ellipse(){return xq},get Image(){return bq},get Line(){return wq},get Marker(){return Cq},get Path(){return $v},get Polygon(){return kq},get Polyline(){return Fq},get Rect(){return Rq},get Text(){return Dq}},Symbol.toStringTag,{value:"Module"})),Qu=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return Cr},get Circle(){return Hq},get Dom(){return Vq},get Ellipse(){return Wq},get Image(){return Gq},get Line(){return Yq},get Marker(){return qq},get Path(){return Xq},get Polygon(){return Uq},get Polyline(){return Kq},get Rect(){return Qq},get Text(){return r9}},Symbol.toStringTag,{value:"Module"})),or=Object.freeze(Object.defineProperty({__proto__:null,get BarChart(){return zot},get BarChartConfig(){return Hot},get Button(){return yst},get ButtonConfig(){return bst},get Card(){return nL},get CardConfig(){return aL},get Cascader(){return WD},get CascaderConfig(){return GD},get CheckBox(){return cD},get CheckBoxConfig(){return fD},get Col(){return rz},get ColConfig(){return nz},get ColumnChart(){return Fot},get ColumnChartConfig(){return Dot},get DatePicker(){return GL},get DatePickerConfig(){return YL},get DatePickerRange(){return JL},get DatePickerRangeConfig(){return tR},get Descriptions(){return Vlt},get DescriptionsConfig(){return Jlt},get Div(){return uL},get DivConfig(){return cL},get Divider(){return uz},get DividerConfig(){return cz},get EditTable(){return LB},get EditTableConfig(){return qB},get Empty(){return ast},get EmptyConfig(){return ist},get FileUpload(){return Est},get FileUploadConfig(){return Mst},get Flex(){return VP},get FlexConfig(){return WP},get Form(){return KP},get FormConfig(){return ZP},get FormItem(){return rD},get FormItemConfig(){return nD},get FormList(){return vB},get FormListConfig(){return gB},get IFrame(){return Iut},get IFrameConfig(){return Eut},get Image(){return Jst},get ImageConfig(){return tut},get Input(){return yL},get InputConfig(){return SL},get InputNumber(){return _L},get InputNumberConfig(){return NL},get LineChart(){return Aot},get LineChartConfig(){return Tot},get Link(){return but},get LinkConfig(){return wut},get List(){return Rlt},get ListConfig(){return Dlt},get MarsTable(){return GF},get MarsTableConfig(){return CP},get Modal(){return Tlt},get ModalConfig(){return Ilt},get Page(){return FF},get PageConfig(){return PF},get PieChart(){return vot},get PieChartConfig(){return mot},get Progress(){return slt},get ProgressConfig(){return ult},get Radio(){return lR},get RadioConfig(){return sR},get RichText(){return D4},get RichTextConfig(){return B4},get RingProgress(){return vlt},get RingProgressConfig(){return glt},get Row(){return U4},get RowConfig(){return K4},get SearchForm(){return BP},get SearchFormConfig(){return _P},get Segmented(){return BD},get SegmentedConfig(){return _D},get Select(){return vR},get SelectConfig(){return gR},get Slider(){return QD},get SliderConfig(){return JD},get Space(){return H4},get SpaceConfig(){return V4},get StaticItem(){return WR},get StaticItemConfig(){return XR},get Steps(){return cst},get StepsConfig(){return fst},get Switch(){return CR},get SwitchConfig(){return AR},get Tab(){return jst},get TabConfig(){return bE},get Tabs(){return Dst},get TabsConfig(){return qst},get Text(){return out},get TextArea(){return OL},get TextAreaConfig(){return kL},get TextConfig(){return sut},get TimePicker(){return xD},get TimePickerConfig(){return bD},get TimePickerRange(){return MD},get TimePickerRangeConfig(){return OD},get TinyColumn(){return elt},get TinyColumnConfig(){return rlt},get TinyLine(){return Xot},get TinyLineConfig(){return Uot},get Title(){return dut},get TitleConfig(){return vut},get TreeSelect(){return oB},get TreeSelectConfig(){return lB},get Upload(){return LR},get UploadConfig(){return RR}},Symbol.toStringTag,{value:"Module"}));function KE(e){return e}var ZE="__lodash_hash_undefined__";function QE(e){return this.__data__.set(e,ZE),this}function JE(e){return this.__data__.has(e)}function hu(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new SE;++r<t;)this.add(e[r])}hu.prototype.add=hu.prototype.push=QE;hu.prototype.has=JE;function tM(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}function eM(e,r){return e.has(r)}var rM=1,nM=2;function Lw(e,r,t,n,a,i){var o=t&rM,l=e.length,s=r.length;if(l!=s&&!(o&&s>l))return!1;var u=i.get(e),f=i.get(r);if(u&&f)return u==r&&f==e;var c=-1,h=!0,p=t&nM?new hu:void 0;for(i.set(e,r),i.set(r,e);++c<l;){var d=e[c],v=r[c];if(n)var g=o?n(v,d,c,r,e,i):n(d,v,c,e,r,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!tM(r,function(y,m){if(!eM(p,m)&&(d===y||a(d,y,t,n,i)))return p.push(m)})){h=!1;break}}else if(!(d===v||a(d,v,t,n,i))){h=!1;break}}return i.delete(e),i.delete(r),h}function aM(e){var r=-1,t=Array(e.size);return e.forEach(function(n,a){t[++r]=[a,n]}),t}function iM(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var oM=1,lM=2,sM="[object Boolean]",uM="[object Date]",cM="[object Error]",fM="[object Map]",hM="[object Number]",pM="[object RegExp]",dM="[object Set]",vM="[object String]",gM="[object Symbol]",yM="[object ArrayBuffer]",mM="[object DataView]",Vg=Bg?Bg.prototype:void 0,sf=Vg?Vg.valueOf:void 0;function xM(e,r,t,n,a,i,o){switch(t){case mM:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case yM:return!(e.byteLength!=r.byteLength||!i(new _g(e),new _g(r)));case sM:case uM:case hM:return CE(+e,+r);case cM:return e.name==r.name&&e.message==r.message;case pM:case vM:return e==r+"";case fM:var l=aM;case dM:var s=n&oM;if(l||(l=iM),e.size!=r.size&&!s)return!1;var u=o.get(e);if(u)return u==r;n|=lM,o.set(e,r);var f=Lw(l(e),l(r),n,a,i,o);return o.delete(e),f;case gM:if(sf)return sf.call(e)==sf.call(r)}return!1}var bM=1,wM=Object.prototype,SM=wM.hasOwnProperty;function CM(e,r,t,n,a,i){var o=t&bM,l=Ng(e),s=l.length,u=Ng(r),f=u.length;if(s!=f&&!o)return!1;for(var c=s;c--;){var h=l[c];if(!(o?h in r:SM.call(r,h)))return!1}var p=i.get(e),d=i.get(r);if(p&&d)return p==r&&d==e;var v=!0;i.set(e,r),i.set(r,e);for(var g=o;++c<s;){h=l[c];var y=e[h],m=r[h];if(n)var b=o?n(m,y,h,r,e,i):n(y,m,h,e,r,i);if(!(b===void 0?y===m||a(y,m,t,n,i):b)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var x=e.constructor,w=r.constructor;x!=w&&"constructor"in e&&"constructor"in r&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(e),i.delete(r),v}var AM=1,Wg="[object Arguments]",Gg="[object Array]",ts="[object Object]",TM=Object.prototype,Yg=TM.hasOwnProperty;function IM(e,r,t,n,a,i){var o=rl(e),l=rl(r),s=o?Gg:$g(e),u=l?Gg:$g(r);s=s==Wg?ts:s,u=u==Wg?ts:u;var f=s==ts,c=u==ts,h=s==u;if(h&&jg(e)){if(!jg(r))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Ks),o||AE(e)?Lw(e,r,t,n,a,i):xM(e,r,s,t,n,a,i);if(!(t&AM)){var p=f&&Yg.call(e,"__wrapped__"),d=c&&Yg.call(r,"__wrapped__");if(p||d){var v=p?e.value():e,g=d?r.value():r;return i||(i=new Ks),a(v,g,t,n,i)}}return h?(i||(i=new Ks),CM(e,r,t,n,a,i)):!1}function Rd(e,r,t,n,a){return e===r?!0:e==null||r==null||!zg(e)&&!zg(r)?e!==e&&r!==r:IM(e,r,t,n,Rd,a)}var EM=1,MM=2;function OM(e,r,t,n){var a=t.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=t[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=t[a];var s=l[0],u=e[s],f=l[1];if(o&&l[2]){if(u===void 0&&!(s in e))return!1}else{var c=new Ks;if(n)var h=n(u,f,s,e,r,c);if(!(h===void 0?Rd(f,u,EM|MM,n,c):h))return!1}}return!0}function Rw(e){return e===e&&!nl(e)}function kM(e){for(var r=TE(e),t=r.length;t--;){var n=r[t],a=e[n];r[t]=[n,a,Rw(a)]}return r}function Dw(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}function FM(e){var r=kM(e);return r.length==1&&r[0][2]?Dw(r[0][0],r[0][1]):function(t){return t===e||OM(t,e,r)}}function PM(e,r){return e!=null&&r in Object(e)}function LM(e,r,t){r=Pd(r,e);for(var n=-1,a=r.length,i=!1;++n<a;){var o=Uu(r[n]);if(!(i=e!=null&&t(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&IE(a)&&Ew(o,a)&&(rl(e)||EE(e)))}function RM(e,r){return e!=null&&LM(e,r,PM)}var DM=1,BM=2;function _M(e,r){return Ow(e)&&Rw(r)?Dw(Uu(e),r):function(t){var n=dp(t,e);return n===void 0&&n===r?RM(t,e):Rd(r,n,DM|BM)}}function NM(e){return function(r){return r==null?void 0:r[e]}}function $M(e){return function(r){return kw(r,e)}}function jM(e){return Ow(e)?NM(Uu(e)):$M(e)}function zM(e){return typeof e=="function"?e:e==null?KE:typeof e=="object"?rl(e)?_M(e[0],e[1]):FM(e):jM(e)}function HM(e,r,t,n){if(!nl(e))return e;r=Pd(r,e);for(var a=-1,i=r.length,o=i-1,l=e;l!=null&&++a<i;){var s=Uu(r[a]),u=t;if(s==="__proto__"||s==="constructor"||s==="prototype")return e;if(a!=o){var f=l[s];u=n?n(f,s,l):void 0,u===void 0&&(u=nl(f)?f:Ew(r[a+1])?[]:{})}ME(l,s,u),l=l[s]}return e}function VM(e,r,t){for(var n=-1,a=r.length,i={};++n<a;){var o=r[n],l=kw(e,o);t(l,o)&&HM(i,Pd(o,e),l)}return i}function WM(e,r){if(e==null)return{};var t=WE(OE(e),function(n){return[n]});return r=zM(r),VM(e,t,function(n,a){return r(n,a[0])})}const GM=window.React.createContext,YM=GM({dragDropManager:void 0});function Zn(e,r,...t){if(qM()&&r===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(r===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(r.replace(/%s/g,function(){return t[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function qM(){return typeof process<"u"&&!0}var XM=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,a,i;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!e(r[a],t[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(i=Object.keys(r),n=i.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(r[o],t[o]))return!1}return!0}return r!==r&&t!==t};const UM=Xu(XM),KM=window.React.useEffect,ZM=window.React.useLayoutEffect,Wa=typeof window<"u"?ZM:KM,QM=window.React.useCallback,JM=window.React.useState;function tO(e,r,t){const[n,a]=JM(()=>r(e)),i=QM(()=>{const o=r(e);UM(n,o)||(a(o),t&&t())},[n,e,t]);return Wa(i),[n,i]}function eO(e,r,t){const[n,a]=tO(e,r,t);return Wa(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(a,{handlerIds:[o]})},[e,a]),n}function Bw(e,r,t){return eO(r,e||(()=>({})),()=>t.reconnect())}const rO=window.React.useMemo;function _w(e,r){const t=[...r||[]];return r==null&&typeof e!="function"&&t.push(e),rO(()=>typeof e=="function"?e():e,t)}const Nw=window.React.useMemo;function nO(e){return Nw(()=>e.hooks.dragSource(),[e])}function aO(e){return Nw(()=>e.hooks.dragPreview(),[e])}let uf=!1,cf=!1;class iO{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){Zn(!uf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return uf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{uf=!1}}isDragging(){if(!this.sourceId)return!1;Zn(!cf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{cf=!1}}subscribeToStateChange(r,t){return this.internalMonitor.subscribeToStateChange(r,t)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,t){return this.internalMonitor.isOverTarget(r,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let ff=!1;class oO{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,t){return this.internalMonitor.subscribeToStateChange(r,t)}canDrop(){if(!this.targetId)return!1;Zn(!ff,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ff=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ff=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function lO(e,r,t){const n=t.getRegistry(),a=n.addTarget(e,r);return[a,()=>n.removeTarget(a)]}function sO(e,r,t){const n=t.getRegistry(),a=n.addSource(e,r);return[a,()=>n.removeSource(a)]}function vp(e,r,t,n){let a=t?t.call(n,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;const i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(r);for(let s=0;s<i.length;s++){const u=i[s];if(!l(u))return!1;const f=e[u],c=r[u];if(a=t?t.call(n,f,c,u):void 0,a===!1||a===void 0&&f!==c)return!1}return!0}function gp(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const qg=window.React.cloneElement,uO=window.React.isValidElement;function cO(e){if(typeof e.type=="string")return;const r=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function fO(e){return(r=null,t=null)=>{if(!uO(r)){const i=r;return e(i,t),i}const n=r;return cO(n),hO(n,t?i=>e(i,t):e)}}function $w(e){const r={};return Object.keys(e).forEach(t=>{const n=e[t];if(t.endsWith("Ref"))r[t]=e[t];else{const a=fO(n);r[t]=()=>a}}),r}function Xg(e,r){typeof e=="function"?e(r):e.current=r}function hO(e,r){const t=e.ref;return Zn(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?qg(e,{ref:n=>{Xg(t,n),Xg(r,n)}}):qg(e,{ref:r})}class pO{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?r?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),t):(this.lastConnectedDragSource=r,t):t}reconnectDragPreview(r=!1){const t=this.dragPreview,n=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!vp(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!vp(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=$w({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,gp(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,gp(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class dO{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!vp(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=$w({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,gp(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}const vO=window.React.useContext;function Ki(){const{dragDropManager:e}=vO(YM);return Zn(e!=null,"Expected drag drop context"),e}const gO=window.React.useMemo;function yO(e,r){const t=Ki(),n=gO(()=>new pO(t.getBackend()),[t]);return Wa(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),Wa(()=>(n.dragPreviewOptions=r||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,r]),n}const mO=window.React.useMemo;function xO(){const e=Ki();return mO(()=>new iO(e),[e])}class bO{beginDrag(){const r=this.spec,t=this.monitor;let n=null;return typeof r.item=="object"?n=r.item:typeof r.item=="function"?n=r.item(t):n={},n??null}canDrag(){const r=this.spec,t=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(t):!0}isDragging(r,t){const n=this.spec,a=this.monitor,{isDragging:i}=n;return i?i(a):t===r.getSourceId()}endDrag(){const r=this.spec,t=this.monitor,n=this.connector,{end:a}=r;a&&a(t.getItem(),t),n.reconnect()}constructor(r,t,n){this.spec=r,this.monitor=t,this.connector=n}}const wO=window.React.useEffect,SO=window.React.useMemo;function CO(e,r,t){const n=SO(()=>new bO(e,r,t),[r,t]);return wO(()=>{n.spec=e},[e]),n}const AO=window.React.useMemo;function TO(e){return AO(()=>{const r=e.type;return Zn(r!=null,"spec.type must be defined"),r},[e])}function IO(e,r,t){const n=Ki(),a=CO(e,r,t),i=TO(e);Wa(function(){if(i!=null){const[l,s]=sO(i,a,n);return r.receiveHandlerId(l),t.receiveHandlerId(l),s}},[n,r,t,a,i])}function EO(e,r){const t=_w(e,r);Zn(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=xO(),a=yO(t.options,t.previewOptions);return IO(t,n,a),[Bw(t.collect,n,a),nO(a),aO(a)]}const MO=window.React.useMemo;function OO(e){return MO(()=>e.hooks.dropTarget(),[e])}const kO=window.React.useMemo;function FO(e){const r=Ki(),t=kO(()=>new dO(r.getBackend()),[r]);return Wa(()=>(t.dropTargetOptions=e||null,t.reconnect(),()=>t.disconnectDropTarget()),[e]),t}const PO=window.React.useMemo;function LO(){const e=Ki();return PO(()=>new oO(e),[e])}const RO=window.React.useMemo;function DO(e){const{accept:r}=e;return RO(()=>(Zn(e.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class BO{canDrop(){const r=this.spec,t=this.monitor;return r.canDrop?r.canDrop(t.getItem(),t):!0}hover(){const r=this.spec,t=this.monitor;r.hover&&r.hover(t.getItem(),t)}drop(){const r=this.spec,t=this.monitor;if(r.drop)return r.drop(t.getItem(),t)}constructor(r,t){this.spec=r,this.monitor=t}}const _O=window.React.useEffect,NO=window.React.useMemo;function $O(e,r){const t=NO(()=>new BO(e,r),[r]);return _O(()=>{t.spec=e},[e]),t}function jO(e,r,t){const n=Ki(),a=$O(e,r),i=DO(e);Wa(function(){const[l,s]=lO(i,a,n);return r.receiveHandlerId(l),t.receiveHandlerId(l),s},[n,r,a,t,i.map(o=>o.toString()).join("|")])}function lr(e,r){const t=_w(e,r),n=LO(),a=FO(t.options);return jO(t,n,a),[Bw(t.collect,n,a),OO(a)]}const jw=new Map;function Ju(e){return jw.get(e)}function zO(e,r){return jw.set(e,r)}const HO=window.axios,Rn=HO.create({timeout:8e3,withCredentials:!0,headers:{},isCors:!0});Rn.interceptors.request.use(e=>{const{headers:r=[],timeout:t=8,timeoutErrorMessage:n="请求超时，请稍后重试",requestIntercetpor:a}=At.getState().page.interceptor||{},i=["mars-api.huolala.work","mars-api.huolala.cn"];if(!e.isCors&&e.url){const o=new URL(e.url);i.push(o.hostname)}return e.timeout=t*1e3,e.timeoutErrorMessage=n,e.headers={...e.headers,...Ld(r),Accept:"application/json, text/plain, */*"},a?new Function("config",`return (${a})(config);`)(e):e});Rn.interceptors.response.use(e=>{const{responseIntercetpor:r}=At.getState().page.interceptor;let t=e;return r&&(t=new Function("response",`return (${r})(response);`)(e)),t},e=>{let r=e.message;return e.code==="ERR_NETWORK"&&(r="服务地址或网络异常，请稍后重试"),Promise.reject(r)});const Ai={defaults:Rn.defaults,get(e,r={}){return Rn.get(e,r)},post(e,r={},t={}){return Rn.post(e,r,t)},put(e,r={},t={}){return Rn.post(e,r,t)},delete(e,r={}){return Rn.get(e,r)},download(e,r={},t={}){return Rn.post(e,r,{...t,responseType:"blob"}).then(n=>{const a=new Blob([n.data],{type:n.data.type}),i=document.createElement("a"),o=n.headers.filename;return o?i.download=decodeURIComponent(o):i.download=t.filename||"fileName.xls",i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(i.href),n})}};var VO=Error,WO=EvalError,GO=RangeError,YO=ReferenceError,zw=SyntaxError,Rl=TypeError,qO=URIError,XO=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;r[t]=a;for(t in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var i=Object.getOwnPropertySymbols(r);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,t);if(o.value!==a||o.enumerable!==!0)return!1}return!0},Ug=typeof Symbol<"u"&&Symbol,UO=XO,KO=function(){return typeof Ug!="function"||typeof Symbol!="function"||typeof Ug("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:UO()},hf={__proto__:null,foo:{}},ZO=Object,QO=function(){return{__proto__:hf}.foo===hf.foo&&!(hf instanceof ZO)},JO="Function.prototype.bind called on incompatible ",t2=Object.prototype.toString,e2=Math.max,r2="[object Function]",Kg=function(r,t){for(var n=[],a=0;a<r.length;a+=1)n[a]=r[a];for(var i=0;i<t.length;i+=1)n[i+r.length]=t[i];return n},n2=function(r,t){for(var n=[],a=t||0,i=0;a<r.length;a+=1,i+=1)n[i]=r[a];return n},a2=function(e,r){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=r);return t},i2=function(r){var t=this;if(typeof t!="function"||t2.apply(t)!==r2)throw new TypeError(JO+t);for(var n=n2(arguments,1),a,i=function(){if(this instanceof a){var f=t.apply(this,Kg(n,arguments));return Object(f)===f?f:this}return t.apply(r,Kg(n,arguments))},o=e2(0,t.length-n.length),l=[],s=0;s<o;s++)l[s]="$"+s;if(a=Function("binder","return function ("+a2(l,",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,a.prototype=new u,u.prototype=null}return a},o2=i2,Dd=Function.prototype.bind||o2,l2=Function.prototype.call,s2=Object.prototype.hasOwnProperty,u2=Dd,c2=u2.call(l2,s2),kt,f2=VO,h2=WO,p2=GO,d2=YO,Di=zw,Ti=Rl,v2=qO,Hw=Function,pf=function(e){try{return Hw('"use strict"; return ('+e+").constructor;")()}catch{}},La=Object.getOwnPropertyDescriptor;if(La)try{La({},"")}catch{La=null}var df=function(){throw new Ti},g2=La?function(){try{return arguments.callee,df}catch{try{return La(arguments,"callee").get}catch{return df}}}():df,li=KO(),y2=QO(),we=Object.getPrototypeOf||(y2?function(e){return e.__proto__}:null),vi={},m2=typeof Uint8Array>"u"||!we?kt:we(Uint8Array),Ra={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?kt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kt:ArrayBuffer,"%ArrayIteratorPrototype%":li&&we?we([][Symbol.iterator]()):kt,"%AsyncFromSyncIteratorPrototype%":kt,"%AsyncFunction%":vi,"%AsyncGenerator%":vi,"%AsyncGeneratorFunction%":vi,"%AsyncIteratorPrototype%":vi,"%Atomics%":typeof Atomics>"u"?kt:Atomics,"%BigInt%":typeof BigInt>"u"?kt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?kt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?kt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f2,"%eval%":eval,"%EvalError%":h2,"%Float32Array%":typeof Float32Array>"u"?kt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kt:FinalizationRegistry,"%Function%":Hw,"%GeneratorFunction%":vi,"%Int8Array%":typeof Int8Array>"u"?kt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":li&&we?we(we([][Symbol.iterator]())):kt,"%JSON%":typeof JSON=="object"?JSON:kt,"%Map%":typeof Map>"u"?kt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!li||!we?kt:we(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kt:Promise,"%Proxy%":typeof Proxy>"u"?kt:Proxy,"%RangeError%":p2,"%ReferenceError%":d2,"%Reflect%":typeof Reflect>"u"?kt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!li||!we?kt:we(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":li&&we?we(""[Symbol.iterator]()):kt,"%Symbol%":li?Symbol:kt,"%SyntaxError%":Di,"%ThrowTypeError%":g2,"%TypedArray%":m2,"%TypeError%":Ti,"%Uint8Array%":typeof Uint8Array>"u"?kt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kt:Uint32Array,"%URIError%":v2,"%WeakMap%":typeof WeakMap>"u"?kt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kt:WeakSet};if(we)try{null.error}catch(e){var x2=we(we(e));Ra["%Error.prototype%"]=x2}var b2=function e(r){var t;if(r==="%AsyncFunction%")t=pf("async function () {}");else if(r==="%GeneratorFunction%")t=pf("function* () {}");else if(r==="%AsyncGeneratorFunction%")t=pf("async function* () {}");else if(r==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(r==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&we&&(t=we(a.prototype))}return Ra[r]=t,t},Zg={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dl=Dd,pu=c2,w2=Dl.call(Function.call,Array.prototype.concat),S2=Dl.call(Function.apply,Array.prototype.splice),Qg=Dl.call(Function.call,String.prototype.replace),du=Dl.call(Function.call,String.prototype.slice),C2=Dl.call(Function.call,RegExp.prototype.exec),A2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T2=/\\(\\)?/g,I2=function(r){var t=du(r,0,1),n=du(r,-1);if(t==="%"&&n!=="%")throw new Di("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Di("invalid intrinsic syntax, expected opening `%`");var a=[];return Qg(r,A2,function(i,o,l,s){a[a.length]=l?Qg(s,T2,"$1"):o||i}),a},E2=function(r,t){var n=r,a;if(pu(Zg,n)&&(a=Zg[n],n="%"+a[0]+"%"),pu(Ra,n)){var i=Ra[n];if(i===vi&&(i=b2(n)),typeof i>"u"&&!t)throw new Ti("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:i}}throw new Di("intrinsic "+r+" does not exist!")},Zi=function(r,t){if(typeof r!="string"||r.length===0)throw new Ti("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Ti('"allowMissing" argument must be a boolean');if(C2(/^%?[^%]*%?$/,r)===null)throw new Di("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=I2(r),a=n.length>0?n[0]:"",i=E2("%"+a+"%",t),o=i.name,l=i.value,s=!1,u=i.alias;u&&(a=u[0],S2(n,w2([0,1],u)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],p=du(h,0,1),d=du(h,-1);if((p==='"'||p==="'"||p==="`"||d==='"'||d==="'"||d==="`")&&p!==d)throw new Di("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(s=!0),a+="."+h,o="%"+a+"%",pu(Ra,o))l=Ra[o];else if(l!=null){if(!(h in l)){if(!t)throw new Ti("base intrinsic for "+r+" exists, but the property is not available.");return}if(La&&f+1>=n.length){var v=La(l,h);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[h]}else c=pu(l,h),l=l[h];c&&!s&&(Ra[o]=l)}}return l},Vw={exports:{}},vf,Jg;function Bd(){if(Jg)return vf;Jg=1;var e=Zi,r=e("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return vf=r,vf}var M2=Zi,Qs=M2("%Object.getOwnPropertyDescriptor%",!0);if(Qs)try{Qs([],"length")}catch{Qs=null}var Ww=Qs,ty=Bd(),O2=zw,si=Rl,ey=Ww,k2=function(r,t,n){if(!r||typeof r!="object"&&typeof r!="function")throw new si("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new si("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new si("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new si("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new si("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new si("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!ey&&ey(r,t);if(ty)ty(r,t,{configurable:o===null&&s?s.configurable:!o,enumerable:a===null&&s?s.enumerable:!a,value:n,writable:i===null&&s?s.writable:!i});else if(l||!a&&!i&&!o)r[t]=n;else throw new O2("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},yp=Bd(),Gw=function(){return!!yp};Gw.hasArrayLengthDefineBug=function(){if(!yp)return null;try{return yp([],"length",{value:1}).length!==1}catch{return!0}};var F2=Gw,P2=Zi,ry=k2,L2=F2(),ny=Ww,ay=Rl,R2=P2("%Math.floor%"),D2=function(r,t){if(typeof r!="function")throw new ay("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||R2(t)!==t)throw new ay("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,i=!0;if("length"in r&&ny){var o=ny(r,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(i=!1)}return(a||i||!n)&&(L2?ry(r,"length",t,!0,!0):ry(r,"length",t)),r};(function(e){var r=Dd,t=Zi,n=D2,a=Rl,i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||r.call(o,i),s=Bd(),u=t("%Math.max%");e.exports=function(h){if(typeof h!="function")throw new a("a function is required");var p=l(r,o,arguments);return n(p,1+u(0,h.length-(arguments.length-1)),!0)};var f=function(){return l(r,i,arguments)};s?s(e.exports,"apply",{value:f}):e.exports.apply=f})(Vw);var B2=Vw.exports,Yw=Zi,qw=B2,_2=qw(Yw("String.prototype.indexOf")),N2=function(r,t){var n=Yw(r,!!t);return typeof n=="function"&&_2(r,".prototype.")>-1?qw(n):n};const $2={},j2=Object.freeze(Object.defineProperty({__proto__:null,default:$2},Symbol.toStringTag,{value:"Module"})),z2=kE(j2);var _d=typeof Map=="function"&&Map.prototype,gf=Object.getOwnPropertyDescriptor&&_d?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,vu=_d&&gf&&typeof gf.get=="function"?gf.get:null,iy=_d&&Map.prototype.forEach,Nd=typeof Set=="function"&&Set.prototype,yf=Object.getOwnPropertyDescriptor&&Nd?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gu=Nd&&yf&&typeof yf.get=="function"?yf.get:null,oy=Nd&&Set.prototype.forEach,H2=typeof WeakMap=="function"&&WeakMap.prototype,Ho=H2?WeakMap.prototype.has:null,V2=typeof WeakSet=="function"&&WeakSet.prototype,Vo=V2?WeakSet.prototype.has:null,W2=typeof WeakRef=="function"&&WeakRef.prototype,ly=W2?WeakRef.prototype.deref:null,G2=Boolean.prototype.valueOf,Y2=Object.prototype.toString,q2=Function.prototype.toString,X2=String.prototype.match,$d=String.prototype.slice,zn=String.prototype.replace,U2=String.prototype.toUpperCase,sy=String.prototype.toLowerCase,Xw=RegExp.prototype.test,uy=Array.prototype.concat,Wr=Array.prototype.join,K2=Array.prototype.slice,cy=Math.floor,mp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,mf=Object.getOwnPropertySymbols,xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",De=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Bi||!0)?Symbol.toStringTag:null,Uw=Object.prototype.propertyIsEnumerable,fy=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function hy(e,r){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||Xw.call(/e/,r))return r;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-cy(-e):cy(e);if(n!==e){var a=String(n),i=$d.call(r,a.length+1);return zn.call(a,t,"$&_")+"."+zn.call(zn.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return zn.call(r,t,"$&_")}var bp=z2,py=bp.custom,dy=Zw(py)?py:null,Z2=function e(r,t,n,a){var i=t||{};if(Dn(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dn(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Dn(i,"customInspect")?i.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dn(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dn(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof r>"u")return"undefined";if(r===null)return"null";if(typeof r=="boolean")return r?"true":"false";if(typeof r=="string")return Jw(r,i);if(typeof r=="number"){if(r===0)return 1/0/r>0?"0":"-0";var s=String(r);return l?hy(r,s):s}if(typeof r=="bigint"){var u=String(r)+"n";return l?hy(r,u):u}var f=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof r=="object")return wp(r)?"[Array]":"[Object]";var c=vk(i,n);if(typeof a>"u")a=[];else if(Qw(a,r)>=0)return"[Circular]";function h(F,L,D){if(L&&(a=K2.call(a),a.push(L)),D){var _={depth:i.depth};return Dn(i,"quoteStyle")&&(_.quoteStyle=i.quoteStyle),e(F,_,n+1,a)}return e(F,i,n+1,a)}if(typeof r=="function"&&!vy(r)){var p=ok(r),d=es(r,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(d.length>0?" { "+Wr.call(d,", ")+" }":"")}if(Zw(r)){var v=Bi?zn.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):xp.call(r);return typeof r=="object"&&!Bi?xo(v):v}if(hk(r)){for(var g="<"+sy.call(String(r.nodeName)),y=r.attributes||[],m=0;m<y.length;m++)g+=" "+y[m].name+"="+Kw(Q2(y[m].value),"double",i);return g+=">",r.childNodes&&r.childNodes.length&&(g+="..."),g+="</"+sy.call(String(r.nodeName))+">",g}if(wp(r)){if(r.length===0)return"[]";var b=es(r,h);return c&&!dk(b)?"["+Sp(b,c)+"]":"[ "+Wr.call(b,", ")+" ]"}if(tk(r)){var x=es(r,h);return!("cause"in Error.prototype)&&"cause"in r&&!Uw.call(r,"cause")?"{ ["+String(r)+"] "+Wr.call(uy.call("[cause]: "+h(r.cause),x),", ")+" }":x.length===0?"["+String(r)+"]":"{ ["+String(r)+"] "+Wr.call(x,", ")+" }"}if(typeof r=="object"&&o){if(dy&&typeof r[dy]=="function"&&bp)return bp(r,{depth:f-n});if(o!=="symbol"&&typeof r.inspect=="function")return r.inspect()}if(lk(r)){var w=[];return iy&&iy.call(r,function(F,L){w.push(h(L,r,!0)+" => "+h(F,r))}),gy("Map",vu.call(r),w,c)}if(ck(r)){var S=[];return oy&&oy.call(r,function(F){S.push(h(F,r))}),gy("Set",gu.call(r),S,c)}if(sk(r))return xf("WeakMap");if(fk(r))return xf("WeakSet");if(uk(r))return xf("WeakRef");if(rk(r))return xo(h(Number(r)));if(ak(r))return xo(h(mp.call(r)));if(nk(r))return xo(G2.call(r));if(ek(r))return xo(h(String(r)));if(typeof window<"u"&&r===window)return"{ [object Window] }";if(r===qe)return"{ [object globalThis] }";if(!J2(r)&&!vy(r)){var A=es(r,h),I=fy?fy(r)===Object.prototype:r instanceof Object||r.constructor===Object,k=r instanceof Object?"":"null prototype",E=!I&&De&&Object(r)===r&&De in r?$d.call(la(r),8,-1):k?"Object":"",M=I||typeof r.constructor!="function"?"":r.constructor.name?r.constructor.name+" ":"",O=M+(E||k?"["+Wr.call(uy.call([],E||[],k||[]),": ")+"] ":"");return A.length===0?O+"{}":c?O+"{"+Sp(A,c)+"}":O+"{ "+Wr.call(A,", ")+" }"}return String(r)};function Kw(e,r,t){var n=(t.quoteStyle||r)==="double"?'"':"'";return n+e+n}function Q2(e){return zn.call(String(e),/"/g,"&quot;")}function wp(e){return la(e)==="[object Array]"&&(!De||!(typeof e=="object"&&De in e))}function J2(e){return la(e)==="[object Date]"&&(!De||!(typeof e=="object"&&De in e))}function vy(e){return la(e)==="[object RegExp]"&&(!De||!(typeof e=="object"&&De in e))}function tk(e){return la(e)==="[object Error]"&&(!De||!(typeof e=="object"&&De in e))}function ek(e){return la(e)==="[object String]"&&(!De||!(typeof e=="object"&&De in e))}function rk(e){return la(e)==="[object Number]"&&(!De||!(typeof e=="object"&&De in e))}function nk(e){return la(e)==="[object Boolean]"&&(!De||!(typeof e=="object"&&De in e))}function Zw(e){if(Bi)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!xp)return!1;try{return xp.call(e),!0}catch{}return!1}function ak(e){if(!e||typeof e!="object"||!mp)return!1;try{return mp.call(e),!0}catch{}return!1}var ik=Object.prototype.hasOwnProperty||function(e){return e in this};function Dn(e,r){return ik.call(e,r)}function la(e){return Y2.call(e)}function ok(e){if(e.name)return e.name;var r=X2.call(q2.call(e),/^function\s*([\w$]+)/);return r?r[1]:null}function Qw(e,r){if(e.indexOf)return e.indexOf(r);for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1}function lk(e){if(!vu||!e||typeof e!="object")return!1;try{vu.call(e);try{gu.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function sk(e){if(!Ho||!e||typeof e!="object")return!1;try{Ho.call(e,Ho);try{Vo.call(e,Vo)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function uk(e){if(!ly||!e||typeof e!="object")return!1;try{return ly.call(e),!0}catch{}return!1}function ck(e){if(!gu||!e||typeof e!="object")return!1;try{gu.call(e);try{vu.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function fk(e){if(!Vo||!e||typeof e!="object")return!1;try{Vo.call(e,Vo);try{Ho.call(e,Ho)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function hk(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function Jw(e,r){if(e.length>r.maxStringLength){var t=e.length-r.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Jw($d.call(e,0,r.maxStringLength),r)+n}var a=zn.call(zn.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,pk);return Kw(a,"single",r)}function pk(e){var r=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return t?"\\"+t:"\\x"+(r<16?"0":"")+U2.call(r.toString(16))}function xo(e){return"Object("+e+")"}function xf(e){return e+" { ? }"}function gy(e,r,t,n){var a=n?Sp(t,n):Wr.call(t,", ");return e+" ("+r+") {"+a+"}"}function dk(e){for(var r=0;r<e.length;r++)if(Qw(e[r],`
`)>=0)return!1;return!0}function vk(e,r){var t;if(e.indent==="	")t="	";else if(typeof e.indent=="number"&&e.indent>0)t=Wr.call(Array(e.indent+1)," ");else return null;return{base:t,prev:Wr.call(Array(r+1),t)}}function Sp(e,r){if(e.length===0)return"";var t=`
`+r.prev+r.base;return t+Wr.call(e,","+t)+`
`+r.prev}function es(e,r){var t=wp(e),n=[];if(t){n.length=e.length;for(var a=0;a<e.length;a++)n[a]=Dn(e,a)?r(e[a],e):""}var i=typeof mf=="function"?mf(e):[],o;if(Bi){o={};for(var l=0;l<i.length;l++)o["$"+i[l]]=i[l]}for(var s in e)Dn(e,s)&&(t&&String(Number(s))===s&&s<e.length||Bi&&o["$"+s]instanceof Symbol||(Xw.call(/[^\w$]/,s)?n.push(r(s,e)+": "+r(e[s],e)):n.push(s+": "+r(e[s],e))));if(typeof mf=="function")for(var u=0;u<i.length;u++)Uw.call(e,i[u])&&n.push("["+r(i[u])+"]: "+r(e[i[u]],e));return n}var t1=Zi,Qi=N2,gk=Z2,yk=Rl,rs=t1("%WeakMap%",!0),ns=t1("%Map%",!0),mk=Qi("WeakMap.prototype.get",!0),xk=Qi("WeakMap.prototype.set",!0),bk=Qi("WeakMap.prototype.has",!0),wk=Qi("Map.prototype.get",!0),Sk=Qi("Map.prototype.set",!0),Ck=Qi("Map.prototype.has",!0),jd=function(e,r){for(var t=e,n;(n=t.next)!==null;t=n)if(n.key===r)return t.next=n.next,n.next=e.next,e.next=n,n},Ak=function(e,r){var t=jd(e,r);return t&&t.value},Tk=function(e,r,t){var n=jd(e,r);n?n.value=t:e.next={key:r,next:e.next,value:t}},Ik=function(e,r){return!!jd(e,r)},Ek=function(){var r,t,n,a={assert:function(i){if(!a.has(i))throw new yk("Side channel does not contain "+gk(i))},get:function(i){if(rs&&i&&(typeof i=="object"||typeof i=="function")){if(r)return mk(r,i)}else if(ns){if(t)return wk(t,i)}else if(n)return Ak(n,i)},has:function(i){if(rs&&i&&(typeof i=="object"||typeof i=="function")){if(r)return bk(r,i)}else if(ns){if(t)return Ck(t,i)}else if(n)return Ik(n,i);return!1},set:function(i,o){rs&&i&&(typeof i=="object"||typeof i=="function")?(r||(r=new rs),xk(r,i,o)):ns?(t||(t=new ns),Sk(t,i,o)):(n||(n={key:{},next:null}),Tk(n,i,o))}};return a},Mk=String.prototype.replace,Ok=/%20/g,bf={RFC1738:"RFC1738",RFC3986:"RFC3986"},zd={default:bf.RFC3986,formatters:{RFC1738:function(e){return Mk.call(e,Ok,"+")},RFC3986:function(e){return String(e)}},RFC1738:bf.RFC1738,RFC3986:bf.RFC3986},kk=zd,wf=Object.prototype.hasOwnProperty,Aa=Array.isArray,_r=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),Fk=function(r){for(;r.length>1;){var t=r.pop(),n=t.obj[t.prop];if(Aa(n)){for(var a=[],i=0;i<n.length;++i)typeof n[i]<"u"&&a.push(n[i]);t.obj[t.prop]=a}}},e1=function(r,t){for(var n=t&&t.plainObjects?Object.create(null):{},a=0;a<r.length;++a)typeof r[a]<"u"&&(n[a]=r[a]);return n},Pk=function e(r,t,n){if(!t)return r;if(typeof t!="object"){if(Aa(r))r.push(t);else if(r&&typeof r=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wf.call(Object.prototype,t))&&(r[t]=!0);else return[r,t];return r}if(!r||typeof r!="object")return[r].concat(t);var a=r;return Aa(r)&&!Aa(t)&&(a=e1(r,n)),Aa(r)&&Aa(t)?(t.forEach(function(i,o){if(wf.call(r,o)){var l=r[o];l&&typeof l=="object"&&i&&typeof i=="object"?r[o]=e(l,i,n):r.push(i)}else r[o]=i}),r):Object.keys(t).reduce(function(i,o){var l=t[o];return wf.call(i,o)?i[o]=e(i[o],l,n):i[o]=l,i},a)},Lk=function(r,t){return Object.keys(t).reduce(function(n,a){return n[a]=t[a],n},r)},Rk=function(e,r,t){var n=e.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Sf=1024,Dk=function(r,t,n,a,i){if(r.length===0)return r;var o=r;if(typeof r=="symbol"?o=Symbol.prototype.toString.call(r):typeof r!="string"&&(o=String(r)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var l="",s=0;s<o.length;s+=Sf){for(var u=o.length>=Sf?o.slice(s,s+Sf):o,f=[],c=0;c<u.length;++c){var h=u.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===kk.RFC1738&&(h===40||h===41)){f[f.length]=u.charAt(c);continue}if(h<128){f[f.length]=_r[h];continue}if(h<2048){f[f.length]=_r[192|h>>6]+_r[128|h&63];continue}if(h<55296||h>=57344){f[f.length]=_r[224|h>>12]+_r[128|h>>6&63]+_r[128|h&63];continue}c+=1,h=65536+((h&1023)<<10|u.charCodeAt(c)&1023),f[f.length]=_r[240|h>>18]+_r[128|h>>12&63]+_r[128|h>>6&63]+_r[128|h&63]}l+=f.join("")}return l},Bk=function(r){for(var t=[{obj:{o:r},prop:"o"}],n=[],a=0;a<t.length;++a)for(var i=t[a],o=i.obj[i.prop],l=Object.keys(o),s=0;s<l.length;++s){var u=l[s],f=o[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(t.push({obj:o,prop:u}),n.push(f))}return Fk(t),r},_k=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},Nk=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},$k=function(r,t){return[].concat(r,t)},jk=function(r,t){if(Aa(r)){for(var n=[],a=0;a<r.length;a+=1)n.push(t(r[a]));return n}return t(r)},r1={arrayToObject:e1,assign:Lk,combine:$k,compact:Bk,decode:Rk,encode:Dk,isBuffer:Nk,isRegExp:_k,maybeMap:jk,merge:Pk},n1=Ek,Js=r1,Wo=zd,zk=Object.prototype.hasOwnProperty,a1={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,t){return r+"["+t+"]"},repeat:function(r){return r}},Vr=Array.isArray,Hk=Array.prototype.push,i1=function(e,r){Hk.apply(e,Vr(r)?r:[r])},Vk=Date.prototype.toISOString,yy=Wo.default,ge={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Js.encode,encodeValuesOnly:!1,format:yy,formatter:Wo.formatters[yy],indices:!1,serializeDate:function(r){return Vk.call(r)},skipNulls:!1,strictNullHandling:!1},Wk=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},Cf={},Gk=function e(r,t,n,a,i,o,l,s,u,f,c,h,p,d,v,g,y,m){for(var b=r,x=m,w=0,S=!1;(x=x.get(Cf))!==void 0&&!S;){var A=x.get(r);if(w+=1,typeof A<"u"){if(A===w)throw new RangeError("Cyclic object value");S=!0}typeof x.get(Cf)>"u"&&(w=0)}if(typeof f=="function"?b=f(t,b):b instanceof Date?b=p(b):n==="comma"&&Vr(b)&&(b=Js.maybeMap(b,function(N){return N instanceof Date?p(N):N})),b===null){if(o)return u&&!g?u(t,ge.encoder,y,"key",d):t;b=""}if(Wk(b)||Js.isBuffer(b)){if(u){var I=g?t:u(t,ge.encoder,y,"key",d);return[v(I)+"="+v(u(b,ge.encoder,y,"value",d))]}return[v(t)+"="+v(String(b))]}var k=[];if(typeof b>"u")return k;var E;if(n==="comma"&&Vr(b))g&&u&&(b=Js.maybeMap(b,u)),E=[{value:b.length>0?b.join(",")||null:void 0}];else if(Vr(f))E=f;else{var M=Object.keys(b);E=c?M.sort(c):M}var O=s?t.replace(/\./g,"%2E"):t,F=a&&Vr(b)&&b.length===1?O+"[]":O;if(i&&Vr(b)&&b.length===0)return F+"[]";for(var L=0;L<E.length;++L){var D=E[L],_=typeof D=="object"&&typeof D.value<"u"?D.value:b[D];if(!(l&&_===null)){var z=h&&s?D.replace(/\./g,"%2E"):D,X=Vr(b)?typeof n=="function"?n(F,z):F:F+(h?"."+z:"["+z+"]");m.set(r,w);var V=n1();V.set(Cf,m),i1(k,e(_,X,n,a,i,o,l,s,n==="comma"&&g&&Vr(b)?null:u,f,c,h,p,d,v,g,y,V))}}return k},Yk=function(r){if(!r)return ge;if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=r.charset||ge.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Wo.default;if(typeof r.format<"u"){if(!zk.call(Wo.formatters,r.format))throw new TypeError("Unknown format option provided.");n=r.format}var a=Wo.formatters[n],i=ge.filter;(typeof r.filter=="function"||Vr(r.filter))&&(i=r.filter);var o;if(r.arrayFormat in a1?o=r.arrayFormat:"indices"in r?o=r.indices?"indices":"repeat":o=ge.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof r.allowDots>"u"?r.encodeDotInKeys===!0?!0:ge.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:ge.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:ge.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:ge.charsetSentinel,commaRoundTrip:r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?ge.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:ge.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:ge.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:ge.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:ge.encodeValuesOnly,filter:i,format:n,formatter:a,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:ge.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:ge.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:ge.strictNullHandling}},qk=function(e,r){var t=e,n=Yk(r),a,i;typeof n.filter=="function"?(i=n.filter,t=i("",t)):Vr(n.filter)&&(i=n.filter,a=i);var o=[];if(typeof t!="object"||t===null)return"";var l=a1[n.arrayFormat],s=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(t)),n.sort&&a.sort(n.sort);for(var u=n1(),f=0;f<a.length;++f){var c=a[f];n.skipNulls&&t[c]===null||i1(o,Gk(t[c],c,l,s,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var h=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},_i=r1,Cp=Object.prototype.hasOwnProperty,Xk=Array.isArray,le={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:_i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Uk=function(e){return e.replace(/&#(\d+);/g,function(r,t){return String.fromCharCode(parseInt(t,10))})},o1=function(e,r){return e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e},Kk="utf8=%26%2310003%3B",Zk="utf8=%E2%9C%93",Qk=function(r,t){var n={__proto__:null},a=t.ignoreQueryPrefix?r.replace(/^\?/,""):r,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=a.split(t.delimiter,i),l=-1,s,u=t.charset;if(t.charsetSentinel)for(s=0;s<o.length;++s)o[s].indexOf("utf8=")===0&&(o[s]===Zk?u="utf-8":o[s]===Kk&&(u="iso-8859-1"),l=s,s=o.length);for(s=0;s<o.length;++s)if(s!==l){var f=o[s],c=f.indexOf("]="),h=c===-1?f.indexOf("="):c+1,p,d;h===-1?(p=t.decoder(f,le.decoder,u,"key"),d=t.strictNullHandling?null:""):(p=t.decoder(f.slice(0,h),le.decoder,u,"key"),d=_i.maybeMap(o1(f.slice(h+1),t),function(g){return t.decoder(g,le.decoder,u,"value")})),d&&t.interpretNumericEntities&&u==="iso-8859-1"&&(d=Uk(d)),f.indexOf("[]=")>-1&&(d=Xk(d)?[d]:d);var v=Cp.call(n,p);v&&t.duplicates==="combine"?n[p]=_i.combine(n[p],d):(!v||t.duplicates==="last")&&(n[p]=d)}return n},Jk=function(e,r,t,n){for(var a=n?r:o1(r,t),i=e.length-1;i>=0;--i){var o,l=e[i];if(l==="[]"&&t.parseArrays)o=t.allowEmptyArrays&&a===""?[]:[].concat(a);else{o=t.plainObjects?Object.create(null):{};var s=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=t.decodeDotInKeys?s.replace(/%2E/g,"."):s,f=parseInt(u,10);!t.parseArrays&&u===""?o={0:a}:!isNaN(f)&&l!==u&&String(f)===u&&f>=0&&t.parseArrays&&f<=t.arrayLimit?(o=[],o[f]=a):u!=="__proto__"&&(o[u]=a)}a=o}return a},tF=function(r,t,n,a){if(r){var i=n.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,s=n.depth>0&&o.exec(i),u=s?i.slice(0,s.index):i,f=[];if(u){if(!n.plainObjects&&Cp.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var c=0;n.depth>0&&(s=l.exec(i))!==null&&c<n.depth;){if(c+=1,!n.plainObjects&&Cp.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(s[1])}return s&&f.push("["+i.slice(s.index)+"]"),Jk(f,t,n,a)}},eF=function(r){if(!r)return le;if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.decodeDotInKeys<"u"&&typeof r.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(r.decoder!==null&&typeof r.decoder<"u"&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof r.charset>"u"?le.charset:r.charset,n=typeof r.duplicates>"u"?le.duplicates:r.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof r.allowDots>"u"?r.decodeDotInKeys===!0?!0:le.allowDots:!!r.allowDots;return{allowDots:a,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:le.allowEmptyArrays,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:le.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:le.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:le.arrayLimit,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:le.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:le.comma,decodeDotInKeys:typeof r.decodeDotInKeys=="boolean"?r.decodeDotInKeys:le.decodeDotInKeys,decoder:typeof r.decoder=="function"?r.decoder:le.decoder,delimiter:typeof r.delimiter=="string"||_i.isRegExp(r.delimiter)?r.delimiter:le.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:le.depth,duplicates:n,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:le.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:le.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:le.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:le.strictNullHandling}},rF=function(e,r){var t=eF(r);if(e===""||e===null||typeof e>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Qk(e,t):e,a=t.plainObjects?Object.create(null):{},i=Object.keys(n),o=0;o<i.length;++o){var l=i[o],s=tF(l,n[l],t,typeof e=="string");a=_i.merge(a,s,t)}return t.allowSparse===!0?a:_i.compact(a)},nF=qk,aF=rF,iF=zd,oF={formats:iF,parse:aF,stringify:nF};const lF=Xu(oF),be=async(e={sourceType:"json",id:"",source:"",sourceField:""},r={})=>{var t,n;if(e.sourceType==="json")return{ret:0,data:e.source};if(e.sourceType==="api"||e.actionType==="request"||e.actionType==="download"){if(!e.id)return{ret:0,data:""};const a=At.getState().page.apis,{method:i,stgApi:o,preApi:l,prdApi:s,contentType:u,replaceData:f="merge",isCors:c=!0,params:h,result:p,tips:d}=a[e.id]||{},v=l1(i,f,h,r),g=Zs(o,r),y=Zs(l,r),m=Zs(s,r);v.url=Hg().env==="stg"?g:Hg().env==="pre"?y:m,v.isCors=c;let b=null;try{if(e.actionType==="download"){if(b=await Ai.download(v.url,v.data,{...v,filename:e.filename})||{},b.data instanceof Blob)return{ret:0,data:b.data,msg:""}}else i==="GET"||i==="DELETE"?b=await Ai.get(v.url,v)||{}:(v.headers={...v.headers,"Content-Type":u},b=await Ai.post(v.url,u==="application/x-www-form-urlencoded"?lF.stringify(v.data):v.data,v)||{})}catch(k){b={status:200,data:{ret:500,msg:k}}}let x=b.data;Array.isArray(x)&&(x={ret:0,data:x,msg:""});const w=p.code?Number(x[p.code]):0,S=p.data?x[p.data]:x,A=p.msg?x[p.msg]:"";w===p.codeValue?d!=null&&d.success&&Or.success(d.success):d!=null&&d.isError&&A?Or.error(A):d!=null&&d.fail&&Or.error(d==null?void 0:d.fail);let I=S;return typeof e.sourceField=="object"?e.sourceField.type==="static"?I=e.sourceField.value?dp(S,e.sourceField.value):S:I=Va(e.sourceField.value,S):typeof e.sourceField=="string"&&e.sourceField&&(I=dp(S,e.sourceField)),{ret:w,data:I,originData:S,msg:A}}else return(t=e.name)!=null&&t.value?{ret:0,data:Va((n=e.name)==null?void 0:n.value)}:{ret:0,data:""}},l1=(e,r,t=[],n)=>{const a=Ld(t,n);let i={};return r==="merge"?Array.isArray(n)||typeof n!="object"?Object.keys(a).length>0?i=a:i=n:i={...a,...n}:r==="cover"&&(nl(n)&&Object.keys(n).length>0||!nl(n)&&n)?i=n:i=a,e==="GET"||e==="DELETE"?{params:i}:{data:i}};function Lo(e,r=!0){var a,i;let t=null,n=null;for(const o of e){if(o.type==="start"||o.type==="end")continue;let l={action:{...o.config}};if(o.type==="condition"){const s=Lo(((a=o.children.find(c=>c.title==="成功"))==null?void 0:a.children)||[],!0),u=Lo(((i=o.children.find(c=>c.title==="失败"))==null?void 0:i.children)||[],!1),f=e.slice(e.indexOf(o)+1).filter(c=>c.type!=="end");if(l={success:s,fail:u},!n)t=l;else if(r)if(!n.next)n.next=l;else{let c=n.next;for(;c.next;)c=c.next;c.next=l}else if(!n.fail)n.fail=l;else{let c=n.fail;for(;c.next;)c=c.next;c.next=l}if(n=l,f.length>0){let c=Lo(f,!0);if(!n.success)n.success=c;else{let p=n.success;for(;p.next;)p=p.next;for(;c.action;)p.next={action:c.action},p=p.next,c=c.next||{}}let h=Lo(f,!0);if(!n.fail)n.fail=h;else{let p=n.fail;for(;p.next;)p=p.next;for(;h.action;)p.next={action:h.action},p=p.next,h=h.next||{}}}}else if(!n)t=n=l;else if(r)if(!n.next)n.next=l;else{let s=n.next;for(;s.next;)s=s.next;s.next=l}else if(!n.next)n.next=l;else{let s=n.next;for(;s.next;)s=s.next;s.next=l}}return t}function Ga(e=[],r){const t=Lo(e);t!=null&&t.action&&Qt(t,r)}const Qt=(e,r={})=>{if(!(!e||!(e!=null&&e.action)))try{const t=sF(e.action.data,r);delete e.action.data,e.action=Fw(e.action),e.action.actionType==="methods"?s1(e,t):e.action.actionType==="showConfirm"?uF(e,t):e.action.actionType==="message"?cF(e,t):e.action.actionType==="notifacation"?fF(e,t):e.action.actionType==="request"||e.action.actionType==="download"?hF(e,t):e.action.actionType==="openModal"?my(e,t,"open"):e.action.actionType==="closeModal"?my(e,t,"close"):e.action.actionType==="jumpLink"?pF(e,t):e.action.actionType==="reloadPage"?window.location.reload():e.action.actionType==="variable"?dF(e,t):e.action.actionType==="copy"?vF(e,t):e.action.actionType==="setTimeout"?gF(e,t):e.action.actionType==="visible"?yF(e,t):e.action.actionType==="disable"?mF(e,t):e.action.actionType==="sendMessage"?xF(e,t):e.action.actionType==="createNode"?bF(e,t):e.action.actionType==="script"&&wF(e,t)}catch(t){console.error(`事件流[${e.actionType}执行异常]`,t)}},sF=(e=[],r={})=>{const t=Ld(e,r);return!(e!=null&&e.length)&&(Array.isArray(r)||typeof r=="string"||typeof r=="number"||typeof r=="boolean")?r:(r&&Object.keys(r).forEach(n=>{n&&typeof r[n]<"u"&&r[n]!=null&&(t[n]=r[n])}),Fw(t))};async function s1({action:e,next:r},t={}){var a;const n=Ju(e.target);if(!n){sessionStorage.setItem("mars-event-flow-wait","1"),Number(sessionStorage.getItem("mars-event-flow-wait"))<10?setTimeout(()=>{s1({action:e,next:r},t)},100):console.error("组件加载超时，请检查组件是否存在");return}try{const i=await((a=n==null?void 0:n[e.method])==null?void 0:a.call(n,{...t}));typeof i=="boolean"?Qt(i?(r==null?void 0:r.success)||r:r==null?void 0:r.fail,t):setTimeout(()=>{(Array.isArray(i)||typeof i!="object")&&Pr(i)?Qt((r==null?void 0:r.success)||r,i):Qt((r==null?void 0:r.success)||r,Object.assign(t,i||{}))})}catch(i){Qt(r==null?void 0:r.fail,t),console.error(`【${e.method}】方法调用失败：`,i)}}async function my({action:e,next:r},t={},n){const a=Ju(e.target);n==="close"&&a.close({...t}),n==="open"&&await a.open({...t}),Qt(r,t)}const uF=({action:e,next:r},t)=>{var n,a;(a=(n=FE)[e.type])==null||a.call(n,{title:e.title,content:e.content,okText:e.okText,cancelText:e.cancelText,onOk:()=>{Qt((r==null?void 0:r.success)||r,t)},onCancel:()=>{Qt(r==null?void 0:r.fail,t)}})},cF=({action:e,next:r},t)=>{Or.open({type:e.type,content:e.content,duration:e.duration}).then(()=>{Qt(r,t)})},fF=({action:e,next:r},t)=>{PE.open({type:e.type,message:e.message,description:e.description,placement:e.placement,duration:e.duration}),Qt(r,t)},hF=async({action:e,next:r},t)=>{const n=await be(e,t);n.ret===0?Qt((r==null?void 0:r.success)||r,n.data):Qt(r==null?void 0:r.fail,n.msg)},pF=async({action:e,next:r},t)=>{var a;const n=new URLSearchParams(t);if(e.jumpType==="route"){const i=`${e.url}${e.url.indexOf("?")>-1?"&":"?"}${n}`;LE.navigate(i)}else if(e.jumpType==="micro")window.microApp||console.warn("跨服务跳转：当前页面不在微应用环境中，无法跳转"),(a=window.microApp)==null||a.dispatch({type:"router",path:e.url,data:t});else if(e.jumpType==="link"){const i=`${e.url}${e.url.indexOf("?")>-1?"&":"?"}${n}`;e.isNewWindow?window.open(i):window.location.href=i}},dF=({action:e,next:r},t)=>{let n=e.assigmentType==="reset"?void 0:t[e.name];e.assigmentType==="reset"?n=void 0:e.assigmentType==="assigment"&&(e.assigmentWay==="static"?n=e.value:n=t),At.getState().setVariableData({name:e.name,value:n}),Qt(r,t)},vF=async({action:e,next:r},t)=>{try{const n=Zs(e.content,t||{});await GE(n),Qt(r,t)}catch(n){console.log("执行复制行为：",n)}},gF=async({action:e,next:r},t)=>{setTimeout(()=>{Qt(r,t)},e.duration*1e3)},yF=async({action:e,next:r},t)=>{const n=Ju(e.target);e.showType==="static"?e.showResult==="show"?n.show({...t}):n.hide({...t}):e.expression?n.show({...t}):n.hide({...t}),Qt(r,t)},mF=async({action:e,next:r},t)=>{const n=Ju(e.target);if(e.disableType==="static")e.disableResult?n.disable({...t}):n.enable({...t});else{const i=(e.expression??{}).value;Va(i)?n.disable({...t}):n.enable({...t})}Qt(r,t)},xF=async({action:e,next:r},t)=>{const n=await Ai.post("https://mars-api.huolala.work/api/robot/sendMessage",{...e,variables:t});n.data.ret===0?Qt((r==null?void 0:r.success)||r,n.data.data):Qt(r==null?void 0:r.fail,n.msg)},bF=async({action:e,next:r},t)=>{const n=await Ai.post("https://mars-api.huolala.work/api/robot/createNode",{...e,variables:t});n.data.ret===0?Qt((r==null?void 0:r.success)||r,n.data.data):Qt(r==null?void 0:r.fail,n.msg)},wF=async({action:e,next:r},t)=>{const n=Va(e.scripts,t);typeof n=="boolean"?Qt(n?(r==null?void 0:r.success)||r:r==null?void 0:r.fail,t):Qt((r==null?void 0:r.success)||r,n||t)},SF=window.React;function CF(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[n,a]of e)if(!Object.is(a,r.get(n)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const n of e)if(!r.has(n))return!1;return!0}const t=Object.keys(e);if(t.length!==Object.keys(r).length)return!1;for(const n of t)if(!Object.prototype.hasOwnProperty.call(r,n)||!Object.is(e[n],r[n]))return!1;return!0}const{useRef:AF}=SF;function u1(e){const r=AF();return t=>{const n=e(t);return CF(r.current,n)?r.current:r.current=n}}const TF=window.React,IF=window.React.Suspense,EF=window.React.forwardRef,c1=window.React.memo,xy=window.React.useEffect,by=window.React.useState,MF=window.dayjs,wy=window.antd,sr=c1(({elements:e=[]})=>C.jsx(C.Fragment,{children:e.map(r=>r?C.jsx(Hd,{item:r},r.id):C.jsx(C.Fragment,{}))})),Hd=c1(({item:e})=>{const[r,t]=by(null),[n,a]=by(),{elementsMap:i,variableData:o,formData:l}=At(u1(h=>({elementsMap:h.page.elementsMap,variables:h.page.variables,variableData:h.page.variableData,formData:h.page.formData})));function s(){window.React=window.React||TF,window.dayjs=window.dayjs||MF,window.antd=window.antd||wy}xy(()=>{i[e.id].remoteUrl?(s(),YE(e.type,i[e.id].remoteCssUrl),import(i[e.id].remoteUrl||"").then(h=>{t(()=>EF(h.default))})):t(or[e.type]),a(i[e.id].config)},[]),xy(()=>{a(()=>RE(i[e.id].config,h=>{u(h),f(h)}))},[o,l,i]);const u=h=>{var p,d,v,g,y;if((p=h.props)!=null&&p.formItem){const m=((d=h.props)==null?void 0:d.formItem.rules)||[];m.map(w=>{w.pattern&&(w.pattern=new RegExp(w.pattern))}),h.props.formItem.rules=m,(v=e.parentId)!=null&&v.startsWith("FormList")&&h.props.formItem.name&&(h.props.formItem.name=[e.name,h.props.formItem.name]);const{labelCol:b,wrapperCol:x}=h.props.formItem;ne(b==null?void 0:b.span)&&ne(b==null?void 0:b.offset)&&((g=h.props.formItem)==null||delete g.labelCol),ne(x==null?void 0:x.span)&&ne(x==null?void 0:x.offset)&&((y=h.props.formItem)==null||delete y.wrapperCol)}},f=h=>{Object.keys(h.props||{}).map(p=>{const d=h.props[p];typeof d=="object"&&((d==null?void 0:d.type)==="static"?h.props[p]=d.value:(d==null?void 0:d.type)==="variable"&&(h.props[p]=Va(d.value)))})},c=()=>{const h={},p=(n==null?void 0:n.events)||[];if(!(p!=null&&p.length))return{};const d={};p.forEach(v=>{var g;((g=v.actions)==null?void 0:g.length)>0&&(d[v.eventName]=(d[v.eventName]||[]).concat([v.actions]))});for(const v in d)h[v]=g=>{d[v].forEach(y=>{Ga(y,g)})};return h};return r?C.jsx(IF,{fallback:C.jsx(wy.Spin,{spinning:!0,tip:"加载中..."}),children:C.jsx(r,{className:["mars-component"],id:e.id,type:e.type,config:n,elements:e.elements||[],...c(),ref:h=>zO(e.id,h)})}):null}),OF=window.React.useEffect,kF=()=>{const{config:e,elements:r}=At(t=>({config:t.page.config,elements:t.page.elements}));return OF(()=>{var t;(t=e.events)==null||t.forEach(n=>{var a;((a=n.actions)==null?void 0:a.length)>0&&Ga(n.actions,{})})},[e.events]),C.jsx("div",{style:e.style,id:"page",children:C.jsx(sr,{elements:r||[]})})},FF=kF,PF={attrs:[{key:"PageSet",type:"Title",label:"页面配置"},{key:"PageName",type:"ColorPicker",label:"主题色",name:["theme"]}],config:{props:{theme:"#1677ff"},style:{color:"#000",backgroundColor:"#fff",padding:"20px"},scopeCss:"",scopeStyle:{color:"#000",backgroundColor:"#fff",padding:"20px"},events:[],api:{sourceType:"json",id:"",source:{},sourceField:""}},events:[{value:"onLoad",name:"初始化事件"}]},LF="_toolbar_168fr_1",RF="_title_168fr_7",DF="_action_168fr_11",BF="_slots_168fr_17",_F="_actionList_168fr_26",as={toolbar:LF,title:RF,action:DF,slots:BF,actionList:_F},NF=window.React,$F=window.React.forwardRef,jF=window.React.memo,zF=window.React.useEffect,HF=window.React.useImperativeHandle,An=window.React.useState,is=window.antd.Button,VF=window.antd.Table,Af=window.antd.Image,Tf=window.antd.Tag,Sy=window.antd.Tooltip,Cy=window.antd.Typography,If=window.antd.Badge,WF=({id:e,type:r,config:t,elements:n,onCheckedChange:a},i)=>{var V,N,P,j,H,Y,G;const[o,l]=An({}),[s,u]=An({[t.props.field.pageNum]:1,[t.props.field.pageSize]:t.props.pagination.pageSize}),[f,c]=An([]),[h,p]=An(!1),[d,v]=An(0),[g,y]=An([]),[m,b]=An([]),[x,w]=An(!0),{addChildElements:S,variableData:A,updateToolbar:I}=At(R=>({addChildElements:R.addChildElements,variableData:R.page.variableData,updateToolbar:R.updateToolbar}));zF(()=>{u(()=>{const R={[t.props.field.pageNum]:1,[t.props.field.pageSize]:t.props.pagination.pageSize};return k(t.props.hidePager?{}:R),R})},[t.api,t.props.field,((V=t.api)==null?void 0:V.sourceType)=="variable"?A:""]);const k=R=>{p(!0),be(t.api,R).then(W=>{p(!1),I(),(W==null?void 0:W.ret)===0&&(Array.isArray(W.data)&&c(W.data),t.props.field.total&&v(W.originData[t.props.field.total]||0))}).catch(()=>{p(!1)})},[,E]=lr({accept:"MENU_ITEM",drop(R,W){if(W.didDrop())return;const{config:U,events:K,methods:tt=[]}=or[R.type+"Config"]||{};S({type:R.type,name:R.name,parentId:e,id:R.id,config:U,events:K,methods:tt})},collect:R=>({isOver:R.isOver(),canDrop:R.canDrop()})});HF(i,()=>({startLoading:()=>{p(!0)},stopLoading:()=>{p(!1)},show(){w(!0)},hide(){w(!1)},search:R=>{const W=WM(R,U=>Pr(U));u({...s,[t.props.field.pageNum]:1}),l(W),k({...s,[t.props.field.pageNum]:1,...W})},reload:()=>{k({...s,...o})},clearData:()=>{c([])},checkSelectedRow:()=>g.length!==0,setSelectedRowKeys:R=>{y(R)},getSelectedRowKeys:()=>g||[],getSelectedRow:()=>m}));let M=null;t.props.selectionType&&(M={type:t.props.selectionType,selectedRowKeys:g,onChange(R,W){a==null||a(R),y(R),b(W)}});const O={rowSelection:M,rowKey:t.props.rowKey||"id",bordered:t.props.bordered,size:t.props.size,columns:t.props.columns.map((R,W)=>({...R,key:R.dataIndex||W,onCell(U,K){if(R.onCell)try{return new Function("record","index",`return (${R.onCell})(record,index);`)(U,K)}catch(tt){console.error(`列[${R.title}]渲染失败`,tt)}return{}},render(U,K,tt){var vt;let rt=U;if(Pr(rt)?R.type==="money"?rt=Xr(U,"currency"):R.type==="number"?rt=Xr(U):R.type==="date1"?rt=Ri(U,"YYYY-MM-DD"):R.type==="date2"&&(rt=Ri(U)):typeof t.props.empty>"u"?rt="-":t.props.empty&&(rt=t.props.empty),R.render)try{rt=new Function("text","record","index",`return (${R.render})(text,record,index);`)(rt,K,tt)}catch(st){console.error(`列[${R.title}]渲染失败`,st),rt="解析异常"}if(R.type==="text"){const st=C.jsx(is,{type:"link",onClick:()=>D(R.eventName,K),children:rt.toString()});return R.ellipsis&&R.copyable?C.jsx(Sy,{title:rt,children:C.jsx(Cy.Paragraph,{copyable:!0,style:{marginBottom:0},children:R.clickable?st:rt.toString()})}):R.ellipsis?C.jsx(Sy,{title:rt,children:R.clickable?st:rt.toString()}):R.copyable?C.jsx(Cy.Paragraph,{copyable:!0,children:R.clickable?st:rt.toString()}):R.clickable?C.jsx(is,{type:"link",onClick:()=>D(R.eventName,K),children:rt.toString()}):rt.toString()}return R.type==="multiline"?Array.isArray(rt)?rt.map((st,yt)=>C.jsxs("div",{children:[C.jsx("span",{children:st.label}),C.jsx("span",{children:st.value})]},yt)):rt.toString():R.type==="status"?Array.isArray(rt)?rt.map((st,yt)=>C.jsx(If,{status:st.status,text:st.text},yt)):typeof rt=="object"?C.jsx(If,{status:rt.status,text:rt.text}):C.jsx(If,{status:"success",text:rt.toString()}):R.type==="image"?Array.isArray(rt)?C.jsx(Af.PreviewGroup,{items:rt,children:C.jsx(Af,{width:30,src:rt[0]})}):C.jsx(Af,{src:rt,width:30}):R.type==="tag"?Array.isArray(rt)?rt.map((st,yt)=>typeof st=="object"?C.jsx(Tf,{color:st.color,children:st.label},yt):C.jsx(Tf,{color:"green",children:st},st)):typeof rt=="string"||typeof rt=="number"?C.jsx(Tf,{color:"green",children:rt}):rt==null?void 0:rt.toString():R.type==="action"?C.jsx("div",{className:as.action,children:(vt=R.list)==null?void 0:vt.map(st=>{var Lt;let yt="";if(typeof st.text=="string")yt=st.text;else if(((Lt=st.text)==null?void 0:Lt.type)==="static")yt=st.text.value;else try{yt=new Function("text","record","index",`return (${st.text.value})(text,record,index);`)("",K,tt)}catch(Vt){console.error(`列[${st.title}]渲染失败`,Vt),yt="解析异常"}return C.jsx(is,{type:"link",size:"small",danger:st.danger,onClick:()=>D(st.eventName,K),children:yt},st.eventName)})}):rt}})),dataSource:f,loading:h},F={total:d,current:s[t.props.field.pageNum]||1,pageSize:s[t.props.field.pageSize]||10,showSizeChanger:(N=t.props.pagination)==null?void 0:N.showSizeChanger,showQuickJumper:(P=t.props.pagination)==null?void 0:P.showQuickJumper,showTotal:(j=t.props.pagination)!=null&&j.showTotal?R=>`共 ${R} 条数据`:void 0,position:(H=t.props.pagination)==null?void 0:H.position,onChange:(R,W)=>{u({[t.props.field.pageNum]:R,[t.props.field.pageSize]:W}),k({[t.props.field.pageNum]:R,[t.props.field.pageSize]:W})}},L=R=>{const W=t.events.find(U=>U.eventName===R);Ga(W==null?void 0:W.actions,o)},D=(R,W)=>{const U=t.events.find(K=>K.eventName===R);Ga(U==null?void 0:U.actions,W)},_=t.props.leftTitle,z=t.props.bulkActionList||[],X=Jr;return x&&C.jsxs("div",{"data-id":e,"data-type":r,style:t.style,children:[_||n!=null&&n.length||z.length?C.jsxs("div",{className:as.toolbar,children:[t.props.leftTitle&&C.jsx("div",{className:as.title,children:t.props.leftTitle}),C.jsxs("div",{className:as.action,ref:E,children:[n!=null&&n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",children:"拖拽子元素到这里，一般用来放表单"}),z==null?void 0:z.map(R=>C.jsx(is,{type:R.type,danger:R.danger,icon:R.icon?NF.createElement(X[R.icon]):null,onClick:()=>L(R.eventName),children:R.text},R.eventName))]})]}):null,C.jsx(VF,{...O,scroll:{x:(Y=t.props.scroll)==null?void 0:Y.x,y:(G=t.props.scroll)==null?void 0:G.y},pagination:t.props.hidePager?!1:F})]})},GF=jF($F(WF)),Go=window.antd.Input,YF=window.antd.Modal,ue=window.antd.Form,yr=window.antd.Col,Ii=window.antd.Row,Tr=window.antd.Select,os=window.antd.Switch,Ay=window.antd.Button,qF=window.antd.Card,Ty=window.antd.InputNumber,Tn=window.antd.Radio,XF=window.antd.Tabs,ls=window.antd.Tooltip,ss=window.antd.Flex,UF=window.React.useImperativeHandle,Iy=window.React.useState,KF=window.React.memo,ZF=window.React.useMemo,QF=KF(e=>{const[r,t]=Iy(!1),[n,a]=Iy(0),[i]=Mw(),{selectedElement:o,elementsMap:l,editTableProps:s,editEvents:u}=At(p=>({selectedElement:p.selectedElement,elementsMap:p.page.elementsMap,editTableProps:p.editTableProps,editEvents:p.editEvents}));UF(e.columnRef,()=>({open(p){const v=l[o==null?void 0:o.id].config.props.columns[p],g=v.render||`function render(text, record, index) {
    return text;
}`;i.resetFields(),i.setFieldsValue({align:"center",fixed:!1,type:"text",empty:"-",...v,render:g,onCell:v.onCell||`function onCell(record, index) {
    // 此处可以设置数据跨行、跨列
    return {

    }
}`}),a(p),t(!0)}}));const f=ZF(()=>[{key:"basic",label:"基础配置",children:C.jsx(JF,{})},{key:"display",label:"展示配置",forceRender:!0,children:C.jsx(tP,{})},{key:"custom",label:"自定义",forceRender:!0,children:C.jsx(eP,{})}],[]),c=()=>{i.validateFields().then(()=>{var m,b;const p=i.getFieldsValue(),d=l[o==null?void 0:o.id],v=Ll(`ClickCell${p.dataIndex}`);p.clickable?p.eventName=p.eventName||v:p.eventName="",s({id:o==null?void 0:o.id,type:"column",index:n,props:{...p,key:p.dataIndex||n}});let g=(m=d.events)==null?void 0:m.filter(x=>x.value.indexOf("Dynamic")==-1);(b=p.list)==null||b.map((x,w)=>{var A,I;let S="";typeof x.text=="string"||((A=x.text)==null?void 0:A.type)==="static"?S="操作列"+(((I=x.text)==null?void 0:I.value)||x.text)+"事件":S=`操作列动态按钮${w+1}事件`,g.push({name:S,value:x.eventName})});const y=d.config.props.columns[n].eventName;g=g.filter(x=>x.value!=y),p.clickable&&g.push({name:`列${p.title}事件`,value:p.eventName||v}),u({id:d.id,events:g}),e.update(p,n),t(!1)})},h=()=>{t(!1)};return C.jsx(YF,{title:"列设置",open:r,onOk:c,onCancel:h,width:900,children:C.jsx(ue,{form:i,labelCol:{span:6},children:C.jsx(XF,{items:f})})})}),JF=()=>C.jsxs(C.Fragment,{children:[C.jsxs(Ii,{children:[C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"列头",name:"title",rules:[{required:!0,message:"请输入列名"}],children:C.jsx(Go,{})})}),C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"字段",name:"dataIndex",rules:[{required:!0,message:"请输入字段名称"}],children:C.jsx(Go,{})})})]}),C.jsxs(Ii,{children:[C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"宽度",name:"width",children:C.jsx(Ty,{placeholder:"eg: 100"})})}),C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"对齐",name:"align",children:C.jsxs(Tn.Group,{buttonStyle:"solid",children:[C.jsx(Tn.Button,{value:"left",children:"居左"}),C.jsx(Tn.Button,{value:"center",children:"居中"}),C.jsx(Tn.Button,{value:"right",children:"居右"})]})})})]}),C.jsxs(Ii,{children:[C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"固定方式",name:"fixed",children:C.jsxs(Tn.Group,{buttonStyle:"solid",children:[C.jsx(Tn.Button,{value:"",children:"默认"}),C.jsx(Tn.Button,{value:"left",children:"居左"}),C.jsx(Tn.Button,{value:"right",children:"居右"})]})})}),C.jsx(yr,{span:12,children:C.jsx(ue.Item,{label:"表头跨列",name:"colSpan",children:C.jsx(Ty,{placeholder:"eg: 3"})})})]})]}),tP=()=>{const e={labelCol:{span:4},wrapperCol:{span:8}};return C.jsxs(C.Fragment,{children:[C.jsx(ue.Item,{label:"显示格式",name:"type",...e,children:C.jsxs(Tr,{children:[C.jsx(Tr.Option,{value:"text",children:"单行文本"}),C.jsx(Tr.Option,{value:"multiline",children:C.jsxs(ss,{justify:"space-between",children:[C.jsx("span",{children:"多行文本"}),C.jsx("span",{children:C.jsx(ls,{title:"需要返回数组格式：[{label: '名称',value: 'Jack'}]",children:C.jsx(Jl,{})})})]})}),C.jsx(Tr.Option,{value:"status",children:C.jsxs(ss,{justify:"space-between",children:[C.jsx("span",{children:"状态"}),C.jsx("span",{children:C.jsx(ls,{title:"需要返回数组格式：[{status: 'success',text: '提交完成'}]",children:C.jsx(Jl,{})})})]})}),C.jsx(Tr.Option,{value:"image",children:C.jsxs(ss,{justify:"space-between",children:[C.jsx("span",{children:"图片"}),C.jsx("span",{children:C.jsx(ls,{title:"支持单张和多张预览，多张图片格式：['xxx.png','xxx.jpg']",children:C.jsx(Jl,{})})})]})}),C.jsx(Tr.Option,{value:"date1",children:"日期-不含时分秒"}),C.jsx(Tr.Option,{value:"date2",children:"日期-包含时分秒"}),C.jsx(Tr.Option,{value:"money",children:"金额千分位"}),C.jsx(Tr.Option,{value:"number",children:"数字千分位"}),C.jsx(Tr.Option,{value:"tag",children:C.jsxs(ss,{justify:"space-between",children:[C.jsx("span",{children:"标签"}),C.jsx("span",{children:C.jsx(ls,{title:"支持颜色配置，返回格式：[{label:'名称',color:'green'}]",children:C.jsx(Jl,{})})})]})}),C.jsx(Tr.Option,{value:"action",children:"操作"})]})}),C.jsx(ue.Item,{label:"可点击",name:"clickable",tooltip:"开启后，当前列展示为可点击的link格式，支持事件配置",...e,children:C.jsx(os,{})}),C.jsx(ue.Item,{name:"eventName",hidden:!0,children:C.jsx(Go,{})}),C.jsx(ue.Item,{label:"超长省略",name:"ellipsis",tooltip:"省略后，会自动开启tooltip功能",...e,children:C.jsx(os,{})}),C.jsx(ue.Item,{label:"可复制",name:"copyable",tooltip:"开启后，列增加复制功能，只对文本生效",...e,children:C.jsx(os,{})}),C.jsx(ue.Item,{shouldUpdate:!0,noStyle:!0,children:r=>{if(r.getFieldValue("type")==="action")return C.jsx(ue.List,{name:"list",children:(n,{add:a,remove:i})=>C.jsxs(C.Fragment,{children:[n.map(({key:o,name:l,...s})=>C.jsx(qF,{style:{width:"100%",marginBottom:10},title:"操作按钮设置",size:"small",extra:C.jsx(Ay,{onClick:()=>i(l),icon:C.jsx(NE,{}),type:"text",danger:!0,children:"删除"}),children:C.jsxs(Ii,{gutter:15,style:{marginBottom:-24},children:[C.jsx(yr,{span:6,children:C.jsx(ue.Item,{...s,name:[l,"text"],label:"名称",children:C.jsx(fu,{})})}),C.jsx(yr,{span:4,children:C.jsx(ue.Item,{label:"danger",name:[l,"danger"],labelCol:{span:14},valuePropName:"checked",children:C.jsx(os,{})})}),C.jsx(yr,{span:7,children:C.jsx(ue.Item,{label:"权限标识",tooltip:"项目配置后台对应的按钮code或者uac中对应的按钮filedName",name:[l,"authCode"],children:C.jsx(Go,{placeholder:"按钮Code"})})}),C.jsxs(yr,{span:7,children:[C.jsx(ue.Item,{label:"三方脚本",tooltip:"如果是微服务集成，需要通过脚本来控制按钮权限",name:[l,"authScript"],children:C.jsx(fu,{placeholder:"跨服务时，执行脚本"})}),C.jsx(ue.Item,{name:[l,"eventName"],hidden:!0,children:C.jsx(Go,{})})]})]})},o)),C.jsx("div",{style:{marginTop:15},children:C.jsx(Ay,{type:"dashed",block:!0,onClick:()=>a({text:"按钮",type:"link",eventName:Ll("Dynamic")}),icon:C.jsx(rr,{}),children:"新增操作按钮"})})]})})}})]})},eP=()=>C.jsxs(C.Fragment,{children:[C.jsx(Ii,{children:C.jsx(yr,{span:24,children:C.jsx(ue.Item,{label:"单元格渲染",name:"onCell",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过自定义onCell函数，实现数据跨行、跨列展示。",children:C.jsx(al,{})})})}),C.jsx(Ii,{children:C.jsx(yr,{span:24,children:C.jsx(ue.Item,{label:"自定义渲染",name:"render",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过编程的方式实现值渲染，不支持ReactNode渲染。例如：if(text === 1)return '在线'; ",children:C.jsx(al,{})})})})]}),rP=window.React.useRef,Ey=window.antd.Form,My=window.antd.Input,nP=window.antd.Space,aP=({index:e,move:r,handleOpen:t,add:n,remove:a})=>{const i=rP(null),[,o]=lr({accept:"card",hover(c,h){var b;if(!i.current)return;const p=c.index,d=e;if(p===d)return;const v=(b=i.current)==null?void 0:b.getBoundingClientRect(),g=(v.bottom-v.top)/2,m=h.getClientOffset().y-v.top;p<d&&m<g||p>d&&m>g||(r(p,d),c.index=d)}}),[{isDragging:l},s]=EO({type:"card",item:()=>({index:e}),collect:c=>({isDragging:c.isDragging()})}),u=l?0:1;s(o(i));const f=Ca("C",5);return C.jsx(C.Fragment,{children:C.jsxs(nP,{style:{display:"flex",marginBottom:15,padding:"0 10px",opacity:u},align:"baseline",ref:i,children:[C.jsx($E,{style:{cursor:"grab"}}),C.jsx(Ey.Item,{wrapperCol:{span:22},name:[e,"title"],noStyle:!0,children:C.jsx(My,{placeholder:"列名称"})}),C.jsx(Ey.Item,{wrapperCol:{span:22},name:[e,"dataIndex"],noStyle:!0,children:C.jsx(My,{placeholder:"列字段",style:{width:"100%"}})}),C.jsx(Ku,{onClick:()=>t(e)}),C.jsx(rr,{onClick:()=>n({title:f,dataIndex:f,width:120},e+1)}),C.jsx(ti,{onClick:()=>a(e)})]})})},iP=window.antd.Form,oP=window.React.memo,lP=window.React.useCallback,sP=window.React.useRef,uP=oP(({form:e})=>{const r=sP(),t=lP(a=>{var i;(i=r.current)==null||i.open(a)},[]),n=(a,i)=>{e.setFieldValue(["columns",i],a)};return C.jsxs(C.Fragment,{children:[C.jsx(iP.List,{name:["columns"],children:(a,{add:i,remove:o,move:l})=>C.jsx(C.Fragment,{children:a.map(({key:s,name:u})=>C.jsx(aP,{index:u,add:i,remove:o,handleOpen:t,move:l},s))})}),C.jsx(QF,{columnRef:r,update:n})]})}),cP=uP,fP=window.React,hP=window.React.useImperativeHandle,Oy=window.React.useState,pP=window.React.memo,Ef=window.antd.Input,dP=window.antd.Modal,Nr=window.antd.Form,ky=window.antd.Select,Fy=window.antd.Switch,vP=window.antd.Radio,gP=pP(e=>{const[r,t]=Oy(!1),[n,a]=Oy(0),[i]=Nr.useForm(),{selectedElement:o,elementsMap:l,editTableProps:s}=At(h=>({selectedElement:h.selectedElement,elementsMap:h.page.elementsMap,editTableProps:h.editTableProps}));hP(e.modalRef,()=>({open(h){const p=l[o==null?void 0:o.id];i.setFieldsValue({danger:!1,...p.config.props.bulkActionList[h]}),a(h),t(!0)}}));const u=()=>{i.validateFields().then(()=>{const h=i.getFieldsValue();s({id:o==null?void 0:o.id,type:"bulkActionList",index:n,props:h}),e.update(h,n),t(!1)})},f=()=>{t(!1)},c=Jr;return C.jsx(dP,{title:"操作按钮设置",open:r,onOk:u,onCancel:f,width:600,destroyOnClose:!0,children:C.jsxs(Nr,{form:i,labelCol:{span:5},wrapperCol:{span:18},children:[C.jsx(Nr.Item,{label:"按钮名称",name:"text",rules:[{required:!0,message:"请输入按钮名称"}],children:C.jsx(Ef,{})}),C.jsx(Nr.Item,{name:"eventName",hidden:!0,children:C.jsx(Ef,{})}),C.jsx(Nr.Item,{label:"按钮类型",name:"type",children:C.jsx(vP.Group,{optionType:"button",buttonStyle:"solid",options:[{label:"主按钮",value:"primary"},{label:"默认",value:"default"},{label:"虚线按钮",value:"dashed"},{label:"文本按钮",value:"text"},{label:"链接按钮",value:"link"}]})}),C.jsx(Nr.Item,{label:"危险按钮",name:"danger",valuePropName:"checked",children:C.jsx(Fy,{})}),C.jsx(Nr.Item,{label:"块状按钮",name:"block",valuePropName:"checked",children:C.jsx(Fy,{})}),C.jsx(Nr.Item,{label:"按钮图标",name:"icon",children:C.jsx(ky,{placeholder:"请选择菜单图表",showSearch:!0,allowClear:!0,children:Object.keys(Jr).filter(h=>!["default","createFromIconfontCN","getTwoToneColor","setTwoToneColor","IconProvider"].includes(h)).map(h=>C.jsx(ky.Option,{value:h,children:fP.createElement(c[h],{style:{fontSize:"24px",verticalAlign:"middle"}})},h))})}),C.jsx(Nr.Item,{name:"authCode",label:"权限标识",children:C.jsx(Ef,{})}),C.jsx(Nr.Item,{name:"authScript",label:"三方脚本",children:C.jsx(fu,{})})]})})}),yP=window.React.memo,mP=window.React.useRef,us=window.antd.Form,Mf=window.antd.Input,xP=window.antd.Space,bP=window.antd.Button,wP=window.ahooks.useDebounceFn,SP=yP(({form:e})=>{const{selectedElement:r,elementsMap:t,editEvents:n}=At(c=>({selectedElement:c.selectedElement,elementsMap:c.page.elementsMap,editEvents:c.editEvents})),a=mP(),i=c=>{c({text:"下载",type:"primary",eventName:Ll("BulkAction")}),l()},o=(c,h)=>{c(h),l()},l=()=>{var p,d;const h=(p=t[r==null?void 0:r.id].events)==null?void 0:p.filter(v=>v.value.indexOf("BulkAction")==-1);(d=e.getFieldValue("bulkActionList"))==null||d.map(v=>{h.push({name:v.text+"事件",value:v.eventName})}),n({id:r==null?void 0:r.id,events:h})},s=c=>{var h;(h=a.current)==null||h.open(c)},{run:u}=wP((c,h)=>{f(c,h)},{wait:500}),f=(c,h)=>{typeof c=="string"?e.setFieldValue(["bulkActionList",h,"text"],c):e.setFieldValue(["bulkActionList",h],c);const p=e.getFieldValue(["bulkActionList",h,"eventName"]),d=t[r==null?void 0:r.id],v=DE(d.events);v.map(g=>(g.value===p&&(typeof c=="string"?g.name=c+"事件":g.name=c.text+"事件"),g)),n({id:r==null?void 0:r.id,events:v})};return C.jsxs(C.Fragment,{children:[C.jsx(us.List,{name:["bulkActionList"],children:(c,{add:h,remove:p})=>C.jsxs(C.Fragment,{children:[c.map(({key:d,name:v,...g})=>C.jsxs(xP,{align:"baseline",children:[C.jsx(us.Item,{...g,labelCol:{span:12},name:[v,"text"],label:"按钮",children:C.jsx(Mf,{placeholder:"请输入按钮名称",onChange:y=>u(y.target.value,v)})}),C.jsx(us.Item,{name:[v,"eventName"],hidden:!0,children:C.jsx(Mf,{})}),C.jsx(us.Item,{name:[v,"type"],hidden:!0,children:C.jsx(Mf,{})}),C.jsx(Ku,{onClick:()=>s(v)}),C.jsx(ti,{onClick:()=>o(p,v)})]},d)),C.jsx("div",{style:{padding:"0 10px 10px"},children:C.jsx(bP,{type:"primary",block:!0,ghost:!0,onClick:()=>i(h),icon:C.jsx(rr,{}),children:"新增"})})]})}),C.jsx(gP,{modalRef:a,update:f})]})}),Vd=SP,CP={attrs:[{type:"Title",label:"操作栏"},{type:"function",render(e){return C.jsx(Vd,{form:e},"ActionSetting")}},{type:"Title",label:"表格配置"},{type:"Input",label:"标题",name:["leftTitle"]},{type:"Switch",label:"显示边框",name:["bordered"]},{type:"Select",label:"表格尺寸",name:["size"],props:{options:[{label:"默认",value:"large"},{label:"中等",value:"middle"},{label:"紧凑",value:"small"}]}},{type:"Select",label:"单选/多选",name:["selectionType"],props:{options:[{label:"无",value:""},{label:"单选",value:"radio"},{label:"多选",value:"checkbox"}]}},{type:"InputNumber",label:"滚动轴(x)",name:["scroll","x"],tooltip:"如果需要横向滚动，请设置x值，尽量比表格实际宽度大",props:{placeholder:"eg: 1000"}},{type:"InputNumber",label:"滚动轴(y)",name:["scroll","y"],tooltip:"如果需要纵向滚动，请设置y值来固定高度",props:{placeholder:"eg: 600"}},{type:"Select",label:"空值显示",name:["empty"],tooltip:"列返回空时，展示的内容",props:{options:[{label:"无",value:""},{label:"-",value:"-"},{label:"/",value:"/"}]}},{type:"Title",label:"列配置",key:"columnConfig"},{type:"Input",label:"rowKey",name:["rowKey"],tooltip:"建议把列表返回的唯一值设置为rowKey",props:{placeholder:"eg: id"}},{type:"function",key:"TableSetting",render(e){return C.jsx(cP,{form:e},"TableSetting")}},{type:"Title",label:"分页配置",key:"pageConfig"},{type:"Switch",label:"隐藏分页",name:["hidePager"]},{type:"Select",label:"显示位置",name:["pagination","position"],props:{mode:"multiple",options:[{label:"左上",value:"topLeft"},{label:"右上",value:"topRight"},{label:"左下",value:"bottomLeft"},{label:"右下",value:"bottomRight"}]}},{type:"InputNumber",label:"每页条数",name:["pagination","pageSize"]},{type:"Switch",label:"显示总条数",name:["pagination","showTotal"]},{type:"Switch",label:"显示切换器",name:["pagination","showSizeChanger"]},{type:"Switch",label:"显示跳转",name:["pagination","showQuickJumper"]},{type:"Title",label:"字段映射",key:"fieldmap"},{type:"Input",label:"页码",name:["field","pageNum"]},{type:"Input",label:"每页步长",name:["field","pageSize"]},{type:"Input",label:"总条数",name:["field","total"]}],config:{props:{rowKey:"id",size:"large",bordered:!0,selectionType:"",leftTitle:"查询列表",empty:"-",columns:[{title:"姓名",dataIndex:"name",key:"name",width:90,align:"center"},{title:"种类",dataIndex:"type",key:"type",width:80,align:"center"},{title:"头像",dataIndex:"avatar",key:"avatar",type:"image",width:90,align:"center"},{title:"分布区域",dataIndex:"area",key:"area",width:230},{title:"繁殖周期",dataIndex:"time",key:"time",render:`function render(text,record){
    return text + "个月"
}`,width:110},{title:"技能",dataIndex:"skill",key:"skill",type:"tag",width:200,align:"center"},{title:"售价",dataIndex:"sales",key:"sales",type:"money",width:90,align:"center"},{title:"状态",dataIndex:"status",key:"status",type:"status",width:90,align:"center",render:`function render(text,record){
    return {
      status: "processing",
      text: text
    }
}`},{title:"创建时间",dataIndex:"createdAt",key:"createdAt",type:"date1",width:130,align:"center"},{title:"操作",key:"action",type:"action",dataIndex:"action",fixed:"right",width:220,align:"center",list:[{text:"详情",type:"link",eventName:"DynamicDetail"},{text:"编辑",type:"link",eventName:"DynamicEdit"},{text:"删除",type:"link",danger:!0,eventName:"DynamicDelete"}]}],hidePager:!1,pagination:{total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,position:["bottomRight"],pageSizeOptions:[10,20,50,100],showTotal:!0},field:{pageNum:"pageNum",pageSize:"pageSize",total:"total"}},style:{background:"#fff",padding:"0 20px",margin:"20px 0 0",border:"1px solid #e6e6e6",borderRadius:"3px"},events:[],api:{sourceType:"json",sourceField:"list",source:[{id:1001,name:"萤火虫",type:"昆虫",avatar:"https://static.huolala.cn/image/64c8745c0bdb2cea429b2b1e8fb86367b6d5a0ab.jpeg",time:10,skill:["飞","发光","御敌"],sales:9.9,status:"在售",createdAt:new Date().getTime(),area:"热带、亚热带和温带地区"}]}},events:[{value:"onCheckedChange",name:"单选/多选事件"},{value:"DynamicDetail",name:"点击查看事件"},{value:"DynamicEdit",name:"点击编辑事件"},{value:"DynamicDelete",name:"点击删除事件"}],methods:[{name:"search",title:"搜索"},{name:"reload",title:"刷新"},{name:"clearData",title:"清空列表"},{name:"开始Loading",title:"startLoading"},{name:"结束Loading",title:"stopLoading"},{name:"checkSelectedRow",title:"判断是否选中一条"},{name:"setSelectedRowKeys",title:"设置默认选中的Keys"},{name:"getSelectedRowKeys",title:"获取选中的Keys"},{name:"getSelectedRow",title:"获取选中的行数据"}]},AP=window.React.createContext,oe=AP(null),TP="_formWrap_sjtf9_1",IP="_searchBox_sjtf9_8",EP="_action_sjtf9_11",MP="_toggleAll_sjtf9_15",Py={formWrap:TP,searchBox:IP,action:EP,toggleAll:MP},OP=window.React,kP=window.React.forwardRef,FP=window.React.useEffect,PP=window.React.useImperativeHandle,LP=window.React.useRef,Of=window.React.useState,cs=window.antd.Button,Ly=window.antd.Form,RP=window.antd.Space,DP=({id:e,type:r,config:t,elements:n,onSearch:a,onChange:i,onReset:o},l)=>{var L;const[s]=Ly.useForm(),u=LP(null),[f,c]=Of(!1),[h,p]=Of(!1),[d,v]=Of(!0),{addChildElements:g,updateToolbar:y,formData:m,setFormData:b}=At(D=>({addChildElements:D.addChildElements,updateToolbar:D.updateToolbar,formData:D.page.formData,setFormData:D.setFormData}));FP(()=>{setTimeout(()=>{var D;((D=u.current)==null?void 0:D.offsetTop)>=32&&n.length>0?p(!0):p(!1)},500)},[n]);const[,x]=lr({accept:"MENU_ITEM",drop(D,_){if(_.didDrop())return;const{config:z,events:X,methods:V=[]}=or[D.type+"Config"]||{};g({type:D.type,name:D.name,parentId:e,id:D.id,config:z,events:X,methods:V})},collect:D=>({isOver:D.isOver(),canDrop:D.canDrop()})}),w=()=>{const D=s.getFieldsValue();a&&a($n(n,D))},S=()=>{s.resetFields();const D=s.getFieldsValue();o&&o($n(n,D))},A=(D,_)=>{const z=$n(n,_);i==null||i(z),b({name:e,value:z})};PP(l,()=>({show(){v(!0)},hide(){v(!1)},reset(){s.resetFields()},submit(){s.submit()},init(D={}){const _=$n(n,D);s.setFieldsValue(_),b({name:e,value:_})},getFormData(D){var _;return D&&typeof D=="string"?(_=m[e])==null?void 0:_[D]:m[e]}}));const I=D=>{const _=s.getFieldsValue(),z=$n(n,_),X=t.events.find(V=>V.eventName===D);Ga(X==null?void 0:X.actions,z)},k=()=>{c(!f),y()},{submitText:E,resetText:M}=t.props.form||{},O=t.props.bulkActionList||[],F=Jr;return d&&C.jsx(oe.Provider,{value:s,children:C.jsxs(Ly,{form:s,layout:"inline",style:t.style,"data-id":e,"data-type":r,onValuesChange:A,children:[C.jsxs("div",{className:Py.formWrap,ref:x,style:f?{}:{height:32,overflow:"hidden"},children:[n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",children:"拖拽表单组件到这里"}),C.jsx("div",{ref:u})]}),C.jsxs(RP,{style:{alignItems:"baseline"},children:[E?C.jsx(cs,{type:"primary",icon:C.jsx(jE,{}),onClick:w,children:E}):null,M?C.jsx(cs,{type:"default",icon:C.jsx(zE,{}),onClick:S,children:M}):null,O.length>0&&C.jsx("div",{className:Py.action,children:(L=t.props.bulkActionList)==null?void 0:L.map((D,_)=>C.jsx(cs,{type:D.type,danger:D.danger,icon:D.icon?OP.createElement(F[D.icon]):null,onClick:()=>I(D.eventName),children:D.text},`bulkAction${_}`))}),h&&C.jsx(cs,{type:"link",icon:f?C.jsx(HE,{}):C.jsx(BE,{}),onClick:k,children:f?"收起":"展开"})]})]})})},BP=kP(DP),_P={attrs:[{type:"Title",label:"操作栏"},{type:"function",render(e){return C.jsx(Vd,{form:e},"ActionSetting")}},{type:"Title",label:"按钮配置"},{type:"Input",label:"查询文本",name:["form","submitText"]},{type:"Input",label:"重置文本",name:["form","resetText"]}],config:{props:{form:{submitText:"查询",resetText:"重置"}},style:{background:"#fff",padding:"20px 10px",border:"1px solid #e6e6e6",borderRadius:"3px"},events:[],api:{}},events:[{value:"onSearch",name:"查询事件"},{value:"onReset",name:"重置事件"},{value:"onChange",name:"值变化事件"}],methods:[{name:"reset",title:"表单重置"},{name:"submit",title:"表单提交"},{name:"init",title:"表单初始化"},{name:"getFormData",title:"获取表单数据"}]},NP=window.antd.Flex,$P=window.React.forwardRef,jP=window.React.useImperativeHandle,zP=window.React.useState,HP=({id:e,type:r,config:t,elements:n},a)=>{const i=At(u=>u.addChildElements),[o,l]=zP(!0),[,s]=lr({accept:"MENU_ITEM",drop(u,f){if(f.didDrop())return;const{config:c,events:h,methods:p=[]}=or[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:e,id:u.id,config:c,events:h,methods:p})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return jP(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&C.jsx(NP,{style:t.style,...t.props,"data-id":e,"data-type":r,ref:s,children:n!=null&&n.length?C.jsx(sr,{elements:n||[]}):C.jsx("div",{className:"slots",style:{lineHeight:"200px"},children:"拖拽组件到这里"})})},VP=$P(HP),WP={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Switch",label:"垂直布局",name:"vertical"},{type:"Select",label:"换行方式",name:"wrap",props:{options:[{value:"nowrap",label:"不换行"},{value:"wrap",label:"换行"},{value:"wrap-reverse",label:"逆换行"}]}},{type:"Select",label:"主轴对齐",name:"justify",props:{options:[{value:"flex-start",label:"左对齐"},{value:"flex-end",label:"右对齐"},{value:"center",label:"居中对齐"},{value:"space-between",label:"两端对齐"},{value:"space-around",label:"环绕对齐"},{value:"space-evenly",label:"均匀对齐"}]}},{type:"Select",label:"副轴对齐",name:"align",props:{options:[{value:"start",label:"起点对齐"},{value:"end",label:"终点对齐"},{value:"center",label:"居中对齐"},{value:"baseline",label:"文字基线对齐"},{value:"stretch",label:"拉伸对齐"}]}},{type:"Input",label:"元素间隙",name:"gap",props:{placeholder:"eg: 10px"}}],config:{props:{vertical:!1,wrap:"nowrap",justify:"center",align:"center",gap:20},style:{padding:"20px"},events:[],api:{},source:""},events:[]},Ry=window.antd.Form,GP=window.React.forwardRef,YP=window.React.memo,qP=window.React.useImperativeHandle,XP=window.React.useState,UP=({id:e,type:r,config:t,elements:n,onFinish:a,onChange:i},o)=>{const[l]=Ry.useForm(),{addChildElements:s,formData:u,setFormData:f}=At(u1(g=>({addChildElements:g.addChildElements,formData:g.page.formData,setFormData:g.setFormData}))),[c,h]=XP(!0),[,p]=lr({accept:"MENU_ITEM",drop(g,y){if(y.didDrop())return;const{config:m,events:b,methods:x=[]}=or[g.type+"Config"]||{};s({type:g.type,name:g.name,parentId:e,id:g.id,config:m,events:b,methods:x})},collect:g=>({isOver:g.isOver(),canDrop:g.canDrop()})}),d=g=>{a==null||a($n(n,g))},v=(g,y)=>{const m=$n(n,y);i==null||i(m),f({name:e,value:m})};return qP(o,()=>({show(){h(!0)},hide(){h(!1)},reset(){l.resetFields()},submit(){l.submit()},async validate(){try{return await l.validateFields(),!0}catch(g){return console.error(g),!1}},init(g={}){const y=$n(n,g);l.setFieldsValue(y),f({name:e,value:y})},getFormData(g){var y;return g&&typeof g=="string"?(y=u[e])==null?void 0:y[g]:u[e]}})),c&&C.jsx(oe.Provider,{value:l,children:C.jsx("div",{ref:p,children:C.jsx(Ry,{form:l,style:t.style,...t.props,"data-id":e,"data-type":r,onFinish:d,onValuesChange:v,children:n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽表单组件到这里"})})})})},KP=YP(GP(UP)),ZP={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"字段",name:"name",props:{placeholder:"表单字段（默认可空）"}},{type:"Switch",label:"显示冒号",name:"colon"},{type:"Select",label:"标签对齐",name:"labelAlign",props:{options:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"}]}},{type:"Switch",label:"禁用",name:["disabled"]},{type:"Select",label:"表单尺寸",name:"size",props:{options:[{label:"小号",value:"small"},{label:"中号",value:"middle"},{label:"大号",value:"large"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"Select",label:"表单布局",name:"layout",props:{options:[{label:"水平布局",value:"horizontal"},{label:"垂直布局",value:"vertical"},{label:"行内布局",value:"inline"}]}},{type:"InputNumber",label:"标签布局",name:["labelCol","span"],props:{placeholder:"栅栏数"}},{type:"InputNumber",label:"标签偏移",name:["labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["wrapperCol","span"],props:{placeholder:"栅栏数"}},{type:"InputNumber",label:"控件偏移",name:["wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"其他配置",key:"OtherConfig"},{type:"Switch",label:"报错聚焦",name:"scrollToFirstError"},{type:"Select",label:"表单形态",name:"variant",props:{options:[{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}}],config:{props:{colon:!0,labelAlign:"right",layout:"horizontal"},style:{padding:"20px 10px",backgroundColor:"#fff"},events:[],api:{}},events:[{value:"onReset",name:"重置事件"},{value:"onChange",name:"表单变化事件"},{value:"onFinish",name:"表单提交事件"}],methods:[{name:"reset",title:"表单重置"},{name:"submit",title:"表单提交"},{name:"validate",title:"表单校验"},{name:"init",title:"表单初始化"},{name:"getFormData",title:"获取表单数据"}]},QP=window.antd.Button,Dy=window.antd.Card,JP=window.React.forwardRef,tL=window.React.useImperativeHandle,eL=window.React.useState,rL=({id:e,type:r,config:t,elements:n,onClick:a},i)=>{var c,h;const o=At(p=>p.addChildElements),[l,s]=eL(!0),[,u]=lr({accept:"MENU_ITEM",drop(p,d){if(d.didDrop())return;const{config:v,events:g,methods:y=[]}=or[p.type+"Config"]||{};o({type:p.type,name:p.name,parentId:e,id:p.id,config:v,events:g,methods:y})},collect:p=>({isOver:p.isOver(),canDrop:p.canDrop()})});tL(i,()=>({show(){s(!0)},hide(){s(!1)}}));const f=()=>{a&&a()};return l&&C.jsxs(Dy,{style:t.style,...t.props,"data-id":e,"data-type":r,cover:C.jsx("img",{src:t.props.cover}),extra:(c=t.props.extra)!=null&&c.text?C.jsx(QP,{...t.props.extra,onClick:f,children:(h=t.props.extra)==null?void 0:h.text}):null,ref:u,children:[C.jsx(Dy.Meta,{...t.props.meta}),n!=null&&n.length?C.jsx(sr,{elements:n||[]}):C.jsx("div",{className:"slots",style:{lineHeight:"100px"},children:"拖拽组件到这里"})]})},nL=JP(rL),aL={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"标题",name:"title"},{type:"Switch",label:"悬浮效果",name:"hoverable"},{type:"Switch",label:"显示边框",name:"bordered"},{type:"Select",label:"卡片尺寸",name:"size",props:{options:[{label:"默认",value:"default"},{label:"小",value:"small"}]}},{type:"Title",label:"按钮配置（右上角）",key:"btnConfig"},{type:"Input",label:"按钮名称",name:["extra","text"]},{type:"Select",label:"按钮类型",name:["extra","type"],props:{options:[{label:"默认",value:"default"},{label:"主要",value:"primary"},{label:"幽灵",value:"ghost"},{label:"链接",value:"link"},{label:"文本",value:"text"}]}},{type:"Switch",label:"显示危险",name:["extra","danger"]},{type:"Title",label:"封面配置",key:"coverConfig"},{type:"Input",label:"图片地址",name:"cover"},{type:"Title",label:"Meta配置",key:"metaConfig"},{type:"Input",label:"标题",name:["meta","title"]},{type:"Input",label:"描述",name:["meta","description"]}],config:{props:{title:{type:"static",value:"Mars搭建"},size:"default",bordered:!0,extra:{text:"更多",type:"link"},meta:{title:"零代码搭建平台",description:"全栈自研、零代码搭建、逻辑编排、权限控制"}},style:{}},events:[{value:"onClick",name:"点击更多事件"}]},iL=window.React.forwardRef,oL=window.React.useImperativeHandle,lL=window.React.useState,sL=({id:e,type:r,config:t,elements:n},a)=>{const i=At(u=>u.addChildElements),[o,l]=lL(!0),[,s]=lr({accept:"MENU_ITEM",drop(u,f){if(f.didDrop())return;const{config:c,events:h,methods:p=[]}=or[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:e,id:u.id,config:c,events:h,methods:p})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return oL(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&C.jsx("div",{style:t.style,...t.props,"data-id":e,"data-type":r,ref:s,children:n!=null&&n.length?C.jsx(sr,{elements:n||[]}):C.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},uL=iL(sL),cL={attrs:[],config:{props:{},style:{padding:"20px"},events:[],api:{},source:""},events:[]},fL=window.antd.Form,hL=window.antd.Input,pL=window.React.forwardRef,dL=window.React.useContext,By=window.React.useEffect,vL=window.React.useImperativeHandle,_y=window.React.useState,gL=({id:e,type:r,config:t,onChange:n,onBlur:a},i)=>{const o=dL(oe),[l,s]=_y(!0),[u,f]=_y(!1);By(()=>{var v;const p=(v=t.props.formItem)==null?void 0:v.name,d=t.props.defaultValue;p&&!ne(d)&&(o==null||o.setFieldValue(p,d))},[t.props.defaultValue]),By(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]);const c=p=>{n==null||n({[t.props.formItem.name]:p})},h=p=>{a==null||a({[t.props.formItem.name]:p})};return vL(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)}})),l&&C.jsx(fL.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(hL,{...t.props.formWrap,disabled:u,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:p=>c(p.target.value),onBlur:p=>h(p.target.value)})})},yL=pL(gL),mL=window.React.memo,xL=window.antd.Dropdown,ya=window.antd.Form,Ny=window.antd.Input,$y=window.antd.InputNumber,bL=window.antd.Switch,wL=mL(({form:e,labelSpan:r})=>{const t=[{key:"required",label:"必填校验"},{key:"length",label:"长度校验"},{key:"phone",label:"手机号校验"},{key:"email",label:"邮箱校验"},{key:"idCard",label:"身份证号码校验"},{key:"site",label:"网址校验"},{key:"word",label:"纯字母校验"},{key:"number",label:"纯数字校验"},{key:"chinese",label:"纯中文校验"},{key:"wordAndNumber",label:"字母和数字校验"},{key:"numberMoney",label:"金额校验(无小数)"},{key:"floatMoney",label:"金额校验(两位小数)"},{key:"pattern",label:"自定义正则"}];return C.jsx(C.Fragment,{children:C.jsx(ya.List,{name:["formItem","rules"],children:(n,{add:a,remove:i})=>C.jsxs(C.Fragment,{children:[n.map(({key:o,name:l})=>C.jsx(ya.Item,{noStyle:!0,children:C.jsxs("div",{style:{position:"relative",backgroundColor:"#f5f5f5",paddingBlock:10,marginBottom:10},children:[e.getFieldValue(["formItem","rules",l,"required"])&&C.jsx(ya.Item,{labelCol:{span:r||8},wrapperCol:{span:10},name:[l,"required"],label:"必填规则",children:C.jsx(bL,{})}),e.getFieldValue(["formItem","rules",l,"min"])&&C.jsxs(C.Fragment,{children:[C.jsx(ya.Item,{labelCol:{span:r||8},wrapperCol:{span:14},name:[l,"min"],label:"最小长度",children:C.jsx($y,{placeholder:"最小长度"})}),C.jsx(ya.Item,{labelCol:{span:r||8},wrapperCol:{span:14},name:[l,"max"],label:"最大长度",children:C.jsx($y,{placeholder:"最大长度"})})]}),e.getFieldValue(["formItem","rules",l,"key"])&&C.jsx(ya.Item,{labelCol:{span:r||8},wrapperCol:{span:14},name:[l,"pattern"],label:"校验规则",children:C.jsx(Ny,{placeholder:"eg: ^[0-9]+$"})}),C.jsx(ya.Item,{labelCol:{span:r||8},wrapperCol:{span:14},name:[l,"message"],label:"错误提示",children:C.jsx(Ny,{placeholder:"错误提示",style:{width:"100%"}})}),C.jsx(Pw,{onClick:()=>i(l),style:{position:"absolute",top:10,right:8,color:"red"}})]})},"rules"+o)),C.jsx(xL,{menu:{items:t,onClick:({key:o})=>{o==="required"?a({required:!0,message:"请输入内容"},n.length):o==="length"?a({min:1,max:20,message:"最小长度为1，最大长度为20"},n.length):o==="phone"?a({key:"phone",pattern:"^1[3456789]\\d{9}$",message:"请输入正确的手机号"},n.length):o==="email"?a({key:"email",pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+\\.[a-zA-Z0-9_-]+$",message:"请输入正确的邮箱"},n.length):o==="idCard"?a({key:"idCard",pattern:"^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",message:"请输入正确的身份证号码"},n.length):o==="site"?a({key:"site",pattern:"^https?:\\/\\/.*(\\.).*$",message:"请输入正确的网址"},n.length):o==="word"?a({key:"word",pattern:"^[a-zA-Z]+$",message:"只能输入英文单词"},n.length):o==="number"?a({key:"number",pattern:"^[0-9]+$",message:"只能输入数字"},n.length):o==="chinese"?a({key:"chinese",pattern:"^[一-龥]+$",message:"只能输入中文"},n.length):o==="wordAndNumber"?a({key:"wordAndNumber",pattern:"^[a-zA-Z0-9]+$",message:"只能输入英文和数字"},n.length):o==="numberMoney"?a({key:"numberMoney",pattern:"^(0|[1-9]\\d+)$",message:"请输入正整数"},n.length):o==="floatMoney"?a({key:"floatMoney",pattern:"^(0|[1-9]\\d+(\\.\\d{2})?)$",message:"请输入正确的金额，保留2位小数"},n.length):o==="pattern"&&a({key:"pattern",pattern:"",message:"请输入"},n.length)}},children:C.jsxs("a",{onClick:o=>o.preventDefault(),style:{display:"block",textAlign:"center"},children:[C.jsx(rr,{})," 添加规则"]})})]})})})}),ke=wL,SL={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Switch",label:"隐藏域",name:["formItem","hidden"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"默认提示"}},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"],props:{placeholder:"长度限制"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"显示字数",name:["formWrap","showCount"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"输入框",name:"input"},formWrap:{placeholder:"请输入文本",allowClear:!0},defaultValue:""},style:{}},events:[{value:"onChange",name:"onChange事件"},{value:"onBlur",name:"onBlur事件"}]},CL=window.antd.Form,AL=window.antd.Input,jy=window.React.useEffect,TL=window.React.useContext,zy=window.React.useState,IL=window.React.useImperativeHandle,EL=window.React.forwardRef,ML=({id:e,type:r,config:t,onChange:n},a)=>{const i=TL(oe),[o,l]=zy(!0),[s,u]=zy(!1);jy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;c&&!ne(h)&&(i==null||i.setFieldValue(c,h))},[t.props.defaultValue]),jy(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),IL(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{n&&n({[t.props.formItem.name]:c})};return o&&C.jsx(CL.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(AL.TextArea,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c=>f(c.target.value)})})},OL=EL(ML),kL={attrs:[{type:"Title",label:"标签配置"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置"},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"]},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"自动适应",name:["formWrap","autoSize"]},{type:"Switch",label:"显示字数",name:["formWrap","showCount"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"多行输入框",name:"textarea"},formWrap:{placeholder:"请输入内容",allowClear:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},FL=window.antd.Form,PL=window.antd.InputNumber,Hy=window.React.useEffect,LL=window.React.useContext,Vy=window.React.useState,RL=window.React.useImperativeHandle,DL=window.React.forwardRef,BL=({id:e,type:r,config:t,onChange:n},a)=>{const i=LL(oe),[o,l]=Vy(!0),[s,u]=Vy(!1);Hy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;c&&!ne(h)&&(i==null||i.setFieldValue(c,Number(h)))},[t.props.defaultValue]),Hy(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),RL(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{n==null||n({[t.props.formItem.name]:c||""})};return o&&C.jsx(FL.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(PL,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f})})},_L=DL(BL),NL={attrs:[{type:"Title",label:"标签配置"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置"},{type:"Input",label:"占位提示",name:["formWrap","placeholder"]},{type:"InputNumber",label:"最大长度",name:["formWrap","maxLength"]},{type:"InputNumber",label:"最小长度",name:["formWrap","minLength"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"数字框",name:"number"},formWrap:{placeholder:"请输入数字框"}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},$L=window.antd.Form,jL=window.antd.DatePicker,Wy=window.React.useEffect,zL=window.React.useContext,Gy=window.React.useState,HL=window.React.useImperativeHandle,VL=window.React.forwardRef,WL=({id:e,type:r,config:t,onChange:n},a)=>{const i=zL(oe),[o,l]=Gy(!0),[s,u]=Gy(!1);Wy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;if(c&&!ne(h)){const d=qE(h);i==null||i.setFieldValue(c,d)}},[t.props.defaultValue]),Wy(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),HL(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{n==null||n({[t.props.formItem.name]:c.format(t.props.formWrap.format)})};return o&&C.jsx($L.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(jL,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f})})},GL=VL(WL),YL={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Select",label:"默认值",name:["defaultValue"],props:{allowClear:!0,options:[{value:"today",label:"今天"},{value:"yestoday",label:"昨天"},{value:"last7",label:"一周前"},{value:"last30",label:"一个月前"},{value:"last90",label:"三个月前"}]}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"日期类型",name:["formWrap","picker"],props:{options:[{value:"date",label:"日期"},{value:"year",label:"年份"},{value:"quarter",label:"季度"},{value:"month",label:"月份"},{value:"week",label:"周"},{value:"time",label:"时间"}]}},{type:"Select",label:"日期格式",name:["formWrap","format"],props:{options:[{value:"YYYY-MM-DD",label:"年-月-日"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY",label:"年"},{value:"YYYY-MM",label:"年-月"},{value:"YYYY-qQ",label:"季度"},{value:"YYYY-wo",label:"周"},{value:"HH:mm:ss",label:"24时制 时:分:秒"},{value:"hh:mm:ss",label:"12时制 时:分:秒"},{value:"h:mm A",label:"时:分 上/下午"}]}},{type:"Switch",label:"快捷日期",name:["formWrap","showNow"]},{type:"Switch",label:"显示时间",name:["formWrap","showTime"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"显示清除",name:["formWrap","allowClear"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"日期",name:"datepicker"},formWrap:{placeholder:"请选择",allowClear:!0,showNow:!0,picker:"date",format:"YYYY-MM-DD"}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},qL=window.antd.Form,XL=window.antd.DatePicker,Yy=window.React.useEffect,UL=window.React.useContext,qy=window.React.useState,KL=window.React.useImperativeHandle,ZL=window.React.forwardRef,QL=({id:e,type:r,config:t,onChange:n},a)=>{const{RangePicker:i}=XL,o=UL(oe),[l,s]=qy(!0),[u,f]=qy(!1);Yy(()=>{var d;const h=(d=t.props.formItem)==null?void 0:d.name,p=t.props.defaultValue;if(h&&!ne(p)){const v=XE(p);o==null||o.setFieldValue(h,v)}},[t.props.defaultValue]),Yy(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),KL(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)}}));const c=h=>{const p={},{startField:d,endField:v,formItem:{name:g},formWrap:{format:y}}=t.props,[m,b]=(h==null?void 0:h.map(x=>x==null?void 0:x.format(y)))||[void 0,void 0];d&&v?(p[d]=m,p[v]=b,delete p[g]):p[g]=[m,b],n==null||n(p)};return l&&C.jsx(qL.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(i,{...t.props.formWrap,disabled:u,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:c})})},JL=ZL(QL),tR={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Select",label:"默认值",name:["defaultValue"],props:{allowClear:!0,options:[{value:"today",label:"今天"},{value:"curWeek",label:"本周"},{value:"curMonth",label:"本月"},{value:"curQuarter",label:"本季度"},{value:"curYear",label:"本年"},{value:"yestoday",label:"昨天"},{value:"lastWeek",label:"最近一周"},{value:"lastMonth",label:"最近一月"},{value:"last3Month",label:"最近三月"},{value:"lastYear",label:"最近一年"}]}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"字段分解",key:"FieldExport"},{type:"Input",label:"开始字段",name:["startField"],tooltip:"实际开发中，接口需要独立的开始日期字段，并不需要数组结构",props:{placeholder:"请输入开始字段"}},{type:"Input",label:"结束字段",name:["endField"],tooltip:"实际开发中，接口需要独立的结束日期字段，并不需要数组结构",props:{placeholder:"请输入结束字段"}},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"日期类型",name:["formWrap","picker"],props:{options:[{value:"date",label:"日期"},{value:"year",label:"年份"},{value:"quarter",label:"季度"},{value:"month",label:"月份"},{value:"week",label:"周"},{value:"time",label:"时间"}]}},{type:"Select",label:"日期格式",name:["formWrap","format"],props:{options:[{value:"YYYY-MM-DD",label:"年-月-日"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY",label:"年"},{value:"YYYY-MM",label:"年-月"},{value:"YYYY-qQ",label:"季度"},{value:"YYYY-wo",label:"周"},{value:"HH:mm:ss",label:"24时制 时:分:秒"},{value:"hh:mm:ss",label:"12时制 时:分:秒"},{value:"h:mm A",label:"时:分 上/下午"}]}},{type:"Switch",label:"快捷日期",name:["formWrap","showNow"]},{type:"Switch",label:"显示时间",name:["formWrap","showTime"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"显示清除",name:["formWrap","allowClear"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"日期",name:"datepickerrange"},formWrap:{placeholder:["开始日期","结束日期"],allowClear:!0,picker:"date",format:"YYYY-MM-DD"}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},eR=window.antd.Form,rR=window.antd.Radio,nR=window.React.forwardRef,aR=window.React.useContext,kf=window.React.useEffect,iR=window.React.useImperativeHandle,Ff=window.React.useState,oR=({id:e,type:r,config:t,onChange:n},a)=>{var v;const[i,o]=Ff([]),[l,s]=Ff(!0),[u,f]=Ff(!1),c=aR(oe),h=At(g=>g.page.variableData);kf(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!ne(y)&&(c==null||c.setFieldValue(g,y))},[t.props.defaultValue]),kf(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),kf(()=>{p({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const p=g=>{be(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[radio]","data数据格式错误，请检查"),o([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Pr(x)?x:"-",value:Pr(w)?w:""}}),o(m)}})};iR(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)},update:g=>{p(g)}}));const d=g=>{n==null||n({[t.props.formItem.name]:g})};return l&&C.jsx(eR.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(rR.Group,{...t.props.formWrap,disabled:u,options:i,style:t.style,onChange:g=>d(g.target.value)})})},lR=nR(oR),sR={attrs:[{type:"Title",label:"标签配置",key:"title"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Select",label:"按钮类型",name:["formWrap","optionType"],props:{options:[{value:"default",label:"默认"},{value:"button",label:"按钮"}]}},{type:"Select",label:"按钮样式",name:["formWrap","buttonStyle"],tooltip:"指定按钮类型为按钮后，才会生效",props:{options:[{value:"outline",label:"虚线"},{value:"solid",label:"实线"}]}},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"单选",name:"radio"},formWrap:{optionType:"default",buttonStyle:"solid"},field:{label:"label",value:"value"}},style:{},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},uR=window.antd.Form,cR=window.antd.Select,fR=window.React.forwardRef,hR=window.React.useContext,Pf=window.React.useEffect,pR=window.React.useImperativeHandle,Lf=window.React.useState,dR=({id:e,type:r,config:t,onChange:n},a)=>{var v;const i=hR(oe),[o,l]=Lf([]),[s,u]=Lf(!0),[f,c]=Lf(!1),h=At(g=>g.page.variableData);Pf(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!ne(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),Pf(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Pf(()=>{p({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const p=g=>{be(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[select]","data数据格式错误，请检查"),l([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Pr(x)?x:"-",value:Pr(w)?w:""}}),l(m)}})};pR(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){c(!1)},disable(){c(!0)},update:g=>{p(g)}}));const d=g=>{n&&n({[t.props.formItem.name]:g})};return s&&C.jsx(uR.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(cR,{...t.props.formWrap,disabled:f,variant:t.props.formWrap.variant||void 0,options:o,style:t.style,onChange:g=>d(g)})})},vR=fR(dR),gR={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"可检索",name:["formWrap","showSearch"]},{type:"Select",label:"选项模式",name:["formWrap","mode"],props:{options:[{value:"",label:"单选模式"},{value:"multiple",label:"多选模式"},{value:"tags",label:"标签模式"}]}},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"]},{type:"Input",label:"默认提示",name:["formWrap","placeholder"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Switch",label:"包含Label",name:["formWrap","labelInValue"],tooltip:"提交时，会把label包装到value中"},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"下拉框",name:"select"},formWrap:{placeholder:"请选择数据",allowClear:!0,mode:""},field:{label:"label",value:"value"}},style:{minWidth:120},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},yR=window.antd.Form,mR=window.antd.Switch,Xy=window.React.useEffect,xR=window.React.useContext,Uy=window.React.useState,bR=window.React.useImperativeHandle,wR=window.React.forwardRef,SR=({id:e,type:r,config:t,onChange:n},a)=>{const i=xR(oe),[o,l]=Uy(!0),[s,u]=Uy(!1);Xy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;c&&!ne(h)&&(i==null||i.setFieldValue(c,h))},[t.props.defaultValue]),Xy(()=>{u(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),bR(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{n&&n({[t.props.formItem.name]:c})};return o&&C.jsx(yR.Item,{...t.props.formItem,"data-id":e,"data-type":r,valuePropName:"checked",children:C.jsx(mR,{...t.props.formWrap,disabled:s,style:t.style,onChange:f})})},CR=wR(SR),AR={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Switch",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"开启文案",name:["formWrap","checkedChildren"]},{type:"Input",label:"关闭文案",name:["formWrap","unCheckedChildren"]},{type:"Switch",label:"加载中",name:["formWrap","loading"]}],config:{props:{formItem:{label:"开关",name:"switch"},formWrap:{}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},TR=window.antd.Form,IR=window.antd.Button,ER=window.antd.Upload,MR=window.React.useEffect,yu=window.React.useState,OR=window.React.useImperativeHandle,kR=window.React.forwardRef,FR=({id:e,type:r,config:t},n)=>{const[a,i]=yu(!0),[o,l]=yu(!1);return OR(n,()=>({show(){i(!0)},hide(){i(!1)},enable(){l(!1)},disable(){l(!0)}})),a&&C.jsx(TR.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(PR,{config:t,disabled:o})})},PR=({config:e,value:r,disabled:t,onChange:n},a)=>{const[i,o]=yu([]),[l,s]=yu(!1);MR(()=>{var p,d;if(typeof r=="string")o([{name:(d=(p=r.split("/").pop())==null?void 0:p.split("."))==null?void 0:d[0],url:r,status:"done"}]);else if(Array.isArray(r))if(e.props.structure==="url"){const v=r.map(g=>({name:g.split("/").pop().split(".")[0],url:g,status:"done"}));o(v)}else o(r);else o([])},[r]);const u=p=>e.props.formWrap.accept.includes(p.type)?p.size>e.props.formWrap.limitSize*1024?(Or.error("图片超出最大限制"),!1):!0:(Or.error("不支持该文件格式，请重新选择"),!1),f=p=>{const d=(i||[]).filter(v=>v.url!==p.url);o(d),e.props.formWrap.maxCount===1?n(null):e.props.structure==="url"?n(d.map(v=>v.url)):n(d)},c=p=>{s(!0)},h=()=>{const{listType:p,maxCount:d}=e.props.formWrap,v=C.jsxs("div",{children:[l?C.jsx(_E,{}):C.jsx(rr,{}),C.jsx("div",{style:{marginTop:8},children:e.props.text})]});return["text","picture"].includes(p)?i.length>=d?null:C.jsx(IR,{icon:C.jsx(VE,{}),children:e.props.text}):i.length>=d?null:v};return C.jsx(ER,{...e.props.formWrap,disabled:t,fileList:i,style:e.style,beforeUpload:u,onRemove:f,customRequest:c,children:h()})},LR=kR(FR),RR={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"上传配置",key:"title2"},{type:"Select",label:"文件类型",name:["formWrap","accept"],props:{mode:"multiple",options:[{value:"image/jpeg",label:"image/jpeg"},{value:"image/png",label:"image/png"},{value:"image/gif",label:"image/gif"},{value:"video/mp4",label:"video/mp4"},{value:"text/csv",label:"text/csv"},{value:"text/html",label:"text/html"},{value:"application/zip",label:"application/zip"},{value:"application/pdf",label:"application/pdf"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}]}},{type:"InputNumber",label:"文件大小",name:["formWrap","limitSize"],props:{placeholder:"单位：K"}},{type:"Select",label:"列表类型",name:["formWrap","listType"],props:{options:[{value:"text",label:"text"},{value:"picture",label:"picture"},{value:"picture-card",label:"picture-card"},{value:"picture-circle",label:"picture-circle"}]}},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"InputNumber",label:"最大个数",name:["formWrap","maxCount"]},{type:"Switch",label:"上传列表",name:["formWrap","showUploadList"]},{type:"Input",label:"显示文本",name:["text"]},{type:"Select",label:"上传结构",name:"structure",props:{options:[{value:"url",label:"文件地址"},{value:"object",label:"文件对象"}]}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"上传",name:"upload"},formWrap:{accept:["image/jpeg","image/png"],listType:"picture-card",maxCount:1,limitSize:1024,showUploadList:!0},text:"Upload",structure:"url"},style:{},events:[],api:{},source:[]},events:[{value:"handleClick",name:"上传事件"}]},DR=window.antd.Form,BR=window.antd.Image,_R=window.React.forwardRef,NR=window.React.useContext,$R=window.React.useEffect,jR=window.React.useImperativeHandle,zR=window.React.useState,Ky=window.dayjs,HR=({id:e,type:r,config:t},n)=>{const a=NR(oe),[i,o]=zR(!0);return $R(()=>{var u;const l=(u=t.props.formItem)==null?void 0:u.name,s=t.props.defaultValue;l&&!ne(s)&&(a==null||a.setFieldValue(l,s))},[t.props.defaultValue]),jR(n,()=>({show(){o(!0)},hide(){o(!1)}})),i&&C.jsx(DR.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(VR,{...t.props.formWrap,name:t.props.formItem.name,style:t.style})})},VR=e=>{const r=e.value||"";let t=r;if(ne(r))return C.jsx("span",{style:e.style,children:`\${${e.name}}`});if(e.showType==="text"&&(e.dateType&&(t=Ky(r).format(e.dateType)),e.numberType&&(t=Xr(r,e.numberType)),r!=null&&r.format&&(t=Ky(r).format())),e.script)try{t=new Function("value",`return (${e.script})(value);`)(t)}catch(n){console.error("脚本解析失败",n),Or.error(JSON.stringify(n))}if(t=t==null?void 0:t.toString(),e.showType==="text")return C.jsx("span",{style:e.style,children:t});if(e.showType==="href")return C.jsx("a",{href:t,target:"_blank",style:e.style,children:t});if(e.showType==="image")return C.jsx(BR,{src:t,style:e.style})},WR=_R(HR),ui=window.antd.Form,ve=window.antd.Select,GR=window.React.useState,YR=()=>{const[e,r]=GR("text"),t=n=>{r(n)};return C.jsxs(C.Fragment,{children:[C.jsx(ui.Item,{label:"空值展示",name:["formWrap","emptyType"],children:C.jsxs(ve,{children:[C.jsx(ve.Option,{value:"",children:"默认不显示"}),C.jsx(ve.Option,{value:"-",children:"-"}),C.jsx(ve.Option,{value:"/",children:"/"}),C.jsx(ve.Option,{value:"0",children:"0"})]})}),C.jsx(ui.Item,{label:"展示类型",name:["formWrap","showType"],children:C.jsxs(ve,{onChange:t,children:[C.jsx(ve.Option,{value:"text",children:"文本"}),C.jsx(ve.Option,{value:"href",children:"链接"}),C.jsx(ve.Option,{value:"image",children:"图片"})]})}),e==="text"&&C.jsxs(C.Fragment,{children:[C.jsx(ui.Item,{label:"日期格式",name:["formWrap","dateType"],children:C.jsxs(ve,{children:[C.jsx(ve.Option,{value:"",children:"无"}),C.jsx(ve.Option,{value:"YYYY-MM-DD HH:mm:ss",children:"年-月-日 时:分:秒"}),C.jsx(ve.Option,{value:"YYYY-MM-DD",children:"年-月-日"}),C.jsx(ve.Option,{value:"HH:mm:ss",children:"时:分:秒"})]})}),C.jsx(ui.Item,{label:"数字格式",name:["formWrap","numberType"],children:C.jsxs(ve,{children:[C.jsx(ve.Option,{value:"",children:"无"}),C.jsx(ve.Option,{value:"currency",children:"金额千分位"}),C.jsx(ve.Option,{value:"decimal",children:"数字千分位"}),C.jsx(ve.Option,{value:"percent",children:"百分比"})]})})]}),C.jsx(ui.Item,{label:"自定义",tooltip:"通过编程的方式，实现自定义渲染。"}),C.jsx(ui.Item,{name:["formWrap","script"],noStyle:!0,children:C.jsx(al,{})})]})},qR=YR,XR={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"静态项配置",key:"formWrap"},{type:"function",render:e=>(e.setFieldValue(["formWrap","script"],`function render(value){
    return value;
}`),C.jsx(qR,{},"StaticSetting"))}],config:{props:{formItem:{label:"展示文本",name:"label"},formWrap:{emptyType:"-",showType:"text",dateType:"",numberType:"",script:""},defaultValue:""},style:{height:"100px"}},events:[],methods:[{name:"update",title:"更新数据"}]},UR=window.antd.Form,KR=window.React.forwardRef,ZR=window.React.useContext,QR=window.React.useEffect,JR=window.React.useImperativeHandle,tD=window.React.useState,eD=({id:e,type:r,config:t,elements:n},a)=>{const i=At(c=>c.addChildElements),o=ZR(oe),[l,s]=tD(!0);QR(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;c&&!ne(h)&&(o==null||o.setFieldValue(c,h))},[t.props.defaultValue]);const[,u]=lr({accept:"MENU_ITEM",drop(c,h){if(h.didDrop())return;const{config:p,events:d,methods:v=[]}=or[c.type+"Config"]||{};i({type:c.type,name:c.name,parentId:e,id:c.id,config:p,events:d,methods:v})},collect:c=>({isOver:c.isOver(),canDrop:c.canDrop()})});JR(a,()=>({show(){s(!0)},hide(){s(!1)}}));const f=t.props.formItem;return l&&C.jsx(UR.Item,{...f,name:f.name||void 0,"data-id":e,"data-type":r,children:C.jsx("span",{ref:u,style:t.style,children:n!=null&&n.length?C.jsx(sr,{elements:n||[]}):C.jsx("div",{className:"slots",style:{height:80,lineHeight:"80px"},children:"拖拽组件到这里"})})})},rD=KR(eD),nD={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}}],config:{props:{formItem:{label:"表单项"},formWrap:{},defaultValue:""},style:{}},events:[]},aD=window.antd.Form,iD=window.antd.Checkbox,oD=window.React.forwardRef,lD=window.React.useContext,Rf=window.React.useEffect,sD=window.React.useImperativeHandle,Df=window.React.useState,uD=({id:e,type:r,config:t,onChange:n},a)=>{var v;const[i,o]=Df([]),[l,s]=Df(!0),[u,f]=Df(!1),c=lD(oe),h=At(g=>g.page.variableData);Rf(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue||[];g&&!ne(y)&&(c==null||c.setFieldValue(g,y))},[t.props.defaultValue]),Rf(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Rf(()=>{p({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const p=g=>{be(t.api,g).then(y=>{if((y==null?void 0:y.ret)===0)if(!Array.isArray(y.data))console.error("[checkbox]","data数据格式错误，请检查"),o([]);else{let m=[];t.props.field.label==="label"&&t.props.field.value==="value"?(m=y.data,(typeof y.data[0]=="string"||typeof y.data[0]=="number")&&(m=y.data.map(b=>({label:b,value:b})))):m=y.data.map(b=>{const x=b[t.props.field.label||"label"],w=b[t.props.field.value||"value"];return{label:Pr(x)?x:"-",value:Pr(w)?w:""}}),o(m)}})};sD(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)},update:g=>{p(g)}}));const d=g=>{n==null||n({[t.props.formItem.name]:g})};return l&&C.jsx(aD.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(iD.Group,{...t.props.formWrap,disabled:u,options:i,style:t.style,onChange:g=>d(g)})})},cD=oD(uD),fD={attrs:[{type:"Title",label:"标签配置",key:"title"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],tooltip:"多选以逗号分隔，如：1,2"},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["field","label"]},{type:"Input",label:"value",name:["field","value"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"多选",name:"checkbox"},formWrap:{},field:{label:"label",value:"value"}},style:{},api:{sourceType:"json",source:[{label:"选项1",value:1},{label:"选项2",value:2}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},hD=window.antd.Form,pD=window.antd.TimePicker,Zy=window.React.useEffect,dD=window.React.useContext,Qy=window.React.useState,vD=window.React.useImperativeHandle,gD=window.React.forwardRef,yD=window.dayjs,mD=({id:e,type:r,config:t,onChange:n},a)=>{const i=dD(oe),[o,l]=Qy(!0),[s,u]=Qy(t.props.formWrap.disabled);Zy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;if(c&&!ne(h)){const d=yD(h,"HH:mm:ss");d.isValid()&&(i==null||i.setFieldValue(c,d))}},[t.props.defaultValue]),Zy(()=>{u(t.props.formWrap.disabled)},[t.props.formWrap.disabled]),vD(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{n==null||n({[t.props.formItem.name]:c.format(t.props.formWrap.format||"HH:mm:ss")})};return o&&C.jsx(hD.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(pD,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f})})},xD=gD(mD),bD={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"eg: 15:36:00"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"展示格式",name:["formWrap","format"],props:{options:[{value:"HH:mm:ss",label:"时:分:秒"},{value:"HH:mm",label:"时:分"},{value:"HHmmss",label:"时分秒"},{value:"HHmm",label:"时分"},{value:"HH",label:"时"},{value:"mm",label:"分"},{value:"ss",label:"秒"}]}},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"输入默认提示"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"滚动值",tooltip:"在滚动时改变选择值",name:["formWrap","changeOnScroll"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"只读模式",name:["formWrap","inputReadOnly"]},{type:"InputNumber",label:"小时步长",name:["formWrap","hourStep"],tooltip:"小时选项间隔"},{type:"InputNumber",label:"分钟步长",name:["formWrap","minuteStep"],tooltip:"分钟选项间隔"},{type:"InputNumber",label:"秒步长",name:["formWrap","secondStep"],tooltip:"秒选项间隔"},{type:"Switch",label:"显示确认",name:["formWrap","needConfirm"],tooltip:"是否需要确认按钮，为 false 时失去焦点即代表选择"},{type:"Switch",label:"显示此刻",name:["formWrap","showNow"],tooltip:"面板是否显示“此刻”按钮"},{type:"Switch",label:"12时制",name:["formWrap","use12Hours"],tooltip:"使用 12 小时制，为 true 时 format 默认为 h:mm:ss a"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"时间",name:"timepicker"},formWrap:{placeholder:"请选择",allowClear:!0,format:"HH:mm:ss",changeOnScroll:!1,hourStep:1,minuteStep:1,secondStep:1,showNow:!0,use12Hours:!1,needConfirm:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},wD=window.antd.Form,SD=window.antd.TimePicker,Jy=window.React.useEffect,CD=window.React.useContext,tm=window.React.useState,AD=window.React.useImperativeHandle,TD=window.React.forwardRef,ID=window.dayjs,ED=({id:e,type:r,config:t,onChange:n},a)=>{const i=CD(oe),[o,l]=tm(!0),[s,u]=tm(t.props.formWrap.disabled);Jy(()=>{var p;const c=(p=t.props.formItem)==null?void 0:p.name,h=t.props.defaultValue;if(c&&!ne(h)){const d=t.props.formWrap.format||"HH:mm:ss",v=h.split(",").map(g=>ID(g,d));i==null||i.setFieldValue(c,v)}},[t.props.defaultValue]),Jy(()=>{u(t.props.formWrap.disabled)},[t.props.formWrap.disabled]),AD(a,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const f=c=>{const h={},{startField:p,endField:d,formItem:{name:v},formWrap:{format:g}}=t.props,[y,m]=c.map(b=>b==null?void 0:b.format(g));p&&d?(h[p]=y,h[d]=m,delete h[v]):h[v]=[y,m],n==null||n(h)};return o&&C.jsx(wD.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(SD.RangePicker,{...t.props.formWrap,disabled:s,variant:t.props.formWrap.variant||void 0,style:t.style,onChange:f})})},MD=TD(ED),OD={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"],tooltip:"多个值以逗号分隔",props:{placeholder:"eg: 10:36:00,12:20:00"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"字段分解",key:"FieldExport"},{type:"Input",label:"开始字段",name:["startField"],tooltip:"实际开发中，接口需要独立的开始时间字段，并不需要数组结构",props:{placeholder:"请输入开始字段"}},{type:"Input",label:"结束字段",name:["endField"],tooltip:"实际开发中，接口需要独立的结束时间字段，并不需要数组结构",props:{placeholder:"请输入结束字段"}},{type:"Title",label:"表单配置",key:"title2"},{type:"Select",label:"展示格式",name:["formWrap","format"],props:{options:[{value:"HH:mm:ss",label:"时:分:秒"},{value:"HH:mm",label:"时:分"},{value:"HHmmss",label:"时分秒"},{value:"HHmm",label:"时分"},{value:"HH",label:"时"},{value:"mm",label:"分"},{value:"ss",label:"秒"}]}},{type:"Input",label:"占位提示",name:["formWrap","placeholder"],props:{placeholder:"输入默认提示"}},{type:"Switch",label:"显示删除",name:["formWrap","allowClear"]},{type:"Switch",label:"滚动值",tooltip:"在滚动时改变选择值",name:["formWrap","changeOnScroll"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"只读模式",name:["formWrap","inputReadOnly"]},{type:"InputNumber",label:"小时步长",name:["formWrap","hourStep"],tooltip:"小时选项间隔"},{type:"InputNumber",label:"分钟步长",name:["formWrap","minuteStep"],tooltip:"分钟选项间隔"},{type:"InputNumber",label:"秒步长",name:["formWrap","secondStep"],tooltip:"秒选项间隔"},{type:"Switch",label:"显示确认",name:["formWrap","needConfirm"],tooltip:"是否需要确认按钮，为 false 时失去焦点即代表选择"},{type:"Switch",label:"显示此刻",name:["formWrap","showNow"],tooltip:"面板是否显示“此刻”按钮"},{type:"Switch",label:"12时制",name:["formWrap","use12Hours"],tooltip:"使用 12 小时制，为 true 时 format 默认为 h:mm:ss a"},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"时间",name:"timepickerrange"},formWrap:{placeholder:"请选择",allowClear:!0,format:"HH:mm:ss",changeOnScroll:!1,hourStep:1,minuteStep:1,secondStep:1,showNow:!0,use12Hours:!1,needConfirm:!0}},style:{}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},kD=window.antd.Form,FD=window.antd.Segmented,PD=window.React.forwardRef,LD=window.React.useContext,Bf=window.React.useEffect,RD=window.React.useImperativeHandle,_f=window.React.useState,DD=({id:e,type:r,config:t,onChange:n},a)=>{var v,g,y;const[i,o]=_f([]),[l,s]=_f(!0),[u,f]=_f(!1),c=LD(oe),h=At(m=>m.page.variableData);Bf(()=>{var x;const m=(x=t.props.formItem)==null?void 0:x.name,b=t.props.defaultValue;m&&!ne(b)&&(c==null||c.setFieldValue(m,b))},[t.props.defaultValue]),Bf(()=>{var m;f(((m=t.props.formWrap)==null?void 0:m.disabled)||!1)},[(v=t.props.formWrap)==null?void 0:v.disabled]),Bf(()=>{p({})},[t.api,((g=t.api)==null?void 0:g.sourceType)=="variable"?h:""]);const p=m=>{be(t.api,m).then(b=>{(b==null?void 0:b.ret)===0&&(Array.isArray(b.data)?o(b.data):(console.error("[segmentd]","data数据格式错误，请检查"),o([])))})};RD(a,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)},update:m=>{p(m)}}));const d=m=>{n&&n({[t.props.formItem.name]:m})};return l&&C.jsx(kD.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(FD,{disabled:u,block:(y=t.props.formWrap)==null?void 0:y.block,options:i,style:t.style,onChange:d})})},BD=PD(DD),_D={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"自适应",name:["formWrap","block"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"分段控制器",name:"segmented"},defaultValue:"每周",formWrap:{}},style:{},api:{sourceType:"json",source:["每天","每周","每月","每年"]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},ND=window.antd.Form,$D=window.antd.Cascader,jD=window.React.forwardRef,zD=window.React.useContext,Nf=window.React.useEffect,HD=window.React.useImperativeHandle,$f=window.React.useState,VD=({id:e,type:r,config:t,onChange:n},a)=>{var v;const i=zD(oe),[o,l]=$f([]),[s,u]=$f(!0),[f,c]=$f(!1),h=At(g=>g.page.variableData);Nf(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!ne(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),Nf(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),Nf(()=>{p({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const p=g=>{be(t.api,g).then(y=>{(y==null?void 0:y.ret)===0&&(Array.isArray(y.data)?l(y.data):(console.error("[select]","data数据格式错误，请检查"),l([])))})};HD(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){c(!1)},disable(){c(!0)},update:g=>{p(g)}}));const d=g=>{n&&n({[t.props.formItem.name]:g})};return s&&C.jsx(ND.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx($D,{...t.props.formWrap,disabled:f,variant:t.props.formWrap.variant||void 0,options:o,style:{...t.style},onChange:g=>d(g)})})},WD=jD(VD),jf=window.antd.Cascader,GD={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持多选",name:["formWrap","multiple"]},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Input",label:"默认提示",name:["formWrap","placeholder"]},{type:"Select",label:"回填方式",name:["formWrap","showCheckedStrategy"],tooltip:"只有多选模式下生效",props:{options:[{value:jf.SHOW_CHILD,label:"只显示子节点"},{value:jf.SHOW_PARENT,label:"只显示父节点"}]}},{type:"Select",label:"预设位置",name:["formWrap","placement"],props:{options:[{value:"bottomLeft",label:"bottomLeft"},{value:"bottomRight",label:"bottomRight"},{value:"topLeft",label:"topLeft"},{value:"topRight",label:"topRight"}]}},{type:"Switch",label:"显示搜索",name:["formWrap","showSearch"]},{type:"Select",label:"展开方式",name:["formWrap","expandTrigger"],tooltip:"子菜单的展开方式",props:{options:[{value:"click",label:"点击展开"},{value:"hover",label:"悬浮展开"}]}},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"],tooltip:"最多显示几个Tag，超出会折叠",props:{placeholder:"输入数字"}},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["formWrap","fieldNames","label"]},{type:"Input",label:"value",name:["formWrap","fieldNames","value"]},{type:"Input",label:"children",name:["formWrap","fieldNames","children"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"级联选择",name:"cascader"},formWrap:{placeholder:"请选择",allowClear:!0,showCheckedStrategy:jf.SHOW_PARENT,showSearch:!1,placement:"bottomLeft",fieldNames:{label:"label",value:"value",children:"children"}}},style:{},api:{sourceType:"json",source:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing",children:[{value:"zhonghuamen",label:"Zhong Hua Men"}]}]}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},YD=window.antd.Form,qD=window.antd.Slider,XD=window.React.forwardRef,UD=window.React.useContext,em=window.React.useEffect,KD=window.React.useImperativeHandle,rm=window.React.useState,ZD=({id:e,type:r,config:t,onChange:n,onBlur:a},i)=>{const o=UD(oe),[l,s]=rm(!0),[u,f]=rm(!1);em(()=>{var d;const h=(d=t.props.formItem)==null?void 0:d.name,p=t.props.defaultValue;h&&!ne(p)&&(o==null||o.setFieldValue(h,p))},[t.props.defaultValue]),em(()=>{f(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]);const c=h=>{n==null||n({[t.props.formItem.name]:h})};return KD(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)}})),l&&C.jsx(YD.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(qD,{...t.props.formWrap,disabled:u,style:t.style,onChange:h=>c(h)})})},QD=XD(ZD),JD={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"InputNumber",label:"最小值",name:["formWrap","min"]},{type:"InputNumber",label:"最大值",name:["formWrap","max"]},{type:"InputNumber",label:"步长",name:["formWrap","step"]},{type:"Switch",label:"双滑块",name:["formWrap","range"]},{type:"Switch",label:"反向坐标",name:["formWrap","reverse"]},{type:"Switch",label:"是否禁用",name:["formWrap","disabled"]},{type:"Switch",label:"方向",name:["formWrap","vertical"],tooltip:"默认水平方向"},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{defaultValue:5,formItem:{label:"滑动条",name:"slider"},formWrap:{min:0,max:10,step:1,range:!1,reverse:!1,vertical:!1}},style:{}},events:[{value:"onChange",name:"onChange事件"}]},tB=window.antd.Form,eB=window.antd.TreeSelect,rB=window.React.forwardRef,nB=window.React.useContext,zf=window.React.useEffect,aB=window.React.useImperativeHandle,Hf=window.React.useState,iB=({id:e,type:r,config:t,onChange:n},a)=>{var v;const i=nB(oe),[o,l]=Hf([]),[s,u]=Hf(!0),[f,c]=Hf(!1),h=At(g=>g.page.variableData);zf(()=>{var m;const g=(m=t.props.formItem)==null?void 0:m.name,y=t.props.defaultValue;g&&!ne(y)&&(i==null||i.setFieldValue(g,y))},[t.props.defaultValue]),zf(()=>{c(t.props.formWrap.disabled||!1)},[t.props.formWrap.disabled]),zf(()=>{p({})},[t.api,((v=t.api)==null?void 0:v.sourceType)=="variable"?h:""]);const p=g=>{be(t.api,g).then(y=>{(y==null?void 0:y.ret)===0&&(Array.isArray(y.data)?l(y.data):(console.error("[TreeSelect]","data数据格式错误，请检查"),l([])))})};aB(a,()=>({show(){u(!0)},hide(){u(!1)},enable(){c(!1)},disable(){c(!0)},update:g=>{p(g)}}));const d=g=>{n&&n({[t.props.formItem.name]:g})};return s&&C.jsx(tB.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(eB,{...t.props.formWrap,disabled:f,variant:t.props.formWrap.variant||void 0,treeData:o,style:t.style,onChange:g=>d(g)})})},oB=rB(iB),Vf=window.antd.TreeSelect,lB={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Variable",label:"默认值",name:["defaultValue"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表单配置",key:"title2"},{type:"Switch",label:"支持清除",name:["formWrap","allowClear"]},{type:"Switch",label:"禁用",name:["formWrap","disabled"]},{type:"Switch",label:"labelInValue",name:["formWrap","labelInValue"]},{type:"InputNumber",label:"最大Tag数量",name:["formWrap","maxTagCount"]},{type:"Switch",label:"支持多选",name:["formWrap","multiple"]},{type:"Switch",label:"默认提示",name:["formWrap","placeholder"]},{type:"Select",label:"弹出位置",name:["formWrap","placement"],props:{options:[{value:"bottomLeft",label:"bottomLeft"},{value:"bottomRight",label:"bottomRight"},{value:"topLeft",label:"topLeft"},{value:"topRight",label:"topRight"}]}},{type:"Select",label:"节点回填",name:["formWrap","showCheckedStrategy"],tooltip:"节点为复选框时生效。",props:{options:[{value:Vf.SHOW_ALL,label:"显示所有"},{value:Vf.SHOW_PARENT,label:"显示父节点"},{value:Vf.SHOW_CHILD,label:"显示子节点"}]}},{type:"Switch",label:"支持搜索",name:["formWrap","showSearch"]},{type:"Switch",label:"显示复选框",name:["formWrap","treeCheckable"]},{type:"Switch",label:"父子联动",name:["formWrap","treeCheckStrictly"]},{type:"Switch",label:"简单格式",name:["formWrap","treeDataSimpleMode"],tooltip:'简单格式的 treeData，[{id:1, pId:0, value:1,title:"test"]'},{type:"Switch",label:"展开所有",name:["formWrap","treeDefaultExpandAll"]},{type:"Switch",label:"展示线条",name:["formWrap","treeLine"]},{type:"Select",label:"边框样式",name:["formWrap","variant"],props:{options:[{value:"",label:"无"},{value:"outlined",label:"外边框"},{value:"borderless",label:"无边框"},{value:"filled",label:"填充"}]}},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"字段映射",key:"fieldMap"},{type:"Input",label:"label",name:["formWrap","fieldNames","label"]},{type:"Input",label:"value",name:["formWrap","fieldNames","value"]},{type:"Input",label:"value",name:["formWrap","fieldNames","children"]},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"树选择",name:"treeSelect"},formWrap:{allowClear:!0,fieldNames:{label:"title",value:"value",children:"children"},labelInValue:!1,multiple:!1,placement:"bottomLeft"}},style:{minWidth:120},api:{sourceType:"json",source:[{value:"parent 1",title:"parent 1",children:[{value:"parent 1-0",title:"parent 1-0",children:[{value:"leaf1",title:"leaf1"},{value:"leaf2",title:"leaf2"}]},{value:"parent 1-1",title:"parent 1-1",children:[{value:"leaf3",title:C.jsx("b",{style:{color:"#08c"},children:"leaf3"})}]}]}]}},events:[{value:"onChange",name:"onChange事件"}],methods:[{name:"update",title:"更新数据"}]},sB=window.React.forwardRef,uB=window.React.useContext,cB=window.React.useEffect,fB=window.React.useImperativeHandle,hB=window.React.useState,nm=window.antd.Form,am=window.antd.Space,pB=window.antd.Button,dB=({id:e,type:r,config:t,elements:n},a)=>{const[i,o]=hB(!0),l=uB(oe);return cB(()=>{l==null||l.setFieldValue(t.props.formItem.name,[{}])},[]),fB(a,()=>({show(){o(!0)},hide(){o(!1)}})),i&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(nm.List,{...t.props.formItem,children:(s,{add:u,remove:f})=>C.jsxs(C.Fragment,{children:[s.map(({key:c,name:h,...p})=>C.jsxs(am,{style:{display:"flex",width:"100%",marginBottom:8,padding:"0 10px"},align:"baseline",children:[C.jsx(am,{align:"baseline",direction:t.props.formItem.direction,children:n!=null&&n.length?n==null?void 0:n.map(d=>C.jsx(Hd,{item:{...d,name:h}},d.id)):C.jsx("div",{className:"slots",style:{width:300,height:100,lineHeight:"100px"},children:"拖拽组件到这里"})},c),C.jsx(rr,{onClick:()=>u({title:"-",dataIndex:h+1},h+1)}),C.jsx(ti,{onClick:()=>f(h)})]},c)),C.jsx(nm.Item,{children:C.jsx(pB,{type:"dashed",onClick:()=>u(),block:!0,icon:C.jsx(rr,{}),children:"新增一条"})})]})})})},vB=sB(dB),gB={attrs:[{type:"Title",label:"表单配置",key:"formWrap"},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}}],config:{props:{formItem:{name:"formList",direction:"horizontal"}},style:{}},events:[]},yB=window.React.forwardRef,mB=window.React.useContext,xB=window.React.useEffect,bB=window.React.useImperativeHandle,im=window.React.useMemo,f1=window.React.useState,wB=window.React.memo,SB=window.antd.Table,gi=window.antd.Form,CB=window.antd.Input,AB=window.antd.InputNumber,TB=window.antd.Select,IB=window.antd.DatePicker,EB=window.antd.Switch,MB=window.antd.Space,OB=window.antd.Button,kB=window.dayjs;function FB({id:e,type:r,config:t},n){const[a,i]=f1(!0),o=mB(oe);return bB(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx(gi.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(PB,{config:t,form:o})})}function PB({config:e,form:r}){var u,f,c,h,p;const[t,n]=f1([]),a=At(d=>d.updateToolbar),i=im(()=>{var v;const d={key:Ca("key")};return(v=e.props.formWrap)==null||v.columns.map(g=>{Pr(g.defaultValue)&&(g.type==="date"?typeof g.defaultValue=="string"?d[g.dataIndex]=kB(g.defaultValue):d[g.dataIndex]=g.defaultValue:g.type==="select"?g.dataSource==="static"?d[g.dataIndex]=g.dataType==="text"?g.defaultValue:Number(g.defaultValue):d[g.dataIndex]=Va(g.options.value):d[g.dataIndex]=g.defaultValue)}),d},[(u=e.props.formWrap)==null?void 0:u.columns]);xB(()=>{const d=r==null?void 0:r.getFieldValue(e.props.formItem.name);if(d)d.length!==t.length&&n(()=>[...d.map(v=>({...i,key:v.id||Ca("key")}))]);else{const v={...i,key:Ca("key")};r==null||r.setFieldValue(e.props.formItem.name,[v]),n(()=>[v])}},[r==null?void 0:r.getFieldValue((f=e.props.formItem)==null?void 0:f.name)]);const o=d=>{var g;if(!e.props.formItem.name)return Or.error("请配置name字段");const v=((g=r==null?void 0:r.getFieldsValue())==null?void 0:g[e.props.formItem.name])||[];v.splice(d+1,0,{...i,key:Ca("key")}),r==null||r.setFieldValue(e.props.formItem.name,[...v]),n(()=>[...v.map(y=>({...y,key:y.key||y.id||Ca("key")}))]),a()},l=d=>{var g;const v=((g=r==null?void 0:r.getFieldsValue())==null?void 0:g[e.props.formItem.name])||[];v.splice(d,1),r==null||r.setFieldValue(e.props.formItem.name,[...v]),n(()=>[...v]),a()},s=im(()=>{var d;return{...e.props.formWrap,rowKey:"key",columns:(d=e.props.formWrap)==null?void 0:d.columns.map((v,g)=>{var m,b;const y=[];return(b=(m=v.formItem)==null?void 0:m.rules)==null||b.map(x=>{const w={...x};x.pattern&&(w.pattern=new RegExp(x.pattern)),y.push(w)}),{...v,key:v.dataIndex||g,render(x,w,S){if(v.type==="label")return x;if(v.type==="text")return C.jsx(gi.Item,{style:{margin:0},name:[e.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:C.jsx(CB,{placeholder:v.placeholder,style:{width:"100%"}})});if(v.type==="number")return C.jsx(gi.Item,{style:{margin:0},name:[e.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:C.jsx(AB,{placeholder:v.placeholder,style:{width:"100%"}})});if(v.type==="select"){let A=[];return v.dataSource==="dynamic"?(A=Va(v.options.value)||[],Array.isArray(A)&&v.field.label&&v.field.value&&(A=A.map(I=>({label:I[v.field.label],value:I[v.field.value]})))):A=v.options||[],C.jsx(gi.Item,{style:{margin:0},name:[e.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:C.jsx(TB,{placeholder:v.placeholder,options:A||[],mode:v.mode,style:{width:"100%"}})})}if(v.type==="date")return C.jsx(gi.Item,{style:{margin:0},name:[e.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:C.jsx(IB,{placeholder:v.placeholder,format:v.format,style:{width:"100%"}})});if(v.type==="switch")return C.jsx(gi.Item,{style:{margin:0},name:[e.props.formItem.name,S,v.dataIndex],colon:!1,label:" ",rules:y,children:C.jsx(EB,{})})}}}).concat([{title:"操作",key:"action",align:"center",render(v,g,y){return C.jsxs(MB,{children:[C.jsx("a",{onClick:()=>o(y),children:"添加"}),C.jsx("a",{onClick:()=>l(y),children:"删除"})]})}}]),dataSource:t}},[t,(c=e.props.formWrap)==null?void 0:c.columns]);return C.jsxs(C.Fragment,{children:[C.jsx(SB,{...s,pagination:!1,scroll:{x:(h=s.scroll)==null?void 0:h.x,y:(p=s.scroll)==null?void 0:p.y}}),C.jsx(OB,{type:"dashed",block:!0,icon:C.jsx(rr,{}),style:{marginTop:10},onClick:()=>o(t.length),children:"增加一行"})]})}const LB=wB(yB(FB)),In=window.antd.Input,RB=window.antd.Modal,Kt=window.antd.Form,ci=window.antd.Col,Wf=window.antd.Row,ln=window.antd.Select,om=window.antd.Switch,DB=window.antd.Button,lm=window.antd.Card,sm=window.antd.InputNumber,Be=window.antd.Radio,BB=window.antd.Space,_B=window.antd.DatePicker,NB=window.React.useImperativeHandle,um=window.React.useState,$B=window.React.memo,jB=window.dayjs,zB=$B(e=>{const[r,t]=um(!1),[n,a]=um(0),[i]=Kt.useForm(),{selectedElement:o,elementsMap:l,editTableProps:s}=At(c=>({selectedElement:c.selectedElement,elementsMap:c.page.elementsMap,editTableProps:c.editTableProps}));NB(e.columnRef,()=>({open(c){const h=l[o==null?void 0:o.id],{defaultValue:p,...d}=h.config.props.formWrap.columns[c];i.resetFields(),i.setFieldsValue({align:"center",fixed:"",type:"text",mode:"",dataSource:"static",dataType:"number",defaultValue:p,...d}),d.type==="date"&&p&&i.setFieldsValue({defaultValue:typeof p=="string"?jB(p):p}),a(c),t(!0)}}));const u=()=>{i.validateFields().then(()=>{const c=i.getFieldsValue();c.dataType==="number"&&Array.isArray(c.options)&&c.options.map(h=>{h.value=isNaN(h.value)?h.value:Number(h.value)}),s({id:o==null?void 0:o.id,type:"formTable",index:n,props:{...c,key:c.dataIndex||n}}),e.update(c,n),t(!1)})},f=()=>{t(!1)};return C.jsx(RB,{title:"列设置",open:r,onOk:u,onCancel:f,width:800,children:C.jsxs(Kt,{form:i,labelCol:{span:8},wrapperCol:{span:16},children:[C.jsxs(lm,{title:"基础配置",size:"small",children:[C.jsxs(Wf,{children:[C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"标题",name:"title",rules:[{required:!0,message:"请输入列名"}],children:C.jsx(In,{})})}),C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"字段",name:"dataIndex",rules:[{required:!0,message:"请输入字段名称"}],children:C.jsx(In,{})})})]}),C.jsxs(Wf,{children:[C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"宽度",name:"width",children:C.jsx(sm,{placeholder:"eg: 100"})})}),C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"对齐",name:"align",children:C.jsxs(Be.Group,{buttonStyle:"solid",children:[C.jsx(Be.Button,{value:"left",children:"居左"}),C.jsx(Be.Button,{value:"center",children:"居中"}),C.jsx(Be.Button,{value:"right",children:"居右"})]})})})]}),C.jsxs(Wf,{children:[C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"固定",name:"fixed",children:C.jsxs(Be.Group,{buttonStyle:"solid",children:[C.jsx(Be.Button,{value:"",children:"默认"}),C.jsx(Be.Button,{value:"left",children:"居左"}),C.jsx(Be.Button,{value:"right",children:"居右"})]})})}),C.jsx(ci,{span:12,children:C.jsx(Kt.Item,{label:"列类型",name:"type",children:C.jsxs(ln,{children:[C.jsx(ln.Option,{value:"label",children:"静态文本"}),C.jsx(ln.Option,{value:"text",children:"文本输入框"}),C.jsx(ln.Option,{value:"number",children:"数字输入框"}),C.jsx(ln.Option,{value:"date",children:"日期选择框"}),C.jsx(ln.Option,{value:"select",children:"下拉选择框"}),C.jsx(ln.Option,{value:"switch",children:"开关选择"})]})})})]})]}),C.jsx(Kt.Item,{noStyle:!0,shouldUpdate:!0,children:c=>{const h=c.getFieldValue("type");return h!=="label"&&C.jsxs(lm,{title:"表单配置",style:{marginTop:20},size:"small",children:[C.jsxs(Kt.Item,{label:"默认值",name:"defaultValue",labelCol:{span:4},children:[(h==="text"||h==="select")&&C.jsx(In,{placeholder:"请输入默认值"}),h==="number"&&C.jsx(sm,{placeholder:"请输入默认值",style:{width:"100%"}}),h==="date"&&C.jsx(_B,{placeholder:"请选择日期",format:"YYYY-MM-DD"}),h==="switch"&&C.jsx(om,{})]}),h!=="switch"&&C.jsx(Kt.Item,{label:"提示信息",name:"placeholder",labelCol:{span:4},children:C.jsx(In,{placeholder:"请输入提示信息"})}),h==="select"?C.jsxs(C.Fragment,{children:[C.jsx(Kt.Item,{label:"包含Label",name:["labelInValue"],labelCol:{span:4},tooltip:"提交时，选中的值包含Label和value",children:C.jsx(om,{})}),C.jsx(Kt.Item,{label:"选项模式",name:"mode",labelCol:{span:4},children:C.jsxs(Be.Group,{buttonStyle:"solid",children:[C.jsx(Be.Button,{value:"",children:"单选"}),C.jsx(Be.Button,{value:"multiple",children:"多选"}),C.jsx(Be.Button,{value:"tags",children:"标签"})]})}),C.jsx(Kt.Item,{label:"数据源类型",name:"dataSource",labelCol:{span:4},tooltip:"下拉框的数据来源，静态数据需要手动添加，动态数据可以选择绑定变量。",children:C.jsxs(Be.Group,{buttonStyle:"solid",children:[C.jsx(Be.Button,{value:"static",children:"静态数据"}),C.jsx(Be.Button,{value:"dynamic",children:"动态数据"})]})}),C.jsx(Kt.Item,{name:["dataType"],label:"数据类型",labelCol:{span:4},tooltip:"下拉选项值(value)对应的类型，当前可选：文本和数字",children:C.jsx(ln,{placeholder:"请选择数据类型",options:[{label:"数字",value:"number"},{label:"文本",value:"text"}]})}),C.jsx(Kt.Item,{noStyle:!0,shouldUpdate:!0,children:p=>p.getFieldValue("dataSource")==="static"?C.jsx(Kt.Item,{label:"选项",labelCol:{span:4},children:C.jsx(Kt.List,{name:["options"],children:(v,{add:g,remove:y})=>C.jsxs(C.Fragment,{children:[v.map(({key:m,name:b,...x})=>C.jsxs(BB,{style:{display:"flex"},align:"baseline",children:[C.jsx(Kt.Item,{...x,wrapperCol:{span:22},name:[b,"label"],children:C.jsx(In,{placeholder:"请输入显示的文本"})}),C.jsx(Kt.Item,{...x,wrapperCol:{span:22},name:[b,"value"],shouldUpdate:!0,children:C.jsx(In,{placeholder:"请输入对应的值"})}),C.jsx(rr,{onClick:()=>g({label:"",value:""},b+1)}),C.jsx(ti,{onClick:()=>y(b)})]},m)),C.jsx(DB,{block:!0,type:"primary",onClick:()=>g({label:"",value:""}),children:"增加一行"})]})})}):C.jsxs(C.Fragment,{children:[C.jsx(Kt.Item,{name:["options"],label:"选项",labelCol:{span:4},children:C.jsx(fu,{readOnly:!0,placeholder:"请选择一个动态变量"})}),C.jsx(Kt.Item,{label:"字段映射(label)",name:["field","label"],labelCol:{span:4},extra:"变量返回的数据可能不是[{label:'',value:''}]结构，因此需要做映射。",children:C.jsx(In,{placeholder:"请输入变量中对应的label字段"})}),C.jsx(Kt.Item,{label:"字段映射(value)",name:["field","value"],labelCol:{span:4},children:C.jsx(In,{placeholder:"请输入变量中对应的value字段"})})]})})]}):null,h==="date"&&C.jsx(Kt.Item,{label:"日期格式",name:"format",labelCol:{span:4},children:C.jsx(ln,{options:[{label:"年-月-日",value:"YYYY-MM-DD"},{label:"年-月-日 23:59:59",value:"YYYY-MM-DD 23:59:59"}]})}),C.jsx(Kt.Item,{labelCol:{span:4},label:"表单验证",children:C.jsx(ke,{form:c,labelSpan:5},"rule-list")})]})}})]})})}),Gf=window.antd.Form,cm=window.antd.Input,HB=window.antd.Space,VB=window.React.memo,WB=window.React.useRef,GB=VB(({form:e})=>{const r=WB(),t=a=>{var i;(i=r.current)==null||i.open(a)},n=(a,i)=>{e.setFieldValue(["formWrap","columns",i],a)};return C.jsxs(C.Fragment,{children:[C.jsx(Gf.List,{name:["formWrap","columns"],children:(a,{add:i,remove:o})=>C.jsx(C.Fragment,{children:a.map(({key:l,name:s,...u})=>C.jsxs(HB,{style:{display:"flex",marginBottom:8,padding:"0 10px"},align:"baseline",children:[C.jsx(Gf.Item,{...u,wrapperCol:{span:22},name:[s,"title"],children:C.jsx(cm,{placeholder:"列名称"})}),C.jsx(Gf.Item,{...u,wrapperCol:{span:22},name:[s,"dataIndex"],children:C.jsx(cm,{placeholder:"列字段",style:{width:"100%"}})}),C.jsx(Ku,{onClick:()=>t(s)}),C.jsx(rr,{onClick:()=>i({title:`列${s+2}`,dataIndex:`Col-${s+2}`,type:"text"},s+1)}),C.jsx(ti,{onClick:()=>o(s)})]},l))})}),C.jsx(zB,{columnRef:r,update:n})]})}),YB=GB,qB={attrs:[{type:"Title",label:"标签配置",key:"title1"},{type:"Input",label:"标题",name:["formItem","label"]},{type:"Input",label:"字段",name:["formItem","name"]},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息"},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息"},{type:"Title",label:"表格配置"},{type:"Switch",label:"显示边框",name:["formWrap","bordered"]},{type:"Select",label:"表格尺寸",name:["formWrap","size"],props:{options:[{label:"默认",value:"large"},{label:"中等",value:"middle"},{label:"紧凑",value:"small"}]}},{type:"InputNumber",label:"滚动轴(x)",name:["formWrap","scroll","x"],tooltip:"如果需要横向滚动，请设置x值，尽量比表格实际宽度大",props:{placeholder:"eg: 1000"}},{type:"InputNumber",label:"滚动轴(y)",name:["formWrap","scroll","y"],tooltip:"如果需要纵向滚动，请设置y值来固定高度",props:{placeholder:"eg: 600"}},{type:"Title",label:"列配置",key:"columnConfig"},{type:"function",key:"TableSetting",render(e){return C.jsx(YB,{form:e},"TableSetting")}}],config:{props:{formItem:{label:"编辑用户",name:"userData"},formWrap:{field:"data",size:"large",bordered:!0,columns:[{title:"姓名",dataIndex:"name",key:"name",align:"center",type:"text",defaultValue:"",placeholder:"请输入姓名"},{title:"年级",dataIndex:"grade",key:"grade",align:"center",type:"select",options:[{label:"一年级",value:1},{label:"二年级",value:2},{label:"三年级",value:3}],dataSource:"static",defaultValue:3,placeholder:"请选择年级"},{title:"分数",dataIndex:"score",key:"score",align:"center",type:"number",defaultValue:"",placeholder:"请输入分数"},{title:"出生日期",dataIndex:"birthday",key:"birthday",type:"date",align:"center",format:"YYYY-MM-DD",defaultValue:"2020-08-08",placeholder:"请选择日期"},{title:"共青团员",dataIndex:"isMember",key:"isMember",align:"center",type:"switch",defaultValue:!0}]}},style:{},events:[],api:{sourceType:"json",sourceField:"list",source:[]}},events:[],methods:[]};function XB(){this.__data__=[],this.size=0}var UB=XB;function KB(e,r){return e===r||e!==e&&r!==r}var h1=KB,ZB=h1;function QB(e,r){for(var t=e.length;t--;)if(ZB(e[t][0],r))return t;return-1}var tc=QB,JB=tc,t_=Array.prototype,e_=t_.splice;function r_(e){var r=this.__data__,t=JB(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():e_.call(r,t,1),--this.size,!0}var n_=r_,a_=tc;function i_(e){var r=this.__data__,t=a_(r,e);return t<0?void 0:r[t][1]}var o_=i_,l_=tc;function s_(e){return l_(this.__data__,e)>-1}var u_=s_,c_=tc;function f_(e,r){var t=this.__data__,n=c_(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var h_=f_,p_=UB,d_=n_,v_=o_,g_=u_,y_=h_;function Ji(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Ji.prototype.clear=p_;Ji.prototype.delete=d_;Ji.prototype.get=v_;Ji.prototype.has=g_;Ji.prototype.set=y_;var ec=Ji,m_=ec;function x_(){this.__data__=new m_,this.size=0}var b_=x_;function w_(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var S_=w_;function C_(e){return this.__data__.get(e)}var A_=C_;function T_(e){return this.__data__.has(e)}var I_=T_,E_=typeof qe=="object"&&qe&&qe.Object===Object&&qe,p1=E_,M_=p1,O_=typeof self=="object"&&self&&self.Object===Object&&self,k_=M_||O_||Function("return this")(),Sn=k_,F_=Sn,P_=F_.Symbol,Wd=P_,fm=Wd,d1=Object.prototype,L_=d1.hasOwnProperty,R_=d1.toString,bo=fm?fm.toStringTag:void 0;function D_(e){var r=L_.call(e,bo),t=e[bo];try{e[bo]=void 0;var n=!0}catch{}var a=R_.call(e);return n&&(r?e[bo]=t:delete e[bo]),a}var B_=D_,__=Object.prototype,N_=__.toString;function $_(e){return N_.call(e)}var j_=$_,hm=Wd,z_=B_,H_=j_,V_="[object Null]",W_="[object Undefined]",pm=hm?hm.toStringTag:void 0;function G_(e){return e==null?e===void 0?W_:V_:pm&&pm in Object(e)?z_(e):H_(e)}var rc=G_;function Y_(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var v1=Y_,q_=rc,X_=v1,U_="[object AsyncFunction]",K_="[object Function]",Z_="[object GeneratorFunction]",Q_="[object Proxy]";function J_(e){if(!X_(e))return!1;var r=q_(e);return r==K_||r==Z_||r==U_||r==Q_}var g1=J_,tN=Sn,eN=tN["__core-js_shared__"],rN=eN,Yf=rN,dm=function(){var e=/[^.]+$/.exec(Yf&&Yf.keys&&Yf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nN(e){return!!dm&&dm in e}var aN=nN,iN=Function.prototype,oN=iN.toString;function lN(e){if(e!=null){try{return oN.call(e)}catch{}try{return e+""}catch{}}return""}var y1=lN,sN=g1,uN=aN,cN=v1,fN=y1,hN=/[\\^$.*+?()[\]{}|]/g,pN=/^\[object .+?Constructor\]$/,dN=Function.prototype,vN=Object.prototype,gN=dN.toString,yN=vN.hasOwnProperty,mN=RegExp("^"+gN.call(yN).replace(hN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xN(e){if(!cN(e)||uN(e))return!1;var r=sN(e)?mN:pN;return r.test(fN(e))}var bN=xN;function wN(e,r){return e==null?void 0:e[r]}var SN=wN,CN=bN,AN=SN;function TN(e,r){var t=AN(e,r);return CN(t)?t:void 0}var to=TN,IN=to,EN=Sn,MN=IN(EN,"Map"),Gd=MN,ON=to,kN=ON(Object,"create"),nc=kN,vm=nc;function FN(){this.__data__=vm?vm(null):{},this.size=0}var PN=FN;function LN(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var RN=LN,DN=nc,BN="__lodash_hash_undefined__",_N=Object.prototype,NN=_N.hasOwnProperty;function $N(e){var r=this.__data__;if(DN){var t=r[e];return t===BN?void 0:t}return NN.call(r,e)?r[e]:void 0}var jN=$N,zN=nc,HN=Object.prototype,VN=HN.hasOwnProperty;function WN(e){var r=this.__data__;return zN?r[e]!==void 0:VN.call(r,e)}var GN=WN,YN=nc,qN="__lodash_hash_undefined__";function XN(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=YN&&r===void 0?qN:r,this}var UN=XN,KN=PN,ZN=RN,QN=jN,JN=GN,t$=UN;function eo(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}eo.prototype.clear=KN;eo.prototype.delete=ZN;eo.prototype.get=QN;eo.prototype.has=JN;eo.prototype.set=t$;var e$=eo,gm=e$,r$=ec,n$=Gd;function a$(){this.size=0,this.__data__={hash:new gm,map:new(n$||r$),string:new gm}}var i$=a$;function o$(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var l$=o$,s$=l$;function u$(e,r){var t=e.__data__;return s$(r)?t[typeof r=="string"?"string":"hash"]:t.map}var ac=u$,c$=ac;function f$(e){var r=c$(this,e).delete(e);return this.size-=r?1:0,r}var h$=f$,p$=ac;function d$(e){return p$(this,e).get(e)}var v$=d$,g$=ac;function y$(e){return g$(this,e).has(e)}var m$=y$,x$=ac;function b$(e,r){var t=x$(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var w$=b$,S$=i$,C$=h$,A$=v$,T$=m$,I$=w$;function ro(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ro.prototype.clear=S$;ro.prototype.delete=C$;ro.prototype.get=A$;ro.prototype.has=T$;ro.prototype.set=I$;var m1=ro,E$=ec,M$=Gd,O$=m1,k$=200;function F$(e,r){var t=this.__data__;if(t instanceof E$){var n=t.__data__;if(!M$||n.length<k$-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new O$(n)}return t.set(e,r),this.size=t.size,this}var P$=F$,L$=ec,R$=b_,D$=S_,B$=A_,_$=I_,N$=P$;function no(e){var r=this.__data__=new L$(e);this.size=r.size}no.prototype.clear=R$;no.prototype.delete=D$;no.prototype.get=B$;no.prototype.has=_$;no.prototype.set=N$;var $$=no,j$="__lodash_hash_undefined__";function z$(e){return this.__data__.set(e,j$),this}var H$=z$;function V$(e){return this.__data__.has(e)}var W$=V$,G$=m1,Y$=H$,q$=W$;function mu(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new G$;++r<t;)this.add(e[r])}mu.prototype.add=mu.prototype.push=Y$;mu.prototype.has=q$;var X$=mu;function U$(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var K$=U$;function Z$(e,r){return e.has(r)}var Q$=Z$,J$=X$,t5=K$,e5=Q$,r5=1,n5=2;function a5(e,r,t,n,a,i){var o=t&r5,l=e.length,s=r.length;if(l!=s&&!(o&&s>l))return!1;var u=i.get(e),f=i.get(r);if(u&&f)return u==r&&f==e;var c=-1,h=!0,p=t&n5?new J$:void 0;for(i.set(e,r),i.set(r,e);++c<l;){var d=e[c],v=r[c];if(n)var g=o?n(v,d,c,r,e,i):n(d,v,c,e,r,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!t5(r,function(y,m){if(!e5(p,m)&&(d===y||a(d,y,t,n,i)))return p.push(m)})){h=!1;break}}else if(!(d===v||a(d,v,t,n,i))){h=!1;break}}return i.delete(e),i.delete(r),h}var x1=a5,i5=Sn,o5=i5.Uint8Array,l5=o5;function s5(e){var r=-1,t=Array(e.size);return e.forEach(function(n,a){t[++r]=[a,n]}),t}var u5=s5;function c5(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var f5=c5,ym=Wd,mm=l5,h5=h1,p5=x1,d5=u5,v5=f5,g5=1,y5=2,m5="[object Boolean]",x5="[object Date]",b5="[object Error]",w5="[object Map]",S5="[object Number]",C5="[object RegExp]",A5="[object Set]",T5="[object String]",I5="[object Symbol]",E5="[object ArrayBuffer]",M5="[object DataView]",xm=ym?ym.prototype:void 0,qf=xm?xm.valueOf:void 0;function O5(e,r,t,n,a,i,o){switch(t){case M5:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case E5:return!(e.byteLength!=r.byteLength||!i(new mm(e),new mm(r)));case m5:case x5:case S5:return h5(+e,+r);case b5:return e.name==r.name&&e.message==r.message;case C5:case T5:return e==r+"";case w5:var l=d5;case A5:var s=n&g5;if(l||(l=v5),e.size!=r.size&&!s)return!1;var u=o.get(e);if(u)return u==r;n|=y5,o.set(e,r);var f=p5(l(e),l(r),n,a,i,o);return o.delete(e),f;case I5:if(qf)return qf.call(e)==qf.call(r)}return!1}var k5=O5;function F5(e,r){for(var t=-1,n=r.length,a=e.length;++t<n;)e[a+t]=r[t];return e}var P5=F5,L5=Array.isArray,Yd=L5,R5=P5,D5=Yd;function B5(e,r,t){var n=r(e);return D5(e)?n:R5(n,t(e))}var _5=B5;function N5(e,r){for(var t=-1,n=e==null?0:e.length,a=0,i=[];++t<n;){var o=e[t];r(o,t,e)&&(i[a++]=o)}return i}var $5=N5;function j5(){return[]}var z5=j5,H5=$5,V5=z5,W5=Object.prototype,G5=W5.propertyIsEnumerable,bm=Object.getOwnPropertySymbols,Y5=bm?function(e){return e==null?[]:(e=Object(e),H5(bm(e),function(r){return G5.call(e,r)}))}:V5,q5=Y5;function X5(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var U5=X5;function K5(e){return e!=null&&typeof e=="object"}var ic=K5,Z5=rc,Q5=ic,J5="[object Arguments]";function tj(e){return Q5(e)&&Z5(e)==J5}var ej=tj,wm=ej,rj=ic,b1=Object.prototype,nj=b1.hasOwnProperty,aj=b1.propertyIsEnumerable,ij=wm(function(){return arguments}())?wm:function(e){return rj(e)&&nj.call(e,"callee")&&!aj.call(e,"callee")},oj=ij,xu={exports:{}};function lj(){return!1}var sj=lj;xu.exports;(function(e,r){var t=Sn,n=sj,a=r&&!r.nodeType&&r,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?t.Buffer:void 0,s=l?l.isBuffer:void 0,u=s||n;e.exports=u})(xu,xu.exports);var w1=xu.exports,uj=9007199254740991,cj=/^(?:0|[1-9]\d*)$/;function fj(e,r){var t=typeof e;return r=r??uj,!!r&&(t=="number"||t!="symbol"&&cj.test(e))&&e>-1&&e%1==0&&e<r}var hj=fj,pj=9007199254740991;function dj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pj}var S1=dj,vj=rc,gj=S1,yj=ic,mj="[object Arguments]",xj="[object Array]",bj="[object Boolean]",wj="[object Date]",Sj="[object Error]",Cj="[object Function]",Aj="[object Map]",Tj="[object Number]",Ij="[object Object]",Ej="[object RegExp]",Mj="[object Set]",Oj="[object String]",kj="[object WeakMap]",Fj="[object ArrayBuffer]",Pj="[object DataView]",Lj="[object Float32Array]",Rj="[object Float64Array]",Dj="[object Int8Array]",Bj="[object Int16Array]",_j="[object Int32Array]",Nj="[object Uint8Array]",$j="[object Uint8ClampedArray]",jj="[object Uint16Array]",zj="[object Uint32Array]",Zt={};Zt[Lj]=Zt[Rj]=Zt[Dj]=Zt[Bj]=Zt[_j]=Zt[Nj]=Zt[$j]=Zt[jj]=Zt[zj]=!0;Zt[mj]=Zt[xj]=Zt[Fj]=Zt[bj]=Zt[Pj]=Zt[wj]=Zt[Sj]=Zt[Cj]=Zt[Aj]=Zt[Tj]=Zt[Ij]=Zt[Ej]=Zt[Mj]=Zt[Oj]=Zt[kj]=!1;function Hj(e){return yj(e)&&gj(e.length)&&!!Zt[vj(e)]}var Vj=Hj;function Wj(e){return function(r){return e(r)}}var Gj=Wj,bu={exports:{}};bu.exports;(function(e,r){var t=p1,n=r&&!r.nodeType&&r,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&t.process,l=function(){try{var s=a&&a.require&&a.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(bu,bu.exports);var Yj=bu.exports,qj=Vj,Xj=Gj,Sm=Yj,Cm=Sm&&Sm.isTypedArray,Uj=Cm?Xj(Cm):qj,C1=Uj,Kj=U5,Zj=oj,Qj=Yd,Jj=w1,t3=hj,e3=C1,r3=Object.prototype,n3=r3.hasOwnProperty;function a3(e,r){var t=Qj(e),n=!t&&Zj(e),a=!t&&!n&&Jj(e),i=!t&&!n&&!a&&e3(e),o=t||n||a||i,l=o?Kj(e.length,String):[],s=l.length;for(var u in e)(r||n3.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||t3(u,s)))&&l.push(u);return l}var i3=a3,o3=Object.prototype;function l3(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||o3;return e===t}var s3=l3;function u3(e,r){return function(t){return e(r(t))}}var c3=u3,f3=c3,h3=f3(Object.keys,Object),p3=h3,d3=s3,v3=p3,g3=Object.prototype,y3=g3.hasOwnProperty;function m3(e){if(!d3(e))return v3(e);var r=[];for(var t in Object(e))y3.call(e,t)&&t!="constructor"&&r.push(t);return r}var x3=m3,b3=g1,w3=S1;function S3(e){return e!=null&&w3(e.length)&&!b3(e)}var C3=S3,A3=i3,T3=x3,I3=C3;function E3(e){return I3(e)?A3(e):T3(e)}var M3=E3,O3=_5,k3=q5,F3=M3;function P3(e){return O3(e,F3,k3)}var L3=P3,Am=L3,R3=1,D3=Object.prototype,B3=D3.hasOwnProperty;function _3(e,r,t,n,a,i){var o=t&R3,l=Am(e),s=l.length,u=Am(r),f=u.length;if(s!=f&&!o)return!1;for(var c=s;c--;){var h=l[c];if(!(o?h in r:B3.call(r,h)))return!1}var p=i.get(e),d=i.get(r);if(p&&d)return p==r&&d==e;var v=!0;i.set(e,r),i.set(r,e);for(var g=o;++c<s;){h=l[c];var y=e[h],m=r[h];if(n)var b=o?n(m,y,h,r,e,i):n(y,m,h,e,r,i);if(!(b===void 0?y===m||a(y,m,t,n,i):b)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var x=e.constructor,w=r.constructor;x!=w&&"constructor"in e&&"constructor"in r&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(v=!1)}return i.delete(e),i.delete(r),v}var N3=_3,$3=to,j3=Sn,z3=$3(j3,"DataView"),H3=z3,V3=to,W3=Sn,G3=V3(W3,"Promise"),Y3=G3,q3=to,X3=Sn,U3=q3(X3,"Set"),K3=U3,Z3=to,Q3=Sn,J3=Z3(Q3,"WeakMap"),t4=J3,Ap=H3,Tp=Gd,Ip=Y3,Ep=K3,Mp=t4,A1=rc,ao=y1,Tm="[object Map]",e4="[object Object]",Im="[object Promise]",Em="[object Set]",Mm="[object WeakMap]",Om="[object DataView]",r4=ao(Ap),n4=ao(Tp),a4=ao(Ip),i4=ao(Ep),o4=ao(Mp),ba=A1;(Ap&&ba(new Ap(new ArrayBuffer(1)))!=Om||Tp&&ba(new Tp)!=Tm||Ip&&ba(Ip.resolve())!=Im||Ep&&ba(new Ep)!=Em||Mp&&ba(new Mp)!=Mm)&&(ba=function(e){var r=A1(e),t=r==e4?e.constructor:void 0,n=t?ao(t):"";if(n)switch(n){case r4:return Om;case n4:return Tm;case a4:return Im;case i4:return Em;case o4:return Mm}return r});var l4=ba,Xf=$$,s4=x1,u4=k5,c4=N3,km=l4,Fm=Yd,Pm=w1,f4=C1,h4=1,Lm="[object Arguments]",Rm="[object Array]",fs="[object Object]",p4=Object.prototype,Dm=p4.hasOwnProperty;function d4(e,r,t,n,a,i){var o=Fm(e),l=Fm(r),s=o?Rm:km(e),u=l?Rm:km(r);s=s==Lm?fs:s,u=u==Lm?fs:u;var f=s==fs,c=u==fs,h=s==u;if(h&&Pm(e)){if(!Pm(r))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new Xf),o||f4(e)?s4(e,r,t,n,a,i):u4(e,r,s,t,n,a,i);if(!(t&h4)){var p=f&&Dm.call(e,"__wrapped__"),d=c&&Dm.call(r,"__wrapped__");if(p||d){var v=p?e.value():e,g=d?r.value():r;return i||(i=new Xf),a(v,g,t,n,i)}}return h?(i||(i=new Xf),c4(e,r,t,n,a,i)):!1}var v4=d4,g4=v4,Bm=ic;function T1(e,r,t,n,a){return e===r?!0:e==null||r==null||!Bm(e)&&!Bm(r)?e!==e&&r!==r:g4(e,r,t,n,T1,a)}var y4=T1,m4=y4;function x4(e,r){return m4(e,r)}var b4=x4,I1={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,r){(function(n,a){e.exports=a()})(typeof self<"u"?self:qe,function(){return function(t){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=n,a.d=function(i,o,l){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=109)}([function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(17),o=a(18),l=a(19),s=a(45),u=a(46),f=a(47),c=a(48),h=a(49),p=a(12),d=a(32),v=a(33),g=a(31),y=a(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:c.default,Scroll:s.default,Block:f.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:d.default,Style:v.default,Store:g.default}};n.default=m},function(t,n,a){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var b in m)m.hasOwnProperty(b)&&(y[b]=m[b])};return function(y,m){g(y,m);function b(){this.constructor=y}y.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){i(y,g);function y(m){var b=this;return m="[Parchment] "+m,b=g.call(this,m)||this,b.message=m,b.name=b.constructor.name,b}return y}(Error);n.ParchmentError=o;var l={},s={},u={},f={};n.DATA_KEY="__blot";var c;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(c=n.Scope||(n.Scope={}));function h(g,y){var m=d(g);if(m==null)throw new o("Unable to create "+g+" blot");var b=m,x=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:b.create(y);return new b(x,y)}n.create=h;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function d(g,y){y===void 0&&(y=c.ANY);var m;if(typeof g=="string")m=f[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=f.text;else if(typeof g=="number")g&c.LEVEL&c.BLOCK?m=f.block:g&c.LEVEL&c.INLINE&&(m=f.inline);else if(g instanceof HTMLElement){var b=(g.getAttribute("class")||"").split(/\s+/);for(var x in b)if(m=s[b[x]],m)break;m=m||u[g.tagName]}return m==null?null:y&c.LEVEL&m.scope&&y&c.TYPE&m.scope?m:null}n.query=d;function v(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(x){return v(x)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(f[m.blotName||m.attrName]=m,typeof m.keyName=="string")l[m.keyName]=m;else if(m.className!=null&&(s[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(x){return x.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var b=Array.isArray(m.tagName)?m.tagName:[m.tagName];b.forEach(function(x){(u[x]==null||m.className==null)&&(u[x]=m)})}return m}n.register=v},function(t,n,a){var i=a(51),o=a(11),l=a(3),s=a(20),u="\0",f=function(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]};f.prototype.insert=function(c,h){var p={};return c.length===0?this:(p.insert=c,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},f.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},f.prototype.retain=function(c,h){if(c<=0)return this;var p={retain:c};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},f.prototype.push=function(c){var h=this.ops.length,p=this.ops[h-1];if(c=l(!0,{},c),typeof p=="object"){if(typeof c.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+c.delete},this;if(typeof p.delete=="number"&&c.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(c),this;if(o(c.attributes,p.attributes)){if(typeof c.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+c.insert},typeof c.attributes=="object"&&(this.ops[h-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+c.retain},typeof c.attributes=="object"&&(this.ops[h-1].attributes=c.attributes),this}}return h===this.ops.length?this.ops.push(c):this.ops.splice(h,0,c),this},f.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},f.prototype.filter=function(c){return this.ops.filter(c)},f.prototype.forEach=function(c){this.ops.forEach(c)},f.prototype.map=function(c){return this.ops.map(c)},f.prototype.partition=function(c){var h=[],p=[];return this.forEach(function(d){var v=c(d)?h:p;v.push(d)}),[h,p]},f.prototype.reduce=function(c,h){return this.ops.reduce(c,h)},f.prototype.changeLength=function(){return this.reduce(function(c,h){return h.insert?c+s.length(h):h.delete?c-h.delete:c},0)},f.prototype.length=function(){return this.reduce(function(c,h){return c+s.length(h)},0)},f.prototype.slice=function(c,h){c=c||0,typeof h!="number"&&(h=1/0);for(var p=[],d=s.iterator(this.ops),v=0;v<h&&d.hasNext();){var g;v<c?g=d.next(c-v):(g=d.next(h-v),p.push(g)),v+=s.length(g)}return new f(p)},f.prototype.compose=function(c){var h=s.iterator(this.ops),p=s.iterator(c.ops),d=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;h.peekType()==="insert"&&h.peekLength()<=g;)g-=h.peekLength(),d.push(h.next());v.retain-g>0&&p.next(v.retain-g)}for(var y=new f(d);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(h.peekType()==="delete")y.push(h.next());else{var m=Math.min(h.peekLength(),p.peekLength()),b=h.next(m),x=p.next(m);if(typeof x.retain=="number"){var w={};typeof b.retain=="number"?w.retain=m:w.insert=b.insert;var S=s.attributes.compose(b.attributes,x.attributes,typeof b.retain=="number");if(S&&(w.attributes=S),y.push(w),!p.hasNext()&&o(y.ops[y.ops.length-1],w)){var A=new f(h.rest());return y.concat(A).chop()}}else typeof x.delete=="number"&&typeof b.retain=="number"&&y.push(x)}return y.chop()},f.prototype.concat=function(c){var h=new f(this.ops.slice());return c.ops.length>0&&(h.push(c.ops[0]),h.ops=h.ops.concat(c.ops.slice(1))),h},f.prototype.diff=function(c,h){if(this.ops===c.ops)return new f;var p=[this,c].map(function(m){return m.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var x=m===c?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),d=new f,v=i(p[0],p[1],h),g=s.iterator(this.ops),y=s.iterator(c.ops);return v.forEach(function(m){for(var b=m[1].length;b>0;){var x=0;switch(m[0]){case i.INSERT:x=Math.min(y.peekLength(),b),d.push(y.next(x));break;case i.DELETE:x=Math.min(b,g.peekLength()),g.next(x),d.delete(x);break;case i.EQUAL:x=Math.min(g.peekLength(),y.peekLength(),b);var w=g.next(x),S=y.next(x);o(w.insert,S.insert)?d.retain(x,s.attributes.diff(w.attributes,S.attributes)):d.push(S).delete(x);break}b-=x}}),d.chop()},f.prototype.eachLine=function(c,h){h=h||`
`;for(var p=s.iterator(this.ops),d=new f,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=s.length(g)-p.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(h,y)-y:-1;if(m<0)d.push(p.next());else if(m>0)d.push(p.next(m));else{if(c(d,p.next(1).attributes||{},v)===!1)return;v+=1,d=new f}}d.length()>0&&c(d,{},v)},f.prototype.transform=function(c,h){if(h=!!h,typeof c=="number")return this.transformPosition(c,h);for(var p=s.iterator(this.ops),d=s.iterator(c.ops),v=new f;p.hasNext()||d.hasNext();)if(p.peekType()==="insert"&&(h||d.peekType()!=="insert"))v.retain(s.length(p.next()));else if(d.peekType()==="insert")v.push(d.next());else{var g=Math.min(p.peekLength(),d.peekLength()),y=p.next(g),m=d.next(g);if(y.delete)continue;m.delete?v.push(m):v.retain(g,s.attributes.transform(y.attributes,m.attributes,h))}return v.chop()},f.prototype.transformPosition=function(c,h){h=!!h;for(var p=s.iterator(this.ops),d=0;p.hasNext()&&d<=c;){var v=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){c-=Math.min(v,c-d);continue}else g==="insert"&&(d<c||!h)&&(c+=v);d+=v}return c},t.exports=f},function(t,n){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},u=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var d=a.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!d&&!v)return!1;var g;for(g in p);return typeof g>"u"||a.call(p,g)},f=function(p,d){o&&d.name==="__proto__"?o(p,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):p[d.name]=d.newValue},c=function(p,d){if(d==="__proto__")if(a.call(p,d)){if(l)return l(p,d).value}else return;return p[d]};t.exports=function h(){var p,d,v,g,y,m,b=arguments[0],x=1,w=arguments.length,S=!1;for(typeof b=="boolean"&&(S=b,b=arguments[1]||{},x=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});x<w;++x)if(p=arguments[x],p!=null)for(d in p)v=c(b,d),g=c(p,d),b!==g&&(S&&g&&(u(g)||(y=s(g)))?(y?(y=!1,m=v&&s(v)?v:[]):m=v&&u(v)?v:{},f(b,{name:d,newValue:h(S,m,g)})):typeof g<"u"&&f(b,{name:d,newValue:g}));return b}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function M(O,F){for(var L=0;L<F.length;L++){var D=F[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}return function(O,F,L){return F&&M(O.prototype,F),L&&M(O,L),O}}(),o=function M(O,F,L){O===null&&(O=Function.prototype);var D=Object.getOwnPropertyDescriptor(O,F);if(D===void 0){var _=Object.getPrototypeOf(O);return _===null?void 0:M(_,F,L)}else{if("value"in D)return D.value;var z=D.get;return z===void 0?void 0:z.call(L)}},l=a(3),s=b(l),u=a(2),f=b(u),c=a(0),h=b(c),p=a(16),d=b(p),v=a(6),g=b(v),y=a(7),m=b(y);function b(M){return M&&M.__esModule?M:{default:M}}function x(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function w(M,O){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:M}function S(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(M,O):M.__proto__=O)}var A=1,I=function(M){S(O,M);function O(){return x(this,O),w(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return i(O,[{key:"attach",value:function(){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,s.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,D){var _=h.default.query(L,h.default.Scope.BLOCK_ATTRIBUTE);_!=null&&this.attributes.attribute(_,D)}},{key:"formatAt",value:function(L,D,_,z){this.format(_,z)}},{key:"insertAt",value:function(L,D,_){if(typeof D=="string"&&D.endsWith(`
`)){var z=h.default.create(k.blotName);this.parent.insertBefore(z,L===0?this:this.next),z.insertAt(0,D.slice(0,-1))}else o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,D,_)}}]),O}(h.default.Embed);I.scope=h.default.Scope.BLOCK_BLOT;var k=function(M){S(O,M);function O(F){x(this,O);var L=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F));return L.cache={},L}return i(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(L,D){return D.length()===0?L:L.insert(D.value(),E(D))},new f.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(L,D){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,L,D),this.cache={}}},{key:"formatAt",value:function(L,D,_,z){D<=0||(h.default.query(_,h.default.Scope.BLOCK)?L+D===this.length()&&this.format(_,z):o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,L,Math.min(D,this.length()-L-1),_,z),this.cache={})}},{key:"insertAt",value:function(L,D,_){if(_!=null)return o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,L,D,_);if(D.length!==0){var z=D.split(`
`),X=z.shift();X.length>0&&(L<this.length()-1||this.children.tail==null?o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var V=this;z.reduce(function(N,P){return V=V.split(N,!0),V.insertAt(0,P),P.length},L+X.length)}}},{key:"insertBefore",value:function(L,D){var _=this.children.head;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,L,D),_ instanceof d.default&&_.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,D){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,L,D),this.cache={}}},{key:"optimize",value:function(L){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(L===0||L>=this.length()-A)){var _=this.clone();return L===0?(this.parent.insertBefore(_,this),this):(this.parent.insertBefore(_,this.next),_)}else{var z=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,L,D);return this.cache={},z}}}]),O}(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[g.default,h.default.Embed,m.default];function E(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return M==null||(typeof M.formats=="function"&&(O=(0,s.default)(O,M.formats())),M.parent==null||M.parent.blotName=="scroll"||M.parent.statics.scope!==M.statics.scope)?O:E(M.parent,O)}n.bubbleFormats=E,n.BlockEmbed=I,n.default=k},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(N,P){var j=[],H=!0,Y=!1,G=void 0;try{for(var R=N[Symbol.iterator](),W;!(H=(W=R.next()).done)&&(j.push(W.value),!(P&&j.length===P));H=!0);}catch(U){Y=!0,G=U}finally{try{!H&&R.return&&R.return()}finally{if(Y)throw G}}return j}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return V(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(N,P){for(var j=0;j<P.length;j++){var H=P[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}return function(N,P,j){return P&&V(N.prototype,P),j&&V(N,j),N}}();a(50);var s=a(2),u=E(s),f=a(14),c=E(f),h=a(8),p=E(h),d=a(9),v=E(d),g=a(0),y=E(g),m=a(15),b=E(m),x=a(3),w=E(x),S=a(10),A=E(S),I=a(34),k=E(I);function E(V){return V&&V.__esModule?V:{default:V}}function M(V,N,P){return N in V?Object.defineProperty(V,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[N]=P,V}function O(V,N){if(!(V instanceof N))throw new TypeError("Cannot call a class as a function")}var F=(0,A.default)("quill"),L=function(){l(V,null,[{key:"debug",value:function(P){P===!0&&(P="log"),A.default.level(P)}},{key:"find",value:function(P){return P.__quill||y.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&F.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,j){var H=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var G=P.attrName||P.blotName;typeof G=="string"?this.register("formats/"+G,P,j):Object.keys(P).forEach(function(R){H.register(R,P[R],j)})}else this.imports[P]!=null&&!Y&&F.warn("Overwriting "+P+" with",j),this.imports[P]=j,(P.startsWith("blots/")||P.startsWith("formats/"))&&j.blotName!=="abstract"?y.default.register(j):P.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function V(N){var P=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,V),this.options=D(N,j),this.container=this.options.container,this.container==null)return F.error("Invalid Quill container",N);this.options.debug&&V.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(G){G===p.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(G,R){var W=P.selection.lastRange,U=W&&W.length===0?W.index:void 0;_.call(P,function(){return P.editor.update(null,R,U)},G)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(V,[{key:"addContainer",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var H=P;P=document.createElement("div"),P.classList.add(H)}return this.container.insertBefore(P,j),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,j,H){var Y=this,G=z(P,j,H),R=o(G,4);return P=R[0],j=R[1],H=R[3],_.call(this,function(){return Y.editor.deleteText(P,j)},H,P,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,j){var H=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return _.call(this,function(){var G=H.getSelection(!0),R=new u.default;if(G==null)return R;if(y.default.query(P,y.default.Scope.BLOCK))R=H.editor.formatLine(G.index,G.length,M({},P,j));else{if(G.length===0)return H.selection.format(P,j),R;R=H.editor.formatText(G.index,G.length,M({},P,j))}return H.setSelection(G,p.default.sources.SILENT),R},Y)}},{key:"formatLine",value:function(P,j,H,Y,G){var R=this,W=void 0,U=z(P,j,H,Y,G),K=o(U,4);return P=K[0],j=K[1],W=K[2],G=K[3],_.call(this,function(){return R.editor.formatLine(P,j,W)},G,P,0)}},{key:"formatText",value:function(P,j,H,Y,G){var R=this,W=void 0,U=z(P,j,H,Y,G),K=o(U,4);return P=K[0],j=K[1],W=K[2],G=K[3],_.call(this,function(){return R.editor.formatText(P,j,W)},G,P,0)}},{key:"getBounds",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof P=="number"?H=this.selection.getBounds(P,j):H=this.selection.getBounds(P.index,P.length);var Y=this.container.getBoundingClientRect();return{bottom:H.bottom-Y.top,height:H.height,left:H.left-Y.left,right:H.right-Y.left,top:H.top-Y.top,width:H.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,H=z(P,j),Y=o(H,2);return P=Y[0],j=Y[1],this.editor.getContents(P,j)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,j):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,j)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,H=z(P,j),Y=o(H,2);return P=Y[0],j=Y[1],this.editor.getText(P,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,j,H){var Y=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.sources.API;return _.call(this,function(){return Y.editor.insertEmbed(P,j,H)},G,P)}},{key:"insertText",value:function(P,j,H,Y,G){var R=this,W=void 0,U=z(P,0,H,Y,G),K=o(U,4);return P=K[0],W=K[2],G=K[3],_.call(this,function(){return R.editor.insertText(P,j,W)},G,P,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,j,H){this.clipboard.dangerouslyPasteHTML(P,j,H)}},{key:"removeFormat",value:function(P,j,H){var Y=this,G=z(P,j,H),R=o(G,4);return P=R[0],j=R[1],H=R[3],_.call(this,function(){return Y.editor.removeFormat(P,j)},H,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var j=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return _.call(this,function(){P=new u.default(P);var Y=j.getLength(),G=j.editor.deleteText(0,Y),R=j.editor.applyDelta(P),W=R.ops[R.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),R.delete(1));var U=G.compose(R);return U},H)}},{key:"setSelection",value:function(P,j,H){if(P==null)this.selection.setRange(null,j||V.sources.API);else{var Y=z(P,j,H),G=o(Y,4);P=G[0],j=G[1],H=G[3],this.selection.setRange(new m.Range(P,j),H),H!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,H=new u.default().insert(P);return this.setContents(H,j)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(P);return this.selection.update(P),j}},{key:"updateContents",value:function(P){var j=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return _.call(this,function(){return P=new u.default(P),j.editor.applyDelta(P,H)},H,!0)}}]),V}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:y.default,"core/module":v.default,"core/theme":k.default};function D(V,N){if(N=(0,w.default)(!0,{container:V,modules:{clipboard:!0,keyboard:!0,history:!0}},N),!N.theme||N.theme===L.DEFAULTS.theme)N.theme=k.default;else if(N.theme=L.import("themes/"+N.theme),N.theme==null)throw new Error("Invalid theme "+N.theme+". Did you register it?");var P=(0,w.default)(!0,{},N.theme.DEFAULTS);[P,N].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(G){Y.modules[G]===!0&&(Y.modules[G]={})})});var j=Object.keys(P.modules).concat(Object.keys(N.modules)),H=j.reduce(function(Y,G){var R=L.import("modules/"+G);return R==null?F.error("Cannot load "+G+" module. Are you sure you registered it?"):Y[G]=R.DEFAULTS||{},Y},{});return N.modules!=null&&N.modules.toolbar&&N.modules.toolbar.constructor!==Object&&(N.modules.toolbar={container:N.modules.toolbar}),N=(0,w.default)(!0,{},L.DEFAULTS,{modules:H},P,N),["bounds","container","scrollingContainer"].forEach(function(Y){typeof N[Y]=="string"&&(N[Y]=document.querySelector(N[Y]))}),N.modules=Object.keys(N.modules).reduce(function(Y,G){return N.modules[G]&&(Y[G]=N.modules[G]),Y},{}),N}function _(V,N,P,j){if(this.options.strict&&!this.isEnabled()&&N===p.default.sources.USER)return new u.default;var H=P==null?null:this.getSelection(),Y=this.editor.delta,G=V();if(H!=null&&(P===!0&&(P=H.index),j==null?H=X(H,G,N):j!==0&&(H=X(H,P,j,N)),this.setSelection(H,p.default.sources.SILENT)),G.length()>0){var R,W=[p.default.events.TEXT_CHANGE,G,Y,N];if((R=this.emitter).emit.apply(R,[p.default.events.EDITOR_CHANGE].concat(W)),N!==p.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,W)}}return G}function z(V,N,P,j,H){var Y={};return typeof V.index=="number"&&typeof V.length=="number"?typeof N!="number"?(H=j,j=P,P=N,N=V.length,V=V.index):(N=V.length,V=V.index):typeof N!="number"&&(H=j,j=P,P=N,N=0),(typeof P>"u"?"undefined":i(P))==="object"?(Y=P,H=j):typeof P=="string"&&(j!=null?Y[P]=j:H=P),H=H||p.default.sources.API,[V,N,Y,H]}function X(V,N,P,j){if(V==null)return null;var H=void 0,Y=void 0;if(N instanceof u.default){var G=[V.index,V.index+V.length].map(function(K){return N.transformPosition(K,j!==p.default.sources.USER)}),R=o(G,2);H=R[0],Y=R[1]}else{var W=[V.index,V.index+V.length].map(function(K){return K<N||K===N&&j===p.default.sources.USER?K:P>=0?K+P:Math.max(N,K+P)}),U=o(W,2);H=U[0],Y=U[1]}return new m.Range(H,Y-H)}n.expandConfig=D,n.overload=z,n.default=L},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(7),s=c(l),u=a(0),f=c(u);function c(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=function(g){d(y,g);function y(){return h(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"formatAt",value:function(b,x,w,S){if(y.compare(this.statics.blotName,w)<0&&f.default.query(w,f.default.Scope.BLOT)){var A=this.isolate(b,x);S&&A.wrap(w,S)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,x,w,S)}},{key:"optimize",value:function(b){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(b,x){var w=y.order.indexOf(b),S=y.order.indexOf(x);return w>=0||S>=0?w-S:b===x?0:b<x?-1:1}}]),y}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,s.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){f(p,h);function p(){return s(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(b,x){for(var w=0;w<x.length;w++){var S=x[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,x,w){return x&&m(b.prototype,x),w&&m(b,w),b}}(),o=function m(b,x,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,x);if(S===void 0){var A=Object.getPrototypeOf(b);return A===null?void 0:m(A,x,w)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(w)}},l=a(54),s=c(l),u=a(10),f=c(u);function c(m){return m&&m.__esModule?m:{default:m}}function h(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function p(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function d(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var v=(0,f.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var b=arguments.length,x=Array(b),w=0;w<b;w++)x[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var A;(A=S.__quill.emitter).handleDOM.apply(A,x)}})})});var y=function(m){d(b,m);function b(){h(this,b);var x=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return x.listeners={},x.on("error",v.error),x}return i(b,[{key:"emit",value:function(){v.log.apply(v,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var S=arguments.length,A=Array(S>1?S-1:0),I=1;I<S;I++)A[I-1]=arguments[I];(this.listeners[w.type]||[]).forEach(function(k){var E=k.node,M=k.handler;(w.target===E||E.contains(w.target))&&M.apply(void 0,[w].concat(A))})}},{key:"listenDOM",value:function(w,S,A){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:S,handler:A})}}]),b}(s.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});function i(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var o=function l(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=s,this.options=u};o.DEFAULTS={},n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(u){if(i.indexOf(u)<=i.indexOf(o)){for(var f,c=arguments.length,h=Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];(f=console)[u].apply(f,h)}}function s(u){return i.reduce(function(f,c){return f[c]=l.bind(console,c,u),f},{})}l.level=s.level=function(u){o=u},n.default=s},function(t,n,a){var i=Array.prototype.slice,o=a(52),l=a(53),s=t.exports=function(h,p,d){return d||(d={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?d.strict?h===p:h==p:c(h,p,d)};function u(h){return h==null}function f(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function c(h,p,d){var v,g;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(l(h))return l(p)?(h=i.call(h),p=i.call(p),s(h,p,d)):!1;if(f(h)){if(!f(p)||h.length!==p.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==p[v])return!1;return!0}try{var y=o(h),m=o(p)}catch{return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),v=y.length-1;v>=0;v--)if(y[v]!=m[v])return!1;for(v=y.length-1;v>=0;v--)if(g=y[v],!s(h[g],p[g],d))return!1;return typeof h==typeof p}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(s,u,f){f===void 0&&(f={}),this.attrName=s,this.keyName=u;var c=i.Scope.TYPE&i.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&i.Scope.LEVEL|c:this.scope=i.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return l.keys=function(s){return[].map.call(s.attributes,function(u){return u.name})},l.prototype.add=function(s,u){return this.canAdd(s,u)?(s.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(s,u){var f=i.query(s,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(s){s.removeAttribute(this.keyName)},l.prototype.value=function(s){var u=s.getAttribute(this.keyName);return this.canAdd(s,u)&&u?u:""},l}();n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function I(k,E){var M=[],O=!0,F=!1,L=void 0;try{for(var D=k[Symbol.iterator](),_;!(O=(_=D.next()).done)&&(M.push(_.value),!(E&&M.length===E));O=!0);}catch(z){F=!0,L=z}finally{try{!O&&D.return&&D.return()}finally{if(F)throw L}}return M}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,E){for(var M=0;M<E.length;M++){var O=E[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,E,M){return E&&I(k.prototype,E),M&&I(k,M),k}}(),l=function I(k,E,M){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,E);if(O===void 0){var F=Object.getPrototypeOf(k);return F===null?void 0:I(F,E,M)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(M)}},s=a(2),u=m(s),f=a(0),c=m(f),h=a(4),p=m(h),d=a(6),v=m(d),g=a(7),y=m(g);function m(I){return I&&I.__esModule?I:{default:I}}function b(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function x(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function w(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var S=function(I){w(k,I);function k(){return b(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(v.default);S.blotName="code",S.tagName="CODE";var A=function(I){w(k,I);function k(){return b(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"delta",value:function(){var M=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(F,L){return F.insert(L).insert(`
`,M.formats())},new u.default)}},{key:"format",value:function(M,O){if(!(M===this.statics.blotName&&O)){var F=this.descendant(y.default,this.length()-1),L=i(F,1),D=L[0];D!=null&&D.deleteAt(D.length()-1,1),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,M,O)}}},{key:"formatAt",value:function(M,O,F,L){if(O!==0&&!(c.default.query(F,c.default.Scope.BLOCK)==null||F===this.statics.blotName&&L===this.statics.formats(this.domNode))){var D=this.newlineIndex(M);if(!(D<0||D>=M+O)){var _=this.newlineIndex(M,!0)+1,z=D-_+1,X=this.isolate(_,z),V=X.next;X.format(F,L),V instanceof k&&V.formatAt(0,M-_+O-z,F,L)}}}},{key:"insertAt",value:function(M,O,F){if(F==null){var L=this.descendant(y.default,M),D=i(L,2),_=D[0],z=D[1];_.insertAt(z,O)}}},{key:"length",value:function(){var M=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?M:M+1}},{key:"newlineIndex",value:function(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,M).lastIndexOf(`
`);var F=this.domNode.textContent.slice(M).indexOf(`
`);return F>-1?M+F:-1}},{key:"optimize",value:function(M){this.domNode.textContent.endsWith(`
`)||this.appendChild(c.default.create("text",`
`)),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,M);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(M),O.moveChildren(this),O.remove())}},{key:"replace",value:function(M){l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,M),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var F=c.default.find(O);F==null?O.parentNode.removeChild(O):F instanceof c.default.Embed?F.remove():F.unwrap()})}}],[{key:"create",value:function(M){var O=l(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,M);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),k}(p.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",n.Code=S,n.default=A},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(N,P){var j=[],H=!0,Y=!1,G=void 0;try{for(var R=N[Symbol.iterator](),W;!(H=(W=R.next()).done)&&(j.push(W.value),!(P&&j.length===P));H=!0);}catch(U){Y=!0,G=U}finally{try{!H&&R.return&&R.return()}finally{if(Y)throw G}}return j}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return V(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function V(N,P){for(var j=0;j<P.length;j++){var H=P[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}return function(N,P,j){return P&&V(N.prototype,P),j&&V(N,j),N}}(),s=a(2),u=O(s),f=a(20),c=O(f),h=a(0),p=O(h),d=a(13),v=O(d),g=a(24),y=O(g),m=a(4),b=O(m),x=a(16),w=O(x),S=a(21),A=O(S),I=a(11),k=O(I),E=a(3),M=O(E);function O(V){return V&&V.__esModule?V:{default:V}}function F(V,N,P){return N in V?Object.defineProperty(V,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):V[N]=P,V}function L(V,N){if(!(V instanceof N))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,_=function(){function V(N){L(this,V),this.scroll=N,this.delta=this.getDelta()}return l(V,[{key:"applyDelta",value:function(P){var j=this,H=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),P=X(P),P.reduce(function(G,R){var W=R.retain||R.delete||R.insert.length||1,U=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var K=R.insert;K.endsWith(`
`)&&H&&(H=!1,K=K.slice(0,-1)),G>=Y&&!K.endsWith(`
`)&&(H=!0),j.scroll.insertAt(G,K);var tt=j.scroll.line(G),rt=o(tt,2),vt=rt[0],st=rt[1],yt=(0,M.default)({},(0,m.bubbleFormats)(vt));if(vt instanceof b.default){var Lt=vt.descendant(p.default.Leaf,st),Vt=o(Lt,1),Ut=Vt[0];yt=(0,M.default)(yt,(0,m.bubbleFormats)(Ut))}U=c.default.attributes.diff(yt,U)||{}}else if(i(R.insert)==="object"){var et=Object.keys(R.insert)[0];if(et==null)return G;j.scroll.insertAt(G,et,R.insert[et])}Y+=W}return Object.keys(U).forEach(function(nt){j.scroll.formatAt(G,W,nt,U[nt])}),G+W},0),P.reduce(function(G,R){return typeof R.delete=="number"?(j.scroll.deleteAt(G,R.delete),G):G+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,j){return this.scroll.deleteAt(P,j),this.update(new u.default().retain(P).delete(j))}},{key:"formatLine",value:function(P,j){var H=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(G){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[G])){var R=H.scroll.lines(P,Math.max(j,1)),W=j;R.forEach(function(U){var K=U.length();if(!(U instanceof v.default))U.format(G,Y[G]);else{var tt=P-U.offset(H.scroll),rt=U.newlineIndex(tt+W)-tt+1;U.formatAt(tt,rt,G,Y[G])}W-=K})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(j,(0,A.default)(Y)))}},{key:"formatText",value:function(P,j){var H=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(G){H.scroll.formatAt(P,j,G,Y[G])}),this.update(new u.default().retain(P).retain(j,(0,A.default)(Y)))}},{key:"getContents",value:function(P,j){return this.delta.slice(P,P+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,j){return P.concat(j.delta())},new u.default)}},{key:"getFormat",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],Y=[];j===0?this.scroll.path(P).forEach(function(R){var W=o(R,1),U=W[0];U instanceof b.default?H.push(U):U instanceof p.default.Leaf&&Y.push(U)}):(H=this.scroll.lines(P,j),Y=this.scroll.descendants(p.default.Leaf,P,j));var G=[H,Y].map(function(R){if(R.length===0)return{};for(var W=(0,m.bubbleFormats)(R.shift());Object.keys(W).length>0;){var U=R.shift();if(U==null)return W;W=z((0,m.bubbleFormats)(U),W)}return W});return M.default.apply(M.default,G)}},{key:"getText",value:function(P,j){return this.getContents(P,j).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(P,j,H){return this.scroll.insertAt(P,j,H),this.update(new u.default().retain(P).insert(F({},j,H)))}},{key:"insertText",value:function(P,j){var H=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,j),Object.keys(Y).forEach(function(G){H.scroll.formatAt(P,j.length,G,Y[G])}),this.update(new u.default().retain(P).insert(j,(0,A.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==b.default.blotName||P.children.length>1?!1:P.children.head instanceof w.default}},{key:"removeFormat",value:function(P,j){var H=this.getText(P,j),Y=this.scroll.line(P+j),G=o(Y,2),R=G[0],W=G[1],U=0,K=new u.default;R!=null&&(R instanceof v.default?U=R.newlineIndex(W)-W+1:U=R.length()-W,K=R.delta().slice(W,W+U-1).insert(`
`));var tt=this.getContents(P,j+U),rt=tt.diff(new u.default().insert(H).concat(K)),vt=new u.default().retain(P).concat(rt);return this.applyDelta(vt)}},{key:"update",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(D)&&p.default.find(j[0].target)){var G=p.default.find(j[0].target),R=(0,m.bubbleFormats)(G),W=G.offset(this.scroll),U=j[0].oldValue.replace(y.default.CONTENTS,""),K=new u.default().insert(U),tt=new u.default().insert(G.value()),rt=new u.default().retain(W).concat(K.diff(tt,H));P=rt.reduce(function(vt,st){return st.insert?vt.insert(st.insert,R):vt.push(st)},new u.default),this.delta=Y.compose(P)}else this.delta=this.getDelta(),(!P||!(0,k.default)(Y.compose(P),this.delta))&&(P=Y.diff(this.delta,H));return P}}]),V}();function z(V,N){return Object.keys(N).reduce(function(P,j){return V[j]==null||(N[j]===V[j]?P[j]=N[j]:Array.isArray(N[j])?N[j].indexOf(V[j])<0&&(P[j]=N[j].concat([V[j]])):P[j]=[N[j],V[j]]),P},{})}function X(V){return V.reduce(function(N,P){if(P.insert===1){var j=(0,A.default)(P.attributes);return delete j.image,N.insert({image:P.attributes.image},j)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,A.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var H=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return N.insert(H,P.attributes)}return N.push(P)},new u.default)}n.default=_},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function I(k,E){var M=[],O=!0,F=!1,L=void 0;try{for(var D=k[Symbol.iterator](),_;!(O=(_=D.next()).done)&&(M.push(_.value),!(E&&M.length===E));O=!0);}catch(z){F=!0,L=z}finally{try{!O&&D.return&&D.return()}finally{if(F)throw L}}return M}return function(k,E){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(k,E){for(var M=0;M<E.length;M++){var O=E[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,E,M){return E&&I(k.prototype,E),M&&I(k,M),k}}(),l=a(0),s=y(l),u=a(21),f=y(u),c=a(11),h=y(c),p=a(8),d=y(p),v=a(10),g=y(v);function y(I){return I&&I.__esModule?I:{default:I}}function m(I){if(Array.isArray(I)){for(var k=0,E=Array(I.length);k<I.length;k++)E[k]=I[k];return E}else return Array.from(I)}function b(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}var x=(0,g.default)("quill:selection"),w=function I(k){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,I),this.index=k,this.length=E},S=function(){function I(k,E){var M=this;b(this,I),this.emitter=E,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=s.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){M.mouseDown||setTimeout(M.update.bind(M,d.default.sources.USER),1)}),this.emitter.on(d.default.events.EDITOR_CHANGE,function(O,F){O===d.default.events.TEXT_CHANGE&&F.length()>0&&M.update(d.default.sources.SILENT)}),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,function(){if(M.hasFocus()){var O=M.getNativeRange();O!=null&&O.start.node!==M.cursor.textNode&&M.emitter.once(d.default.events.SCROLL_UPDATE,function(){try{M.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,function(O,F){if(F.range){var L=F.range,D=L.startNode,_=L.startOffset,z=L.endNode,X=L.endOffset;M.setNativeRange(D,_,z,X)}}),this.update(d.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var M=E.cursor.restore();if(!M)return;setTimeout(function(){E.setNativeRange(M.startNode,M.startOffset,M.endNode,M.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(d.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,M){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||s.default.query(E,s.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var F=s.default.find(O.start.node,!1);if(F==null)return;if(F instanceof s.default.Leaf){var L=F.split(O.start.offset);F.parent.insertBefore(this.cursor,L)}else F.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(E,M),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();E=Math.min(E,O-1),M=Math.min(E+M,O-1)-E;var F=void 0,L=this.scroll.leaf(E),D=i(L,2),_=D[0],z=D[1];if(_==null)return null;var X=_.position(z,!0),V=i(X,2);F=V[0],z=V[1];var N=document.createRange();if(M>0){N.setStart(F,z);var P=this.scroll.leaf(E+M),j=i(P,2);if(_=j[0],z=j[1],_==null)return null;var H=_.position(z,!0),Y=i(H,2);return F=Y[0],z=Y[1],N.setEnd(F,z),N.getBoundingClientRect()}else{var G="left",R=void 0;return F instanceof Text?(z<F.data.length?(N.setStart(F,z),N.setEnd(F,z+1)):(N.setStart(F,z-1),N.setEnd(F,z),G="right"),R=N.getBoundingClientRect()):(R=_.domNode.getBoundingClientRect(),z>0&&(G="right")),{bottom:R.top+R.height,height:R.height,left:R[G],right:R[G],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var M=E.getRangeAt(0);if(M==null)return null;var O=this.normalizeNative(M);return x.info("getNativeRange",O),O}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var M=this.normalizedToRange(E);return[M,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var M=this,O=[[E.start.node,E.start.offset]];E.native.collapsed||O.push([E.end.node,E.end.offset]);var F=O.map(function(_){var z=i(_,2),X=z[0],V=z[1],N=s.default.find(X,!0),P=N.offset(M.scroll);return V===0?P:N instanceof s.default.Container?P+N.length():P+N.index(X,V)}),L=Math.min(Math.max.apply(Math,m(F)),this.scroll.length()-1),D=Math.min.apply(Math,[L].concat(m(F)));return new w(D,L-D)}},{key:"normalizeNative",value:function(E){if(!A(this.root,E.startContainer)||!E.collapsed&&!A(this.root,E.endContainer))return null;var M={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[M.start,M.end].forEach(function(O){for(var F=O.node,L=O.offset;!(F instanceof Text)&&F.childNodes.length>0;)if(F.childNodes.length>L)F=F.childNodes[L],L=0;else if(F.childNodes.length===L)F=F.lastChild,L=F instanceof Text?F.data.length:F.childNodes.length+1;else break;O.node=F,O.offset=L}),M}},{key:"rangeToNative",value:function(E){var M=this,O=E.collapsed?[E.index]:[E.index,E.index+E.length],F=[],L=this.scroll.length();return O.forEach(function(D,_){D=Math.min(L-1,D);var z=void 0,X=M.scroll.leaf(D),V=i(X,2),N=V[0],P=V[1],j=N.position(P,_!==0),H=i(j,2);z=H[0],P=H[1],F.push(z,P)}),F.length<2&&(F=F.concat(F)),F}},{key:"scrollIntoView",value:function(E){var M=this.lastRange;if(M!=null){var O=this.getBounds(M.index,M.length);if(O!=null){var F=this.scroll.length()-1,L=this.scroll.line(Math.min(M.index,F)),D=i(L,1),_=D[0],z=_;if(M.length>0){var X=this.scroll.line(Math.min(M.index+M.length,F)),V=i(X,1);z=V[0]}if(!(_==null||z==null)){var N=E.getBoundingClientRect();O.top<N.top?E.scrollTop-=N.top-O.top:O.bottom>N.bottom&&(E.scrollTop+=O.bottom-N.bottom)}}}}},{key:"setNativeRange",value:function(E,M){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",E,M,O,F),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||O.parentNode==null))){var D=document.getSelection();if(D!=null)if(E!=null){this.hasFocus()||this.root.focus();var _=(this.getNativeRange()||{}).native;if(_==null||L||E!==_.startContainer||M!==_.startOffset||O!==_.endContainer||F!==_.endOffset){E.tagName=="BR"&&(M=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),O.tagName=="BR"&&(F=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var z=document.createRange();z.setStart(E,M),z.setEnd(O,F),D.removeAllRanges(),D.addRange(z)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;if(typeof M=="string"&&(O=M,M=!1),x.info("setRange",E),E!=null){var F=this.rangeToNative(E);this.setNativeRange.apply(this,m(F).concat([M]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,M=this.lastRange,O=this.getRange(),F=i(O,2),L=F[0],D=F[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(M,this.lastRange)){var _;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var z=[d.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(M),E];if((_=this.emitter).emit.apply(_,[d.default.events.EDITOR_CHANGE].concat(z)),E!==d.default.sources.SILENT){var X;(X=this.emitter).emit.apply(X,z)}}}}]),I}();function A(I,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),I.contains(k)}n.Range=w,n.default=S},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&d(v.prototype,g),y&&d(v,y),v}}(),o=function d(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:d(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(0),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(){return f(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(y,m){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(s.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(t,n,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])};return function(h,p){c(h,p);function d(){this.constructor=h}h.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(44),l=a(30),s=a(1),u=function(c){i(h,c);function h(p){var d=c.call(this,p)||this;return d.build(),d}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){c.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var v=f(d);p.insertBefore(v,p.children.head||void 0)}catch(g){if(g instanceof s.ParchmentError)return;throw g}})},h.prototype.deleteAt=function(p,d){if(p===0&&d===this.length())return this.remove();this.children.forEachAt(p,d,function(v,g,y){v.deleteAt(g,y)})},h.prototype.descendant=function(p,d){var v=this.children.find(d),g=v[0],y=v[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof h?g.descendant(p,y):[null,-1]},h.prototype.descendants=function(p,d,v){d===void 0&&(d=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],y=v;return this.children.forEachAt(d,v,function(m,b,x){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&g.push(m),m instanceof h&&(g=g.concat(m.descendants(p,b,y))),y-=x}),g},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),c.prototype.detach.call(this)},h.prototype.formatAt=function(p,d,v,g){this.children.forEachAt(p,d,function(y,m,b){y.formatAt(m,b,v,g)})},h.prototype.insertAt=function(p,d,v){var g=this.children.find(p),y=g[0],m=g[1];if(y)y.insertAt(m,d,v);else{var b=v==null?s.create("text",d):s.create(d,v);this.appendChild(b)}},h.prototype.insertBefore=function(p,d){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new s.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,d)},h.prototype.length=function(){return this.children.reduce(function(p,d){return p+d.length()},0)},h.prototype.moveChildren=function(p,d){this.children.forEach(function(v){p.insertBefore(v,d)})},h.prototype.optimize=function(p){if(c.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var d=s.create(this.statics.defaultChild);this.appendChild(d),d.optimize(p)}else this.remove()},h.prototype.path=function(p,d){d===void 0&&(d=!1);var v=this.children.find(p,d),g=v[0],y=v[1],m=[[this,p]];return g instanceof h?m.concat(g.path(y,d)):(g!=null&&m.push([g,y]),m)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),c.prototype.replace.call(this,p)},h.prototype.split=function(p,d){if(d===void 0&&(d=!1),!d){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(g,y,m){g=g.split(y,d),v.appendChild(g)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,d){var v=this,g=[],y=[];p.forEach(function(m){m.target===v.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=s.find(m);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===v.domNode)&&b.detach()}}),g.filter(function(m){return m.parentNode==v.domNode}).sort(function(m,b){return m===b?0:m.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var b=null;m.nextSibling!=null&&(b=s.find(m.nextSibling));var x=f(m);(x.next!=b||x.next==null)&&(x.parent!=null&&x.parent.removeChild(v),v.insertBefore(x,b||void 0))})},h}(l.default);function f(c){var h=s.find(c);if(h==null)try{h=s.create(c)}catch{h=s.create(s.Scope.INLINE),[].slice.call(c.childNodes).forEach(function(d){h.domNode.appendChild(d)}),c.parentNode&&c.parentNode.replaceChild(h.domNode,c),h.attach()}return h}n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])};return function(h,p){c(h,p);function d(){this.constructor=h}h.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12),l=a(31),s=a(17),u=a(1),f=function(c){i(h,c);function h(p){var d=c.call(this,p)||this;return d.attributes=new l.default(d.domNode),d}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,d){var v=u.query(p);v instanceof o.default?this.attributes.attribute(v,d):d&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==d)&&this.replaceWith(p,d)},h.prototype.formats=function(){var p=this.attributes.values(),d=this.statics.formats(this.domNode);return d!=null&&(p[this.statics.blotName]=d),p},h.prototype.replaceWith=function(p,d){var v=c.prototype.replaceWith.call(this,p,d);return this.attributes.copy(v),v},h.prototype.update=function(p,d){var v=this;c.prototype.update.call(this,p,d),p.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,d){var v=c.prototype.wrap.call(this,p,d);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(s.default);n.default=f},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){u(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(30),l=a(1),s=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(c){return!0},f.prototype.index=function(c,h){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},f.prototype.position=function(c,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return c>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},f.scope=l.Scope.INLINE_BLOT,f}(o.default);n.default=s},function(t,n,a){var i=a(11),o=a(3),l={attributes:{compose:function(u,f,c){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=o(!0,{},f);c||(h=Object.keys(h).reduce(function(d,v){return h[v]!=null&&(d[v]=h[v]),d},{}));for(var p in u)u[p]!==void 0&&f[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var c=Object.keys(u).concat(Object.keys(f)).reduce(function(h,p){return i(u[p],f[p])||(h[p]=f[p]===void 0?null:f[p]),h},{});return Object.keys(c).length>0?c:void 0},transform:function(u,f,c){if(typeof u!="object")return f;if(typeof f=="object"){if(!c)return f;var h=Object.keys(f).reduce(function(p,d){return u[d]===void 0&&(p[d]=f[d]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new s(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function s(u){this.ops=u,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var c=this.offset,h=l.length(f);if(u>=h-c?(u=h-c,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=u:typeof f.insert=="string"?p.insert=f.insert.substr(c,u):p.insert=f.insert,p}else return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,c=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=f,[c].concat(h)}else return[]},t.exports=l},function(t,n){var a=function(){function i(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var s;try{s=Promise}catch{s=function(){}}function u(v,g,y,m,b){typeof g=="object"&&(y=g.depth,m=g.prototype,b=g.includeNonEnumerable,g=g.circular);var x=[],w=[],S=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function A(I,k){if(I===null)return null;if(k===0)return I;var E,M;if(typeof I!="object")return I;if(i(I,o))E=new o;else if(i(I,l))E=new l;else if(i(I,s))E=new s(function(N,P){I.then(function(j){N(A(j,k-1))},function(j){P(A(j,k-1))})});else if(u.__isArray(I))E=[];else if(u.__isRegExp(I))E=new RegExp(I.source,d(I)),I.lastIndex&&(E.lastIndex=I.lastIndex);else if(u.__isDate(I))E=new Date(I.getTime());else{if(S&&Buffer.isBuffer(I))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(I.length):E=new Buffer(I.length),I.copy(E),E;i(I,Error)?E=Object.create(I):typeof m>"u"?(M=Object.getPrototypeOf(I),E=Object.create(M)):(E=Object.create(m),M=m)}if(g){var O=x.indexOf(I);if(O!=-1)return w[O];x.push(I),w.push(E)}i(I,o)&&I.forEach(function(N,P){var j=A(P,k-1),H=A(N,k-1);E.set(j,H)}),i(I,l)&&I.forEach(function(N){var P=A(N,k-1);E.add(P)});for(var F in I){var L;M&&(L=Object.getOwnPropertyDescriptor(M,F)),!(L&&L.set==null)&&(E[F]=A(I[F],k-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(I),F=0;F<D.length;F++){var _=D[F],z=Object.getOwnPropertyDescriptor(I,_);z&&!z.enumerable&&!b||(E[_]=A(I[_],k-1),z.enumerable||Object.defineProperty(E,_,{enumerable:!1}))}if(b)for(var X=Object.getOwnPropertyNames(I),F=0;F<X.length;F++){var V=X[F],z=Object.getOwnPropertyDescriptor(I,V);z&&z.enumerable||(E[V]=A(I[V],k-1),Object.defineProperty(E,V,{enumerable:!1}))}return E}return A(v,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function c(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=c;function h(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=h;function p(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=p;function d(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return u.__getRegExpFlags=d,u}();typeof t=="object"&&t.exports&&(t.exports=a)},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function E(M,O){var F=[],L=!0,D=!1,_=void 0;try{for(var z=M[Symbol.iterator](),X;!(L=(X=z.next()).done)&&(F.push(X.value),!(O&&F.length===O));L=!0);}catch(V){D=!0,_=V}finally{try{!L&&z.return&&z.return()}finally{if(D)throw _}}return F}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return E(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(M,O){for(var F=0;F<O.length;F++){var L=O[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,F){return O&&E(M.prototype,O),F&&E(M,F),M}}(),l=function E(M,O,F){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,O);if(L===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:E(D,O,F)}else{if("value"in L)return L.value;var _=L.get;return _===void 0?void 0:_.call(F)}},s=a(0),u=x(s),f=a(8),c=x(f),h=a(4),p=x(h),d=a(16),v=x(d),g=a(13),y=x(g),m=a(25),b=x(m);function x(E){return E&&E.__esModule?E:{default:E}}function w(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}function S(E,M){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:E}function A(E,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);E.prototype=Object.create(M&&M.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(E,M):E.__proto__=M)}function I(E){return E instanceof p.default||E instanceof h.BlockEmbed}var k=function(E){A(M,E);function M(O,F){w(this,M);var L=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O));return L.emitter=F.emitter,Array.isArray(F.whitelist)&&(L.whitelist=F.whitelist.reduce(function(D,_){return D[_]=!0,D},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(M,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(F,L){var D=this.line(F),_=i(D,2),z=_[0],X=_[1],V=this.line(F+L),N=i(V,1),P=N[0];if(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"deleteAt",this).call(this,F,L),P!=null&&z!==P&&X>0){if(z instanceof h.BlockEmbed||P instanceof h.BlockEmbed){this.optimize();return}if(z instanceof y.default){var j=z.newlineIndex(z.length(),!0);if(j>-1&&(z=z.split(j+1),z===P)){this.optimize();return}}else if(P instanceof y.default){var H=P.newlineIndex(0);H>-1&&P.split(H+1)}var Y=P.children.head instanceof v.default?null:P.children.head;z.moveChildren(P,Y),z.remove()}this.optimize()}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",F)}},{key:"formatAt",value:function(F,L,D,_){this.whitelist!=null&&!this.whitelist[D]||(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"formatAt",this).call(this,F,L,D,_),this.optimize())}},{key:"insertAt",value:function(F,L,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[L])){if(F>=this.length())if(D==null||u.default.query(L,u.default.Scope.BLOCK)==null){var _=u.default.create(this.statics.defaultChild);this.appendChild(_),D==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),_.insertAt(0,L,D)}else{var z=u.default.create(L,D);this.appendChild(z)}else l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertAt",this).call(this,F,L,D);this.optimize()}}},{key:"insertBefore",value:function(F,L){if(F.statics.scope===u.default.Scope.INLINE_BLOT){var D=u.default.create(this.statics.defaultChild);D.appendChild(F),F=D}l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,F,L)}},{key:"leaf",value:function(F){return this.path(F).pop()||[null,-1]}},{key:"line",value:function(F){return F===this.length()?this.line(F-1):this.descendant(I,F)}},{key:"lines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function _(z,X,V){var N=[],P=V;return z.children.forEachAt(X,V,function(j,H,Y){I(j)?N.push(j):j instanceof u.default.Container&&(N=N.concat(_(j,H,P))),P-=Y}),N};return D(this,F,L)}},{key:"optimize",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,F,L),F.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,F,L))}},{key:"path",value:function(F){return l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"path",this).call(this,F).slice(1)}},{key:"update",value:function(F){if(this.batch!==!0){var L=c.default.sources.USER;typeof F=="string"&&(L=F),Array.isArray(F)||(F=this.observer.takeRecords()),F.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,L,F),l(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"update",this).call(this,F.concat([])),F.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,L,F)}}}]),M}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,b.default],n.default=k},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(W,U){var K=[],tt=!0,rt=!1,vt=void 0;try{for(var st=W[Symbol.iterator](),yt;!(tt=(yt=st.next()).done)&&(K.push(yt.value),!(U&&K.length===U));tt=!0);}catch(Lt){rt=!0,vt=Lt}finally{try{!tt&&st.return&&st.return()}finally{if(rt)throw vt}}return K}return function(W,U){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return R(W,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function R(W,U){for(var K=0;K<U.length;K++){var tt=U[K];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(W,tt.key,tt)}}return function(W,U,K){return U&&R(W.prototype,U),K&&R(W,K),W}}(),s=a(21),u=E(s),f=a(11),c=E(f),h=a(3),p=E(h),d=a(2),v=E(d),g=a(20),y=E(g),m=a(0),b=E(m),x=a(5),w=E(x),S=a(10),A=E(S),I=a(9),k=E(I);function E(R){return R&&R.__esModule?R:{default:R}}function M(R,W,U){return W in R?Object.defineProperty(R,W,{value:U,enumerable:!0,configurable:!0,writable:!0}):R[W]=U,R}function O(R,W){if(!(R instanceof W))throw new TypeError("Cannot call a class as a function")}function F(R,W){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:R}function L(R,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);R.prototype=Object.create(W&&W.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(R,W):R.__proto__=W)}var D=(0,A.default)("quill:keyboard"),_=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",z=function(R){L(W,R),l(W,null,[{key:"match",value:function(K,tt){return tt=G(tt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(rt){return!!tt[rt]!==K[rt]&&tt[rt]!==null})?!1:tt.key===(K.which||K.keyCode)}}]);function W(U,K){O(this,W);var tt=F(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,U,K));return tt.bindings={},Object.keys(tt.options.bindings).forEach(function(rt){rt==="list autofill"&&U.scroll.whitelist!=null&&!U.scroll.whitelist.list||tt.options.bindings[rt]&&tt.addBinding(tt.options.bindings[rt])}),tt.addBinding({key:W.keys.ENTER,shiftKey:null},j),tt.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(tt.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},V),tt.addBinding({key:W.keys.DELETE},{collapsed:!0},N)):(tt.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},V),tt.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},N)),tt.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},P),tt.addBinding({key:W.keys.DELETE},{collapsed:!1},P),tt.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},V),tt.listen(),tt}return l(W,[{key:"addBinding",value:function(K){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},vt=G(K);if(vt==null||vt.key==null)return D.warn("Attempted to add invalid keyboard binding",vt);typeof tt=="function"&&(tt={handler:tt}),typeof rt=="function"&&(rt={handler:rt}),vt=(0,p.default)(vt,tt,rt),this.bindings[vt.key]=this.bindings[vt.key]||[],this.bindings[vt.key].push(vt)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(tt){if(!tt.defaultPrevented){var rt=tt.which||tt.keyCode,vt=(K.bindings[rt]||[]).filter(function(pe){return W.match(tt,pe)});if(vt.length!==0){var st=K.quill.getSelection();if(!(st==null||!K.quill.hasFocus())){var yt=K.quill.getLine(st.index),Lt=o(yt,2),Vt=Lt[0],Ut=Lt[1],et=K.quill.getLeaf(st.index),nt=o(et,2),ct=nt[0],ht=nt[1],it=st.length===0?[ct,ht]:K.quill.getLeaf(st.index+st.length),Tt=o(it,2),It=Tt[0],Mt=Tt[1],dr=ct instanceof b.default.Text?ct.value().slice(0,ht):"",on=It instanceof b.default.Text?It.value().slice(Mt):"",ee={collapsed:st.length===0,empty:st.length===0&&Vt.length()<=1,format:K.quill.getFormat(st),offset:Ut,prefix:dr,suffix:on},wE=vt.some(function(pe){if(pe.collapsed!=null&&pe.collapsed!==ee.collapsed||pe.empty!=null&&pe.empty!==ee.empty||pe.offset!=null&&pe.offset!==ee.offset)return!1;if(Array.isArray(pe.format)){if(pe.format.every(function(Cn){return ee.format[Cn]==null}))return!1}else if(i(pe.format)==="object"&&!Object.keys(pe.format).every(function(Cn){return pe.format[Cn]===!0?ee.format[Cn]!=null:pe.format[Cn]===!1?ee.format[Cn]==null:(0,c.default)(pe.format[Cn],ee.format[Cn])}))return!1;return pe.prefix!=null&&!pe.prefix.test(ee.prefix)||pe.suffix!=null&&!pe.suffix.test(ee.suffix)?!1:pe.handler.call(K,st,ee)!==!0});wE&&tt.preventDefault()}}}})}}]),W}(k.default);z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},z.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:z.keys.TAB,format:["blockquote","indent","list"],handler:function(W,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,U){if(U.collapsed&&U.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,U){U.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):U.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,w.default.sources.USER)}},tab:{key:z.keys.TAB,handler:function(W){this.quill.history.cutoff();var U=new v.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(U,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,w.default.sources.SILENT)}},"list empty enter":{key:z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,U){this.quill.format("list",!1,w.default.sources.USER),U.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var U=this.quill.getLine(W.index),K=o(U,2),tt=K[0],rt=K[1],vt=(0,p.default)({},tt.formats(),{list:"checked"}),st=new v.default().retain(W.index).insert(`
`,vt).retain(tt.length()-rt-1).retain(1,{list:"unchecked"});this.quill.updateContents(st,w.default.sources.USER),this.quill.setSelection(W.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,U){var K=this.quill.getLine(W.index),tt=o(K,2),rt=tt[0],vt=tt[1],st=new v.default().retain(W.index).insert(`
`,U.format).retain(rt.length()-vt-1).retain(1,{header:null});this.quill.updateContents(st,w.default.sources.USER),this.quill.setSelection(W.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,U){var K=U.prefix.length,tt=this.quill.getLine(W.index),rt=o(tt,2),vt=rt[0],st=rt[1];if(st>K)return!0;var yt=void 0;switch(U.prefix.trim()){case"[]":case"[ ]":yt="unchecked";break;case"[x]":yt="checked";break;case"-":case"*":yt="bullet";break;default:yt="ordered"}this.quill.insertText(W.index," ",w.default.sources.USER),this.quill.history.cutoff();var Lt=new v.default().retain(W.index-st).delete(K+1).retain(vt.length()-2-st).retain(1,{list:yt});this.quill.updateContents(Lt,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-K,w.default.sources.SILENT)}},"code exit":{key:z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var U=this.quill.getLine(W.index),K=o(U,2),tt=K[0],rt=K[1],vt=new v.default().retain(W.index+tt.length()-rt-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(vt,w.default.sources.USER)}},"embed left":X(z.keys.LEFT,!1),"embed left shift":X(z.keys.LEFT,!0),"embed right":X(z.keys.RIGHT,!1),"embed right shift":X(z.keys.RIGHT,!0)}};function X(R,W){var U,K=R===z.keys.LEFT?"prefix":"suffix";return U={key:R,shiftKey:W,altKey:null},M(U,K,/^$/),M(U,"handler",function(rt){var vt=rt.index;R===z.keys.RIGHT&&(vt+=rt.length+1);var st=this.quill.getLeaf(vt),yt=o(st,1),Lt=yt[0];return Lt instanceof b.default.Embed?(R===z.keys.LEFT?W?this.quill.setSelection(rt.index-1,rt.length+1,w.default.sources.USER):this.quill.setSelection(rt.index-1,w.default.sources.USER):W?this.quill.setSelection(rt.index,rt.length+1,w.default.sources.USER):this.quill.setSelection(rt.index+rt.length+1,w.default.sources.USER),!1):!0}),U}function V(R,W){if(!(R.index===0||this.quill.getLength()<=1)){var U=this.quill.getLine(R.index),K=o(U,1),tt=K[0],rt={};if(W.offset===0){var vt=this.quill.getLine(R.index-1),st=o(vt,1),yt=st[0];if(yt!=null&&yt.length()>1){var Lt=tt.formats(),Vt=this.quill.getFormat(R.index-1,1);rt=y.default.attributes.diff(Lt,Vt)||{}}}var Ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(R.index-Ut,Ut,w.default.sources.USER),Object.keys(rt).length>0&&this.quill.formatLine(R.index-Ut,Ut,rt,w.default.sources.USER),this.quill.focus()}}function N(R,W){var U=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(R.index>=this.quill.getLength()-U)){var K={},tt=0,rt=this.quill.getLine(R.index),vt=o(rt,1),st=vt[0];if(W.offset>=st.length()-1){var yt=this.quill.getLine(R.index+1),Lt=o(yt,1),Vt=Lt[0];if(Vt){var Ut=st.formats(),et=this.quill.getFormat(R.index,1);K=y.default.attributes.diff(Ut,et)||{},tt=Vt.length()}}this.quill.deleteText(R.index,U,w.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(R.index+tt-1,U,K,w.default.sources.USER)}}function P(R){var W=this.quill.getLines(R),U={};if(W.length>1){var K=W[0].formats(),tt=W[W.length-1].formats();U=y.default.attributes.diff(tt,K)||{}}this.quill.deleteText(R,w.default.sources.USER),Object.keys(U).length>0&&this.quill.formatLine(R.index,1,U,w.default.sources.USER),this.quill.setSelection(R.index,w.default.sources.SILENT),this.quill.focus()}function j(R,W){var U=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var K=Object.keys(W.format).reduce(function(tt,rt){return b.default.query(rt,b.default.Scope.BLOCK)&&!Array.isArray(W.format[rt])&&(tt[rt]=W.format[rt]),tt},{});this.quill.insertText(R.index,`
`,K,w.default.sources.USER),this.quill.setSelection(R.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(tt){K[tt]==null&&(Array.isArray(W.format[tt])||tt!=="link"&&U.quill.format(tt,W.format[tt],w.default.sources.USER))})}function H(R){return{key:z.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(U){var K=b.default.query("code-block"),tt=U.index,rt=U.length,vt=this.quill.scroll.descendant(K,tt),st=o(vt,2),yt=st[0],Lt=st[1];if(yt!=null){var Vt=this.quill.getIndex(yt),Ut=yt.newlineIndex(Lt,!0)+1,et=yt.newlineIndex(Vt+Lt+rt),nt=yt.domNode.textContent.slice(Ut,et).split(`
`);Lt=0,nt.forEach(function(ct,ht){R?(yt.insertAt(Ut+Lt,K.TAB),Lt+=K.TAB.length,ht===0?tt+=K.TAB.length:rt+=K.TAB.length):ct.startsWith(K.TAB)&&(yt.deleteAt(Ut+Lt,K.TAB.length),Lt-=K.TAB.length,ht===0?tt-=K.TAB.length:rt-=K.TAB.length),Lt+=ct.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(tt,rt,w.default.sources.SILENT)}}}}function Y(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(U,K){this.quill.format(R,!K.format[R],w.default.sources.USER)}}}function G(R){if(typeof R=="string"||typeof R=="number")return G({key:R});if((typeof R>"u"?"undefined":i(R))==="object"&&(R=(0,u.default)(R,!1)),typeof R.key=="string")if(z.keys[R.key.toUpperCase()]!=null)R.key=z.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[_]=R.shortKey,delete R.shortKey),R}n.default=z,n.SHORTKEY=_},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(m,b){var x=[],w=!0,S=!1,A=void 0;try{for(var I=m[Symbol.iterator](),k;!(w=(k=I.next()).done)&&(x.push(k.value),!(b&&x.length===b));w=!0);}catch(E){S=!0,A=E}finally{try{!w&&I.return&&I.return()}finally{if(S)throw A}}return x}return function(m,b){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var A=w.get;return A===void 0?void 0:A.call(x)}},l=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),s=a(0),u=h(s),f=a(7),c=h(f);function h(y){return y&&y.__esModule?y:{default:y}}function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function d(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){v(m,y),l(m,null,[{key:"value",value:function(){}}]);function m(b,x){p(this,m);var w=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return w.selection=x,w.textNode=document.createTextNode(m.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return l(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,w){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,x,w);for(var S=this,A=0;S!=null&&S.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=m.CONTENTS.length,S.optimize(),S.formatAt(A,m.CONTENTS.length,x,w),this._length=0)}},{key:"index",value:function(x,w){return x===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,w=this.selection.getNativeRange(),S=void 0,A=void 0,I=void 0;if(w!=null&&w.start.node===x&&w.end.node===x){var k=[x,w.start.offset,w.end.offset];S=k[0],A=k[1],I=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var E=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof c.default?(S=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=m.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var M=[A,I].map(function(F){return Math.max(0,Math.min(S.data.length,F-1))}),O=i(M,2);return A=O[0],I=O[1],{startNode:S,startOffset:A,endNode:S,endOffset:I}}}}},{key:"update",value:function(x,w){var S=this;if(x.some(function(I){return I.type==="characterData"&&I.target===S.textNode})){var A=this.restore();A&&(w.range=A)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=u(i),l=a(4),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(){return f(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[s.default,l.BlockEmbed,p],n.default=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(0),s=u(l);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function c(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){h(y,g);function y(){return f(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"value",value:function(b){var x=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):x}}]),y}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),v=new p("color","color",{scope:s.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=d,n.ColorStyle=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function v(g,y){for(var m=0;m<y.length;m++){var b=y[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:v(x,y,m)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(m)}},l=a(6),s=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function c(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){h(g,v);function g(){return f(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(m,b){if(m!==this.statics.blotName||!b)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(m){var b=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),b.setAttribute("href",m),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return d(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(s.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function d(v,g){var y=document.createElement("a");y.href=v;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=p,n.sanitize=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),l=a(23),s=c(l),u=a(107),f=c(u);function c(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function d(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var v=function(){function g(y){var m=this;h(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case s.default.keys.ENTER:m.togglePicker();break;case s.default.keys.ESCAPE:m.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var b=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),m.hasAttribute("value")&&x.setAttribute("data-value",m.getAttribute("value")),m.textContent&&x.setAttribute("data-label",m.textContent),x.addEventListener("click",function(){b.selectItem(x,!0)}),x.addEventListener("keydown",function(w){switch(w.keyCode){case s.default.keys.ENTER:b.selectItem(x,!0),w.preventDefault();break;case s.default.keys.ESCAPE:b.escape(),w.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=f.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(x){var w=m.buildItem(x);b.appendChild(w),x.selected===!0&&m.selectItem(w)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(b){m.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(m!==x&&(x!=null&&x.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var x=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),g}();n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(0),o=D(i),l=a(5),s=D(l),u=a(4),f=D(u),c=a(16),h=D(c),p=a(25),d=D(p),v=a(24),g=D(v),y=a(35),m=D(y),b=a(6),x=D(b),w=a(22),S=D(w),A=a(7),I=D(A),k=a(55),E=D(k),M=a(42),O=D(M),F=a(23),L=D(F);function D(_){return _&&_.__esModule?_:{default:_}}s.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":d.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":x.default,"blots/scroll":S.default,"blots/text":I.default,"modules/clipboard":E.default,"modules/history":O.default,"modules/keyboard":L.default}),o.default.register(f.default,h.default,g.default,x.default,S.default,I.default),n.default=s.default},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),o=function(){function l(s){this.domNode=s,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(s){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof s=="string"&&(s=s.toUpperCase(),parseInt(s).toString()===s&&(s=parseInt(s))),typeof s=="number"?u=document.createElement(this.tagName[s-1]):this.tagName.indexOf(s)>-1?u=document.createElement(s):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var s=this.domNode.cloneNode(!1);return i.create(s)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(s,u){var f=this.isolate(s,u);f.remove()},l.prototype.formatAt=function(s,u,f,c){var h=this.isolate(s,u);if(i.query(f,i.Scope.BLOT)!=null&&c)h.wrap(f,c);else if(i.query(f,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);h.wrap(p),p.format(f,c)}},l.prototype.insertAt=function(s,u,f){var c=f==null?i.create("text",u):i.create(u,f),h=this.split(s);this.parent.insertBefore(c,h)},l.prototype.insertInto=function(s,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;s.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=s.domNode||this.domNode.nextSibling!=f)&&s.domNode.insertBefore(this.domNode,f),this.parent=s,this.attach()},l.prototype.isolate=function(s,u){var f=this.split(s);return f.split(u),f},l.prototype.length=function(){return 1},l.prototype.offset=function(s){return s===void 0&&(s=this.parent),this.parent==null||this==s?0:this.parent.children.offset(this)+this.parent.offset(s)},l.prototype.optimize=function(s){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(s){s.parent!=null&&(s.parent.insertBefore(this,s.next),s.remove())},l.prototype.replaceWith=function(s,u){var f=typeof s=="string"?i.create(s,u):s;return f.replace(this),f},l.prototype.split=function(s,u){return s===0?this:this.next},l.prototype.update=function(s,u){},l.prototype.wrap=function(s,u){var f=typeof s=="string"?i.create(s,u):s;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},l.blotName="abstract",l}();n.default=o},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(12),o=a(32),l=a(33),s=a(1),u=function(){function f(c){this.attributes={},this.domNode=c,this.build()}return f.prototype.attribute=function(c,h){h?c.add(this.domNode,h)&&(c.value(this.domNode)!=null?this.attributes[c.attrName]=c:delete this.attributes[c.attrName]):(c.remove(this.domNode),delete this.attributes[c.attrName])},f.prototype.build=function(){var c=this;this.attributes={};var h=i.default.keys(this.domNode),p=o.default.keys(this.domNode),d=l.default.keys(this.domNode);h.concat(p).concat(d).forEach(function(v){var g=s.query(v,s.Scope.ATTRIBUTE);g instanceof i.default&&(c.attributes[g.attrName]=g)})},f.prototype.copy=function(c){var h=this;Object.keys(this.attributes).forEach(function(p){var d=h.attributes[p].value(h.domNode);c.format(p,d)})},f.prototype.move=function(c){var h=this;this.copy(c),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},f.prototype.values=function(){var c=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=c.attributes[p].value(c.domNode),h},{})},f}();n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){u(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u,f){var c=u.getAttribute("class")||"";return c.split(/\s+/).filter(function(h){return h.indexOf(f+"-")===0})}var s=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},f.prototype.add=function(c,h){return this.canAdd(c,h)?(this.remove(c),c.classList.add(this.keyName+"-"+h),!0):!1},f.prototype.remove=function(c){var h=l(c,this.keyName);h.forEach(function(p){c.classList.remove(p)}),c.classList.length===0&&c.removeAttribute("class")},f.prototype.value=function(c){var h=l(c,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(c,p)?p:""},f}(o.default);n.default=s},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){u(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(12);function l(u){var f=u.split("-"),c=f.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return f[0]+c}var s=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},f.prototype.add=function(c,h){return this.canAdd(c,h)?(c.style[l(this.keyName)]=h,!0):!1},f.prototype.remove=function(c){c.style[l(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},f.prototype.value=function(c){var h=c.style[l(this.keyName)];return this.canAdd(c,h)?h:""},f}(o.default);n.default=s},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(u,f){for(var c=0;c<f.length;c++){var h=f[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,f,c){return f&&s(u.prototype,f),c&&s(u,c),u}}();function o(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(u,f){o(this,s),this.quill=u,this.options=f,this.modules={}}return i(s,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(c){f.modules[c]==null&&f.addModule(c)})}},{key:"addModule",value:function(f){var c=this.quill.constructor.import("modules/"+f);return this.modules[f]=new c(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),s}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var A=w.get;return A===void 0?void 0:A.call(x)}},l=a(0),s=c(l),u=a(7),f=c(u);function c(y){return y&&y.__esModule?y:{default:y}}function h(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var v="\uFEFF",g=function(y){d(m,y);function m(b){h(this,m);var x=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(w){x.contentNode.appendChild(w)}),x.leftGuard=document.createTextNode(v),x.rightGuard=document.createTextNode(v),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return i(m,[{key:"index",value:function(x,w){return x===this.leftGuard?0:x===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,x,w)}},{key:"restore",value:function(x){var w=void 0,S=void 0,A=x.data.split(v).join("");if(x===this.leftGuard)if(this.prev instanceof f.default){var I=this.prev.length();this.prev.insertAt(I,A),w={startNode:this.prev.domNode,startOffset:I+A.length}}else S=document.createTextNode(A),this.parent.insertBefore(s.default.create(S),this),w={startNode:S,startOffset:A.length};else x===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,A),w={startNode:this.next.domNode,startOffset:A.length}):(S=document.createTextNode(A),this.parent.insertBefore(s.default.create(S),this.next),w={startNode:S,startOffset:A.length}));return x.data=v,w}},{key:"update",value:function(x,w){var S=this;x.forEach(function(A){if(A.type==="characterData"&&(A.target===S.leftGuard||A.target===S.rightGuard)){var I=S.restore(A.target);I&&(w.range=I)}})}}]),m}(s.default.Embed);n.default=g},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var s={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",s),f=new o.default.Attributor.Class("align","ql-align",s),c=new o.default.Attributor.Style("align","text-align",s);n.AlignAttribute=u,n.AlignClass=f,n.AlignStyle=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=a(0),o=s(i),l=a(26);function s(c){return c&&c.__esModule?c:{default:c}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=f},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=a(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var s={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",s),f=new o.default.Attributor.Class("direction","ql-direction",s),c=new o.default.Attributor.Style("direction","direction",s);n.DirectionAttribute=u,n.DirectionClass=f,n.DirectionStyle=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function y(m,b){for(var x=0;x<b.length;x++){var w=b[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,b,x){return b&&y(m.prototype,b),x&&y(m,x),m}}(),o=function y(m,b,x){m===null&&(m=Function.prototype);var w=Object.getOwnPropertyDescriptor(m,b);if(w===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:y(S,b,x)}else{if("value"in w)return w.value;var A=w.get;return A===void 0?void 0:A.call(x)}},l=a(0),s=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",p),v=function(y){h(m,y);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,[{key:"value",value:function(x){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),m}(s.default.Attributor.Style),g=new v("font","font-family",p);n.FontStyle=g,n.FontClass=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=a(0),o=l(i);function l(f){return f&&f.__esModule?f:{default:f}}var s=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=s,n.SizeStyle=u},function(t,n,a){t.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function b(x,w){for(var S=0;S<w.length;S++){var A=w[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,w,S){return w&&b(x.prototype,w),S&&b(x,S),x}}(),o=a(0),l=h(o),s=a(5),u=h(s),f=a(9),c=h(f);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function d(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function v(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var g=function(b){v(x,b);function x(w,S){p(this,x);var A=d(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,S));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(I,k,E,M){I!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||M===u.default.sources.USER?A.record(k,E):A.transform(k))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return i(x,[{key:"change",value:function(S,A){if(this.stack[S].length!==0){var I=this.stack[S].pop();this.stack[A].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[S],u.default.sources.USER),this.ignoreChange=!1;var k=m(I[S]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,A){if(S.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(A),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var E=this.stack.undo.pop();I=I.compose(E.undo),S=E.redo.compose(S)}else this.lastRecorded=k;this.stack.undo.push({redo:S,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(A){A.undo=S.transform(A.undo,!0),A.redo=S.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=S.transform(A.undo,!0),A.redo=S.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(c.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var x=b.ops[b.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(w){return l.default.query(w,l.default.Scope.BLOCK)!=null}):!1}function m(b){var x=b.reduce(function(S,A){return S+=A.delete||0,S},0),w=b.length()-x;return y(b)&&(w-=1),w}n.default=g,n.getLastChangeIndex=m},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function j(H,Y){for(var G=0;G<Y.length;G++){var R=Y[G];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(H,R.key,R)}}return function(H,Y,G){return Y&&j(H.prototype,Y),G&&j(H,G),H}}(),o=function j(H,Y,G){H===null&&(H=Function.prototype);var R=Object.getOwnPropertyDescriptor(H,Y);if(R===void 0){var W=Object.getPrototypeOf(H);return W===null?void 0:j(W,Y,G)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(G)}},l=a(3),s=k(l),u=a(2),f=k(u),c=a(8),h=k(c),p=a(23),d=k(p),v=a(34),g=k(v),y=a(59),m=k(y),b=a(60),x=k(b),w=a(28),S=k(w),A=a(61),I=k(A);function k(j){return j&&j.__esModule?j:{default:j}}function E(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function M(j,H){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:j}function O(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(j,H):j.__proto__=H)}var F=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],_=["1","2","3",!1],z=["small",!1,"large","huge"],X=function(j){O(H,j);function H(Y,G){E(this,H);var R=M(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Y,G)),W=function U(K){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",U);R.tooltip!=null&&!R.tooltip.root.contains(K.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(tt){tt.container.contains(K.target)||tt.close()})};return Y.emitter.listenDOM("click",document.body,W),R}return i(H,[{key:"addModule",value:function(G){var R=o(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,G);return G==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(G,R){G.forEach(function(W){var U=W.getAttribute("class")||"";U.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),R[K]!=null))if(K==="direction")W.innerHTML=R[K][""]+R[K].rtl;else if(typeof R[K]=="string")W.innerHTML=R[K];else{var tt=W.value||"";tt!=null&&R[K][tt]&&(W.innerHTML=R[K][tt])}})})}},{key:"buildPickers",value:function(G,R){var W=this;this.pickers=G.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&P(K,F),new x.default(K,R.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var tt=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&P(K,L,tt==="background"?"#ffffff":"#000000"),new m.default(K,R[tt])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?P(K,D):K.classList.contains("ql-header")?P(K,_):K.classList.contains("ql-size")&&P(K,z)),new S.default(K)});var U=function(){W.pickers.forEach(function(tt){tt.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,U)}}]),H}(g.default);X.DEFAULTS=(0,s.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var G=new FileReader;G.onload=function(R){var W=H.quill.getSelection(!0);H.quill.updateContents(new f.default().retain(W.index).delete(W.length).insert({image:R.target.result}),h.default.sources.USER),H.quill.setSelection(W.index+1,h.default.sources.SILENT),Y.value=""},G.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var V=function(j){O(H,j);function H(Y,G){E(this,H);var R=M(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Y,G));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return i(H,[{key:"listen",value:function(){var G=this;this.textbox.addEventListener("keydown",function(R){d.default.match(R,"enter")?(G.save(),R.preventDefault()):d.default.match(R,"escape")&&(G.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:G!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+G)||""),this.root.setAttribute("data-mode",G)}},{key:"restoreFocus",value:function(){var G=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=G}},{key:"save",value:function(){var G=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",G,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",G,h.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":G=N(G);case"formula":{if(!G)break;var W=this.quill.getSelection(!0);if(W!=null){var U=W.index+W.length;this.quill.insertEmbed(U,this.root.getAttribute("data-mode"),G,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(U+1," ",h.default.sources.USER),this.quill.setSelection(U+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(I.default);function N(j){var H=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":j}function P(j,H){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(G){var R=document.createElement("option");G===Y?R.setAttribute("selected","selected"):R.setAttribute("value",G),j.appendChild(R)})}n.BaseTooltip=V,n.default=X},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],s=0;s<arguments.length;s++)l[s]=arguments[s];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var s,u=this.iterator();s=u();)if(s===l)return!0;return!1},o.prototype.insertBefore=function(l,s){l&&(l.next=s,s!=null?(l.prev=s.prev,s.prev!=null&&(s.prev.next=l),s.prev=l,s===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var s=0,u=this.head;u!=null;){if(u===l)return s;s+=u.length(),u=u.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var s=l;return l!=null&&(l=l.next),s}},o.prototype.find=function(l,s){s===void 0&&(s=!1);for(var u,f=this.iterator();u=f();){var c=u.length();if(l<c||s&&l===c&&(u.next==null||u.next.length()!==0))return[u,l];l-=c}return[null,0]},o.prototype.forEach=function(l){for(var s,u=this.iterator();s=u();)l(s)},o.prototype.forEachAt=function(l,s,u){if(!(s<=0))for(var f=this.find(l),c=f[0],h=f[1],p,d=l-h,v=this.iterator(c);(p=v())&&d<l+s;){var g=p.length();l>d?u(p,l-d,Math.min(s,d+g-l)):u(p,0,Math.min(g,l+s-d)),d+=g}},o.prototype.map=function(l){return this.reduce(function(s,u){return s.push(l(u)),s},[])},o.prototype.reduce=function(l,s){for(var u,f=this.iterator();u=f();)s=l(s,u);return s},o}();n.default=i},function(t,n,a){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var d in p)p.hasOwnProperty(d)&&(h[d]=p[d])};return function(h,p){c(h,p);function d(){this.constructor=h}h.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),l=a(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(c){i(h,c);function h(p){var d=c.call(this,p)||this;return d.scroll=d,d.observer=new MutationObserver(function(v){d.update(v)}),d.observer.observe(d.domNode,s),d.attach(),d}return h.prototype.detach=function(){c.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,d){this.update(),p===0&&d===this.length()?this.children.forEach(function(v){v.remove()}):c.prototype.deleteAt.call(this,p,d)},h.prototype.formatAt=function(p,d,v,g){this.update(),c.prototype.formatAt.call(this,p,d,v,g)},h.prototype.insertAt=function(p,d,v){this.update(),c.prototype.insertAt.call(this,p,d,v)},h.prototype.optimize=function(p,d){var v=this;p===void 0&&(p=[]),d===void 0&&(d={}),c.prototype.optimize.call(this,d);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(w,S){S===void 0&&(S=!0),!(w==null||w===v)&&w.domNode.parentNode!=null&&(w.domNode[l.DATA_KEY].mutations==null&&(w.domNode[l.DATA_KEY].mutations=[]),S&&y(w.parent))},m=function(w){w.domNode[l.DATA_KEY]==null||w.domNode[l.DATA_KEY].mutations==null||(w instanceof o.default&&w.children.forEach(m),w.optimize(d))},b=p,x=0;b.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(w){var S=l.find(w.target,!0);S!=null&&(S.domNode===w.target&&(w.type==="childList"?(y(l.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(A){var I=l.find(A,!1);y(I,!1),I instanceof o.default&&I.children.forEach(function(k){y(k,!1)})})):w.type==="attributes"&&y(S.prev)),y(S))}),this.children.forEach(m),b=[].slice.call(this.observer.takeRecords()),g=b.slice();g.length>0;)p.push(g.pop())}},h.prototype.update=function(p,d){var v=this;d===void 0&&(d={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=l.find(g.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[g],y):(y.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],d)}),this.domNode[l.DATA_KEY].mutations!=null&&c.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,d),this.optimize(p,d)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=f},function(t,n,a){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)h.hasOwnProperty(p)&&(c[p]=h[p])};return function(c,h){f(c,h);function p(){this.constructor=c}c.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1);function s(f,c){if(Object.keys(f).length!==Object.keys(c).length)return!1;for(var h in f)if(f[h]!==c[h])return!1;return!0}var u=function(f){i(c,f);function c(){return f!==null&&f.apply(this,arguments)||this}return c.formats=function(h){if(h.tagName!==c.tagName)return f.formats.call(this,h)},c.prototype.format=function(h,p){var d=this;h===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(c.blotName,!0)),d.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,h,p)},c.prototype.formatAt=function(h,p,d,v){if(this.formats()[d]!=null||l.query(d,l.Scope.ATTRIBUTE)){var g=this.isolate(h,p);g.format(d,v)}else f.prototype.formatAt.call(this,h,p,d,v)},c.prototype.optimize=function(h){f.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var d=this.next;d instanceof c&&d.prev===this&&s(p,d.formats())&&(d.moveChildren(this),d.remove())},c.blotName="inline",c.scope=l.Scope.INLINE_BLOT,c.tagName="SPAN",c}(o.default);n.default=u},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){u(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(18),l=a(1),s=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(c){var h=l.query(f.blotName).tagName;if(c.tagName!==h)return u.formats.call(this,c)},f.prototype.format=function(c,h){l.query(c,l.Scope.BLOCK)!=null&&(c===this.statics.blotName&&!h?this.replaceWith(f.blotName):u.prototype.format.call(this,c,h))},f.prototype.formatAt=function(c,h,p,d){l.query(p,l.Scope.BLOCK)!=null?this.format(p,d):u.prototype.formatAt.call(this,c,h,p,d)},f.prototype.insertAt=function(c,h,p){if(p==null||l.query(h,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,c,h,p);else{var d=this.split(c),v=l.create(h,p);d.parent.insertBefore(v,d)}},f.prototype.update=function(c,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,c,h)},f.blotName="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);n.default=s},function(t,n,a){var i=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])};return function(u,f){s(u,f);function c(){this.constructor=u}u.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=function(s){i(u,s);function u(){return s!==null&&s.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,c){s.prototype.formatAt.call(this,0,this.length(),f,c)},u.prototype.formatAt=function(f,c,h,p){f===0&&c===this.length()?this.format(h,p):s.prototype.formatAt.call(this,f,c,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=l},function(t,n,a){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){u(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=a(19),l=a(1),s=function(u){i(f,u);function f(c){var h=u.call(this,c)||this;return h.text=h.statics.value(h.domNode),h}return f.create=function(c){return document.createTextNode(c)},f.value=function(c){var h=c.data;return h.normalize&&(h=h.normalize()),h},f.prototype.deleteAt=function(c,h){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+h)},f.prototype.index=function(c,h){return this.domNode===c?h:-1},f.prototype.insertAt=function(c,h,p){p==null?(this.text=this.text.slice(0,c)+h+this.text.slice(c),this.domNode.data=this.text):u.prototype.insertAt.call(this,c,h,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(c){u.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(c,h){return[this.domNode,c]},f.prototype.split=function(c,h){if(h===void 0&&(h=!1),!h){if(c===0)return this;if(c===this.length())return this.next}var p=l.create(this.domNode.splitText(c));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(c,h){var p=this;c.some(function(d){return d.type==="characterData"&&d.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=l.Scope.INLINE_BLOT,f}(o.default);n.default=s},function(t,n,a){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,s){return arguments.length>1&&!this.contains(l)==!s?s:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,s){return s=s||0,this.substr(s,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,s){var u=this.toString();(typeof s!="number"||!isFinite(s)||Math.floor(s)!==s||s>u.length)&&(s=u.length),s-=l.length;var f=u.indexOf(l,s);return f!==-1&&f===s}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,c=arguments[1],h,p=0;p<f;p++)if(h=u[p],s.call(c,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var a=-1,i=1,o=0;function l(x,w,S){if(x==w)return x?[[o,x]]:[];(S<0||x.length<S)&&(S=null);var A=c(x,w),I=x.substring(0,A);x=x.substring(A),w=w.substring(A),A=h(x,w);var k=x.substring(x.length-A);x=x.substring(0,x.length-A),w=w.substring(0,w.length-A);var E=s(x,w);return I&&E.unshift([o,I]),k&&E.push([o,k]),d(E),S!=null&&(E=y(E,S)),E=m(E),E}function s(x,w){var S;if(!x)return[[i,w]];if(!w)return[[a,x]];var A=x.length>w.length?x:w,I=x.length>w.length?w:x,k=A.indexOf(I);if(k!=-1)return S=[[i,A.substring(0,k)],[o,I],[i,A.substring(k+I.length)]],x.length>w.length&&(S[0][0]=S[2][0]=a),S;if(I.length==1)return[[a,x],[i,w]];var E=p(x,w);if(E){var M=E[0],O=E[1],F=E[2],L=E[3],D=E[4],_=l(M,F),z=l(O,L);return _.concat([[o,D]],z)}return u(x,w)}function u(x,w){for(var S=x.length,A=w.length,I=Math.ceil((S+A)/2),k=I,E=2*I,M=new Array(E),O=new Array(E),F=0;F<E;F++)M[F]=-1,O[F]=-1;M[k+1]=0,O[k+1]=0;for(var L=S-A,D=L%2!=0,_=0,z=0,X=0,V=0,N=0;N<I;N++){for(var P=-N+_;P<=N-z;P+=2){var j=k+P,H;P==-N||P!=N&&M[j-1]<M[j+1]?H=M[j+1]:H=M[j-1]+1;for(var Y=H-P;H<S&&Y<A&&x.charAt(H)==w.charAt(Y);)H++,Y++;if(M[j]=H,H>S)z+=2;else if(Y>A)_+=2;else if(D){var G=k+L-P;if(G>=0&&G<E&&O[G]!=-1){var R=S-O[G];if(H>=R)return f(x,w,H,Y)}}}for(var W=-N+X;W<=N-V;W+=2){var G=k+W,R;W==-N||W!=N&&O[G-1]<O[G+1]?R=O[G+1]:R=O[G-1]+1;for(var U=R-W;R<S&&U<A&&x.charAt(S-R-1)==w.charAt(A-U-1);)R++,U++;if(O[G]=R,R>S)V+=2;else if(U>A)X+=2;else if(!D){var j=k+L-W;if(j>=0&&j<E&&M[j]!=-1){var H=M[j],Y=k+H-j;if(R=S-R,H>=R)return f(x,w,H,Y)}}}}return[[a,x],[i,w]]}function f(x,w,S,A){var I=x.substring(0,S),k=w.substring(0,A),E=x.substring(S),M=w.substring(A),O=l(I,k),F=l(E,M);return O.concat(F)}function c(x,w){if(!x||!w||x.charAt(0)!=w.charAt(0))return 0;for(var S=0,A=Math.min(x.length,w.length),I=A,k=0;S<I;)x.substring(k,I)==w.substring(k,I)?(S=I,k=S):A=I,I=Math.floor((A-S)/2+S);return I}function h(x,w){if(!x||!w||x.charAt(x.length-1)!=w.charAt(w.length-1))return 0;for(var S=0,A=Math.min(x.length,w.length),I=A,k=0;S<I;)x.substring(x.length-I,x.length-k)==w.substring(w.length-I,w.length-k)?(S=I,k=S):A=I,I=Math.floor((A-S)/2+S);return I}function p(x,w){var S=x.length>w.length?x:w,A=x.length>w.length?w:x;if(S.length<4||A.length*2<S.length)return null;function I(z,X,V){for(var N=z.substring(V,V+Math.floor(z.length/4)),P=-1,j="",H,Y,G,R;(P=X.indexOf(N,P+1))!=-1;){var W=c(z.substring(V),X.substring(P)),U=h(z.substring(0,V),X.substring(0,P));j.length<U+W&&(j=X.substring(P-U,P)+X.substring(P,P+W),H=z.substring(0,V-U),Y=z.substring(V+W),G=X.substring(0,P-U),R=X.substring(P+W))}return j.length*2>=z.length?[H,Y,G,R,j]:null}var k=I(S,A,Math.ceil(S.length/4)),E=I(S,A,Math.ceil(S.length/2)),M;if(!k&&!E)return null;E?k?M=k[4].length>E[4].length?k:E:M=E:M=k;var O,F,L,D;x.length>w.length?(O=M[0],F=M[1],L=M[2],D=M[3]):(L=M[0],D=M[1],O=M[2],F=M[3]);var _=M[4];return[O,F,L,D,_]}function d(x){x.push([o,""]);for(var w=0,S=0,A=0,I="",k="",E;w<x.length;)switch(x[w][0]){case i:A++,k+=x[w][1],w++;break;case a:S++,I+=x[w][1],w++;break;case o:S+A>1?(S!==0&&A!==0&&(E=c(k,I),E!==0&&(w-S-A>0&&x[w-S-A-1][0]==o?x[w-S-A-1][1]+=k.substring(0,E):(x.splice(0,0,[o,k.substring(0,E)]),w++),k=k.substring(E),I=I.substring(E)),E=h(k,I),E!==0&&(x[w][1]=k.substring(k.length-E)+x[w][1],k=k.substring(0,k.length-E),I=I.substring(0,I.length-E))),S===0?x.splice(w-A,S+A,[i,k]):A===0?x.splice(w-S,S+A,[a,I]):x.splice(w-S-A,S+A,[a,I],[i,k]),w=w-S-A+(S?1:0)+(A?1:0)+1):w!==0&&x[w-1][0]==o?(x[w-1][1]+=x[w][1],x.splice(w,1)):w++,A=0,S=0,I="",k="";break}x[x.length-1][1]===""&&x.pop();var M=!1;for(w=1;w<x.length-1;)x[w-1][0]==o&&x[w+1][0]==o&&(x[w][1].substring(x[w][1].length-x[w-1][1].length)==x[w-1][1]?(x[w][1]=x[w-1][1]+x[w][1].substring(0,x[w][1].length-x[w-1][1].length),x[w+1][1]=x[w-1][1]+x[w+1][1],x.splice(w-1,1),M=!0):x[w][1].substring(0,x[w+1][1].length)==x[w+1][1]&&(x[w-1][1]+=x[w+1][1],x[w][1]=x[w][1].substring(x[w+1][1].length)+x[w+1][1],x.splice(w+1,1),M=!0)),w++;M&&d(x)}var v=l;v.INSERT=i,v.DELETE=a,v.EQUAL=o,t.exports=v;function g(x,w){if(w===0)return[o,x];for(var S=0,A=0;A<x.length;A++){var I=x[A];if(I[0]===a||I[0]===o){var k=S+I[1].length;if(w===k)return[A+1,x];if(w<k){x=x.slice();var E=w-S,M=[I[0],I[1].slice(0,E)],O=[I[0],I[1].slice(E)];return x.splice(A,1,M,O),[A+1,x]}else S=k}}throw new Error("cursor_pos is out of bounds!")}function y(x,w){var S=g(x,w),A=S[1],I=S[0],k=A[I],E=A[I+1];if(k==null)return x;if(k[0]!==o)return x;if(E!=null&&k[1]+E[1]===E[1]+k[1])return A.splice(I,2,E,k),b(A,I,2);if(E!=null&&E[1].indexOf(k[1])===0){A.splice(I,2,[E[0],k[1]],[0,k[1]]);var M=E[1].slice(k[1].length);return M.length>0&&A.splice(I+2,0,[E[0],M]),b(A,I,3)}else return x}function m(x){for(var w=!1,S=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},A=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},I=2;I<x.length;I+=1)x[I-2][0]===o&&A(x[I-2][1])&&x[I-1][0]===a&&S(x[I-1][1])&&x[I][0]===i&&S(x[I][1])&&(w=!0,x[I-1][1]=x[I-2][1].slice(-1)+x[I-1][1],x[I][1]=x[I-2][1].slice(-1)+x[I][1],x[I-2][1]=x[I-2][1].slice(0,-1));if(!w)return x;for(var k=[],I=0;I<x.length;I+=1)x[I][1].length>0&&k.push(x[I]);return k}function b(x,w,S){for(var A=w+S-1;A>=0&&A>=w-1;A--)if(A+1<x.length){var I=x[A],k=x[A+1];I[0]===k[1]&&x.splice(A,2,[I[0],I[1]+k[1]])}return x}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:a,n.shim=a;function a(i){var o=[];for(var l in i)o.push(l);return o}},function(t,n){var a=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=a?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(t,n){var a=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(u,f,c){this.fn=u,this.context=f,this.once=c||!1}function s(){this._events=new o,this._eventsCount=0}s.prototype.eventNames=function(){var f=[],c,h;if(this._eventsCount===0)return f;for(h in c=this._events)a.call(c,h)&&f.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},s.prototype.listeners=function(f,c){var h=i?i+f:f,p=this._events[h];if(c)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var d=0,v=p.length,g=new Array(v);d<v;d++)g[d]=p[d].fn;return g},s.prototype.emit=function(f,c,h,p,d,v){var g=i?i+f:f;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,h),!0;case 4:return y.fn.call(y.context,c,h,p),!0;case 5:return y.fn.call(y.context,c,h,p,d),!0;case 6:return y.fn.call(y.context,c,h,p,d,v),!0}for(x=1,b=new Array(m-1);x<m;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var w=y.length,S;for(x=0;x<w;x++)switch(y[x].once&&this.removeListener(f,y[x].fn,void 0,!0),m){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,c);break;case 3:y[x].fn.call(y[x].context,c,h);break;case 4:y[x].fn.call(y[x].context,c,h,p);break;default:if(!b)for(S=1,b=new Array(m-1);S<m;S++)b[S-1]=arguments[S];y[x].fn.apply(y[x].context,b)}}return!0},s.prototype.on=function(f,c,h){var p=new l(c,h||this),d=i?i+f:f;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],p]:this._events[d].push(p):(this._events[d]=p,this._eventsCount++),this},s.prototype.once=function(f,c,h){var p=new l(c,h||this,!0),d=i?i+f:f;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],p]:this._events[d].push(p):(this._events[d]=p,this._eventsCount++),this},s.prototype.removeListener=function(f,c,h,p){var d=i?i+f:f;if(!this._events[d])return this;if(!c)return--this._eventsCount===0?this._events=new o:delete this._events[d],this;var v=this._events[d];if(v.fn)v.fn===c&&(!p||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[d]);else{for(var g=0,y=[],m=v.length;g<m;g++)(v[g].fn!==c||p&&!v[g].once||h&&v[g].context!==h)&&y.push(v[g]);y.length?this._events[d]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[d]}return this},s.prototype.removeAllListeners=function(f){var c;return f?(c=i?i+f:f,this._events[c]&&(--this._eventsCount===0?this._events=new o:delete this._events[c])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,typeof t<"u"&&(t.exports=s)},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},o=function(){function et(nt,ct){var ht=[],it=!0,Tt=!1,It=void 0;try{for(var Mt=nt[Symbol.iterator](),dr;!(it=(dr=Mt.next()).done)&&(ht.push(dr.value),!(ct&&ht.length===ct));it=!0);}catch(on){Tt=!0,It=on}finally{try{!it&&Mt.return&&Mt.return()}finally{if(Tt)throw It}}return ht}return function(nt,ct){if(Array.isArray(nt))return nt;if(Symbol.iterator in Object(nt))return et(nt,ct);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function et(nt,ct){for(var ht=0;ht<ct.length;ht++){var it=ct[ht];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(nt,it.key,it)}}return function(nt,ct,ht){return ct&&et(nt.prototype,ct),ht&&et(nt,ht),nt}}(),s=a(3),u=O(s),f=a(2),c=O(f),h=a(0),p=O(h),d=a(5),v=O(d),g=a(10),y=O(g),m=a(9),b=O(m),x=a(36),w=a(37),S=a(13),A=O(S),I=a(26),k=a(38),E=a(39),M=a(40);function O(et){return et&&et.__esModule?et:{default:et}}function F(et,nt,ct){return nt in et?Object.defineProperty(et,nt,{value:ct,enumerable:!0,configurable:!0,writable:!0}):et[nt]=ct,et}function L(et,nt){if(!(et instanceof nt))throw new TypeError("Cannot call a class as a function")}function D(et,nt){if(!et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt&&(typeof nt=="object"||typeof nt=="function")?nt:et}function _(et,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof nt);et.prototype=Object.create(nt&&nt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}),nt&&(Object.setPrototypeOf?Object.setPrototypeOf(et,nt):et.__proto__=nt)}var z=(0,y.default)("quill:clipboard"),X="__ql-matcher",V=[[Node.TEXT_NODE,Ut],[Node.TEXT_NODE,yt],["br",rt],[Node.ELEMENT_NODE,yt],[Node.ELEMENT_NODE,tt],[Node.ELEMENT_NODE,Lt],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,Vt],["li",st],["b",U.bind(U,"bold")],["i",U.bind(U,"italic")],["style",vt]],N=[x.AlignAttribute,k.DirectionAttribute].reduce(function(et,nt){return et[nt.keyName]=nt,et},{}),P=[x.AlignStyle,w.BackgroundStyle,I.ColorStyle,k.DirectionStyle,E.FontStyle,M.SizeStyle].reduce(function(et,nt){return et[nt.keyName]=nt,et},{}),j=function(et){_(nt,et);function nt(ct,ht){L(this,nt);var it=D(this,(nt.__proto__||Object.getPrototypeOf(nt)).call(this,ct,ht));return it.quill.root.addEventListener("paste",it.onPaste.bind(it)),it.container=it.quill.addContainer("ql-clipboard"),it.container.setAttribute("contenteditable",!0),it.container.setAttribute("tabindex",-1),it.matchers=[],V.concat(it.options.matchers).forEach(function(Tt){var It=o(Tt,2),Mt=It[0],dr=It[1];!ht.matchVisual&&dr===Lt||it.addMatcher(Mt,dr)}),it}return l(nt,[{key:"addMatcher",value:function(ht,it){this.matchers.push([ht,it])}},{key:"convert",value:function(ht){if(typeof ht=="string")return this.container.innerHTML=ht.replace(/\>\r?\n +\</g,"><"),this.convert();var it=this.quill.getFormat(this.quill.selection.savedRange.index);if(it[A.default.blotName]){var Tt=this.container.innerText;return this.container.innerHTML="",new c.default().insert(Tt,F({},A.default.blotName,it[A.default.blotName]))}var It=this.prepareMatching(),Mt=o(It,2),dr=Mt[0],on=Mt[1],ee=W(this.container,dr,on);return G(ee,`
`)&&ee.ops[ee.ops.length-1].attributes==null&&(ee=ee.compose(new c.default().retain(ee.length()-1).delete(1))),z.log("convert",this.container.innerHTML,ee),this.container.innerHTML="",ee}},{key:"dangerouslyPasteHTML",value:function(ht,it){var Tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ht=="string")this.quill.setContents(this.convert(ht),it),this.quill.setSelection(0,v.default.sources.SILENT);else{var It=this.convert(it);this.quill.updateContents(new c.default().retain(ht).concat(It),Tt),this.quill.setSelection(ht+It.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ht){var it=this;if(!(ht.defaultPrevented||!this.quill.isEnabled())){var Tt=this.quill.getSelection(),It=new c.default().retain(Tt.index),Mt=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){It=It.concat(it.convert()).delete(Tt.length),it.quill.updateContents(It,v.default.sources.USER),it.quill.setSelection(It.length()-Tt.length,v.default.sources.SILENT),it.quill.scrollingContainer.scrollTop=Mt,it.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ht=this,it=[],Tt=[];return this.matchers.forEach(function(It){var Mt=o(It,2),dr=Mt[0],on=Mt[1];switch(dr){case Node.TEXT_NODE:Tt.push(on);break;case Node.ELEMENT_NODE:it.push(on);break;default:[].forEach.call(ht.container.querySelectorAll(dr),function(ee){ee[X]=ee[X]||[],ee[X].push(on)});break}}),[it,Tt]}}]),nt}(b.default);j.DEFAULTS={matchers:[],matchVisual:!0};function H(et,nt,ct){return(typeof nt>"u"?"undefined":i(nt))==="object"?Object.keys(nt).reduce(function(ht,it){return H(ht,it,nt[it])},et):et.reduce(function(ht,it){return it.attributes&&it.attributes[nt]?ht.push(it):ht.insert(it.insert,(0,u.default)({},F({},nt,ct),it.attributes))},new c.default)}function Y(et){if(et.nodeType!==Node.ELEMENT_NODE)return{};var nt="__ql-computed-style";return et[nt]||(et[nt]=window.getComputedStyle(et))}function G(et,nt){for(var ct="",ht=et.ops.length-1;ht>=0&&ct.length<nt.length;--ht){var it=et.ops[ht];if(typeof it.insert!="string")break;ct=it.insert+ct}return ct.slice(-1*nt.length)===nt}function R(et){if(et.childNodes.length===0)return!1;var nt=Y(et);return["block","list-item"].indexOf(nt.display)>-1}function W(et,nt,ct){return et.nodeType===et.TEXT_NODE?ct.reduce(function(ht,it){return it(et,ht)},new c.default):et.nodeType===et.ELEMENT_NODE?[].reduce.call(et.childNodes||[],function(ht,it){var Tt=W(it,nt,ct);return it.nodeType===et.ELEMENT_NODE&&(Tt=nt.reduce(function(It,Mt){return Mt(it,It)},Tt),Tt=(it[X]||[]).reduce(function(It,Mt){return Mt(it,It)},Tt)),ht.concat(Tt)},new c.default):new c.default}function U(et,nt,ct){return H(ct,et,!0)}function K(et,nt){var ct=p.default.Attributor.Attribute.keys(et),ht=p.default.Attributor.Class.keys(et),it=p.default.Attributor.Style.keys(et),Tt={};return ct.concat(ht).concat(it).forEach(function(It){var Mt=p.default.query(It,p.default.Scope.ATTRIBUTE);Mt!=null&&(Tt[Mt.attrName]=Mt.value(et),Tt[Mt.attrName])||(Mt=N[It],Mt!=null&&(Mt.attrName===It||Mt.keyName===It)&&(Tt[Mt.attrName]=Mt.value(et)||void 0),Mt=P[It],Mt!=null&&(Mt.attrName===It||Mt.keyName===It)&&(Mt=P[It],Tt[Mt.attrName]=Mt.value(et)||void 0))}),Object.keys(Tt).length>0&&(nt=H(nt,Tt)),nt}function tt(et,nt){var ct=p.default.query(et);if(ct==null)return nt;if(ct.prototype instanceof p.default.Embed){var ht={},it=ct.value(et);it!=null&&(ht[ct.blotName]=it,nt=new c.default().insert(ht,ct.formats(et)))}else typeof ct.formats=="function"&&(nt=H(nt,ct.blotName,ct.formats(et)));return nt}function rt(et,nt){return G(nt,`
`)||nt.insert(`
`),nt}function vt(){return new c.default}function st(et,nt){var ct=p.default.query(et);if(ct==null||ct.blotName!=="list-item"||!G(nt,`
`))return nt;for(var ht=-1,it=et.parentNode;!it.classList.contains("ql-clipboard");)(p.default.query(it)||{}).blotName==="list"&&(ht+=1),it=it.parentNode;return ht<=0?nt:nt.compose(new c.default().retain(nt.length()-1).retain(1,{indent:ht}))}function yt(et,nt){return G(nt,`
`)||(R(et)||nt.length()>0&&et.nextSibling&&R(et.nextSibling))&&nt.insert(`
`),nt}function Lt(et,nt){if(R(et)&&et.nextElementSibling!=null&&!G(nt,`

`)){var ct=et.offsetHeight+parseFloat(Y(et).marginTop)+parseFloat(Y(et).marginBottom);et.nextElementSibling.offsetTop>et.offsetTop+ct*1.5&&nt.insert(`
`)}return nt}function Vt(et,nt){var ct={},ht=et.style||{};return ht.fontStyle&&Y(et).fontStyle==="italic"&&(ct.italic=!0),ht.fontWeight&&(Y(et).fontWeight.startsWith("bold")||parseInt(Y(et).fontWeight)>=700)&&(ct.bold=!0),Object.keys(ct).length>0&&(nt=H(nt,ct)),parseFloat(ht.textIndent||0)>0&&(nt=new c.default().insert("	").concat(nt)),nt}function Ut(et,nt){var ct=et.data;if(et.parentNode.tagName==="O:P")return nt.insert(ct.trim());if(ct.trim().length===0&&et.parentNode.classList.contains("ql-clipboard"))return nt;if(!Y(et.parentNode).whiteSpace.startsWith("pre")){var ht=function(Tt,It){return It=It.replace(/[^\u00a0]/g,""),It.length<1&&Tt?" ":It};ct=ct.replace(/\r\n/g," ").replace(/\n/g," "),ct=ct.replace(/\s\s+/g,ht.bind(ht,!0)),(et.previousSibling==null&&R(et.parentNode)||et.previousSibling!=null&&R(et.previousSibling))&&(ct=ct.replace(/^\s+/,ht.bind(ht,!1))),(et.nextSibling==null&&R(et.parentNode)||et.nextSibling!=null&&R(et.nextSibling))&&(ct=ct.replace(/\s+$/,ht.bind(ht,!1)))}return nt.insert(ct)}n.default=j,n.matchAttributor=K,n.matchBlot=tt,n.matchNewline=yt,n.matchSpacing=Lt,n.matchText=Ut},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&d(v.prototype,g),y&&d(v,y),v}}(),o=function d(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:d(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(6),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(){return f(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(s.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function M(O,F){var L=[],D=!0,_=!1,z=void 0;try{for(var X=O[Symbol.iterator](),V;!(D=(V=X.next()).done)&&(L.push(V.value),!(F&&L.length===F));D=!0);}catch(N){_=!0,z=N}finally{try{!D&&X.return&&X.return()}finally{if(_)throw z}}return L}return function(O,F){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return M(O,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function M(O,F){for(var L=0;L<F.length;L++){var D=F[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}}return function(O,F,L){return F&&M(O.prototype,F),L&&M(O,L),O}}(),l=a(2),s=y(l),u=a(0),f=y(u),c=a(5),h=y(c),p=a(10),d=y(p),v=a(9),g=y(v);function y(M){return M&&M.__esModule?M:{default:M}}function m(M,O,F){return O in M?Object.defineProperty(M,O,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[O]=F,M}function b(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function x(M,O){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:M}function w(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(M,O):M.__proto__=O)}var S=(0,d.default)("quill:toolbar"),A=function(M){w(O,M);function O(F,L){b(this,O);var D=x(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,F,L));if(Array.isArray(D.options.container)){var _=document.createElement("div");k(_,D.options.container),F.container.parentNode.insertBefore(_,F.container),D.container=_}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var z;return z=S.error("Container required for toolbar",D.options),x(D,z)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(X){D.addHandler(X,D.options.handlers[X])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(X){D.attach(X)}),D.quill.on(h.default.events.EDITOR_CHANGE,function(X,V){X===h.default.events.SELECTION_CHANGE&&D.update(V)}),D.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var X=D.quill.selection.getRange(),V=i(X,1),N=V[0];D.update(N)}),D}return o(O,[{key:"addHandler",value:function(L,D){this.handlers[L]=D}},{key:"attach",value:function(L){var D=this,_=[].find.call(L.classList,function(X){return X.indexOf("ql-")===0});if(_){if(_=_.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[_]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[_]==null){S.warn("ignoring attaching to disabled format",_,L);return}if(f.default.query(_)==null){S.warn("ignoring attaching to nonexistent format",_,L);return}}var z=L.tagName==="SELECT"?"change":"click";L.addEventListener(z,function(X){var V=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var N=L.options[L.selectedIndex];N.hasAttribute("selected")?V=!1:V=N.value||!1}else L.classList.contains("ql-active")?V=!1:V=L.value||!L.hasAttribute("value"),X.preventDefault();D.quill.focus();var P=D.quill.selection.getRange(),j=i(P,1),H=j[0];if(D.handlers[_]!=null)D.handlers[_].call(D,V);else if(f.default.query(_).prototype instanceof f.default.Embed){if(V=prompt("Enter "+_),!V)return;D.quill.updateContents(new s.default().retain(H.index).delete(H.length).insert(m({},_,V)),h.default.sources.USER)}else D.quill.format(_,V,h.default.sources.USER);D.update(H)}),this.controls.push([_,L])}}},{key:"update",value:function(L){var D=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(_){var z=i(_,2),X=z[0],V=z[1];if(V.tagName==="SELECT"){var N=void 0;if(L==null)N=null;else if(D[X]==null)N=V.querySelector("option[selected]");else if(!Array.isArray(D[X])){var P=D[X];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),N=V.querySelector('option[value="'+P+'"]')}N==null?(V.value="",V.selectedIndex=-1):N.selected=!0}else if(L==null)V.classList.remove("ql-active");else if(V.hasAttribute("value")){var j=D[X]===V.getAttribute("value")||D[X]!=null&&D[X].toString()===V.getAttribute("value")||D[X]==null&&!V.getAttribute("value");V.classList.toggle("ql-active",j)}else V.classList.toggle("ql-active",D[X]!=null)})}}]),O}(g.default);A.DEFAULTS={};function I(M,O,F){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+O),F!=null&&(L.value=F),M.appendChild(L)}function k(M,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(F){var L=document.createElement("span");L.classList.add("ql-formats"),F.forEach(function(D){if(typeof D=="string")I(L,D);else{var _=Object.keys(D)[0],z=D[_];Array.isArray(z)?E(L,_,z):I(L,_,z)}}),M.appendChild(L)})}function E(M,O,F){var L=document.createElement("select");L.classList.add("ql-"+O),F.forEach(function(D){var _=document.createElement("option");D!==!1?_.setAttribute("value",D):_.setAttribute("selected","selected"),L.appendChild(_)}),M.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var O=this,F=this.quill.getSelection();if(F!=null)if(F.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(D){f.default.query(D,f.default.Scope.INLINE)!=null&&O.quill.format(D,!1)})}else this.quill.removeFormat(F,h.default.sources.USER)},direction:function(O){var F=this.quill.getFormat().align;O==="rtl"&&F==null?this.quill.format("align","right",h.default.sources.USER):!O&&F==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",O,h.default.sources.USER)},indent:function(O){var F=this.quill.getSelection(),L=this.quill.getFormat(F),D=parseInt(L.indent||0);if(O==="+1"||O==="-1"){var _=O==="+1"?1:-1;L.direction==="rtl"&&(_*=-1),this.quill.format("indent",D+_,h.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,h.default.sources.USER)},list:function(O){var F=this.quill.getSelection(),L=this.quill.getFormat(F);O==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",O,h.default.sources.USER)}}},n.default=A,n.addControls=k},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&d(v.prototype,g),y&&d(v,y),v}}(),o=function d(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:d(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(28),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(g,y){f(this,v);var m=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),m}return i(v,[{key:"buildItem",value:function(y){var m=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m);var b=this.label.querySelector(".ql-color-label"),x=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=x:b.style.fill=x)}}]),v}(s.default);n.default=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&d(v.prototype,g),y&&d(v,y),v}}(),o=function d(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:d(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(28),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(g,y){f(this,v);var m=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return i(v,[{key:"selectItem",value:function(y,m){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(s.default);n.default=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(u,f){for(var c=0;c<f.length;c++){var h=f[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,f,c){return f&&s(u.prototype,f),c&&s(u,c),u}}();function o(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function s(u,f){var c=this;o(this,s),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){c.root.style.marginTop=-1*c.quill.root.scrollTop+"px"}),this.hide()}return i(s,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var c=f.left+f.width/2-this.root.offsetWidth/2,h=f.bottom+this.quill.root.scrollTop;this.root.style.left=c+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),d=this.root.getBoundingClientRect(),v=0;if(d.right>p.right&&(v=p.right-d.right,this.root.style.left=c+v+"px"),d.left<p.left&&(v=p.left-d.left,this.root.style.left=c+v+"px"),d.bottom>p.bottom){var g=d.bottom-d.top,y=f.bottom-f.top+g;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),s}();n.default=l},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function E(M,O){var F=[],L=!0,D=!1,_=void 0;try{for(var z=M[Symbol.iterator](),X;!(L=(X=z.next()).done)&&(F.push(X.value),!(O&&F.length===O));L=!0);}catch(V){D=!0,_=V}finally{try{!L&&z.return&&z.return()}finally{if(D)throw _}}return F}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return E(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function E(M,O,F){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,O);if(L===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:E(D,O,F)}else{if("value"in L)return L.value;var _=L.get;return _===void 0?void 0:_.call(F)}},l=function(){function E(M,O){for(var F=0;F<O.length;F++){var L=O[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,F){return O&&E(M.prototype,O),F&&E(M,F),M}}(),s=a(3),u=b(s),f=a(8),c=b(f),h=a(43),p=b(h),d=a(27),v=b(d),g=a(15),y=a(41),m=b(y);function b(E){return E&&E.__esModule?E:{default:E}}function x(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}function w(E,M){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:E}function S(E,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);E.prototype=Object.create(M&&M.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(E,M):E.__proto__=M)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(E){S(M,E);function M(O,F){x(this,M),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=A);var L=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O,F));return L.quill.container.classList.add("ql-snow"),L}return l(M,[{key:"extendToolbar",value:function(F){F.container.classList.add("ql-snow"),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),m.default),this.tooltip=new k(this.quill,this.options.bounds),F.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,D){F.handlers.link.call(F,!D.format.link)})}}]),M}(p.default);I.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){if(M){var O=this.quill.getSelection();if(O==null||O.length==0)return;var F=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(F)&&F.indexOf("mailto:")!==0&&(F="mailto:"+F);var L=this.quill.theme.tooltip;L.edit("link",F)}else this.quill.format("link",!1)}}}}});var k=function(E){S(M,E);function M(O,F){x(this,M);var L=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,O,F));return L.preview=L.root.querySelector("a.ql-preview"),L}return l(M,[{key:"listen",value:function(){var F=this;o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){F.root.classList.contains("ql-editing")?F.save():F.edit("link",F.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(F.linkRange!=null){var D=F.linkRange;F.restoreFocus(),F.quill.formatText(D,"link",!1,c.default.sources.USER),delete F.linkRange}L.preventDefault(),F.hide()}),this.quill.on(c.default.events.SELECTION_CHANGE,function(L,D,_){if(L!=null){if(L.length===0&&_===c.default.sources.USER){var z=F.quill.scroll.descendant(v.default,L.index),X=i(z,2),V=X[0],N=X[1];if(V!=null){F.linkRange=new g.Range(L.index-N,V.length());var P=v.default.formats(V.domNode);F.preview.textContent=P,F.preview.setAttribute("href",P),F.show(),F.position(F.quill.getBounds(F.linkRange));return}}else delete F.linkRange;F.hide()}})}},{key:"show",value:function(){o(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),M}(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=I},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(29),o=it(i),l=a(36),s=a(38),u=a(64),f=a(65),c=it(f),h=a(66),p=it(h),d=a(67),v=it(d),g=a(37),y=a(26),m=a(39),b=a(40),x=a(56),w=it(x),S=a(68),A=it(S),I=a(27),k=it(I),E=a(69),M=it(E),O=a(70),F=it(O),L=a(71),D=it(L),_=a(72),z=it(_),X=a(73),V=it(X),N=a(13),P=it(N),j=a(74),H=it(j),Y=a(75),G=it(Y),R=a(57),W=it(R),U=a(41),K=it(U),tt=a(28),rt=it(tt),vt=a(59),st=it(vt),yt=a(60),Lt=it(yt),Vt=a(61),Ut=it(Vt),et=a(108),nt=it(et),ct=a(62),ht=it(ct);function it(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}o.default.register({"attributors/attribute/direction":s.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":s.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":s.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":s.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":b.SizeClass,"formats/blockquote":c.default,"formats/code-block":P.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":w.default,"formats/code":N.Code,"formats/italic":A.default,"formats/link":k.default,"formats/script":M.default,"formats/strike":F.default,"formats/underline":D.default,"formats/image":z.default,"formats/video":V.default,"formats/list/item":d.ListItem,"modules/formula":H.default,"modules/syntax":G.default,"modules/toolbar":W.default,"themes/bubble":nt.default,"themes/snow":ht.default,"ui/icons":K.default,"ui/picker":rt.default,"ui/icon-picker":Lt.default,"ui/color-picker":st.default,"ui/tooltip":Ut.default},!0),n.default=o.default},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function v(g,y){for(var m=0;m<y.length;m++){var b=y[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,y,m){return y&&v(g.prototype,y),m&&v(g,m),g}}(),o=function v(g,y,m){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,y);if(b===void 0){var x=Object.getPrototypeOf(g);return x===null?void 0:v(x,y,m)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(m)}},l=a(0),s=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function c(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){h(g,v);function g(){return f(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"add",value:function(m,b){if(b==="+1"||b==="-1"){var x=this.value(m)||0;b=b==="+1"?x+1:x-1}return b===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,b)}},{key:"canAdd",value:function(m,b){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,b)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(b))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(s.default.Attributor.Class),d=new p("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=d},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(4),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){f(p,h);function p(){return s(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="blockquote",c.tagName="blockquote",n.default=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(d,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,v,g){return v&&p(d.prototype,v),g&&p(d,g),d}}(),o=a(4),l=s(o);function s(p){return p&&p.__esModule?p:{default:p}}function u(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function f(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:p}function c(p,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}var h=function(p){c(d,p);function d(){return u(this,d),f(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return i(d,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),d}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function x(w,S){for(var A=0;A<S.length;A++){var I=S[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}return function(w,S,A){return S&&x(w.prototype,S),A&&x(w,A),w}}(),o=function x(w,S,A){w===null&&(w=Function.prototype);var I=Object.getOwnPropertyDescriptor(w,S);if(I===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:x(k,S,A)}else{if("value"in I)return I.value;var E=I.get;return E===void 0?void 0:E.call(A)}},l=a(0),s=p(l),u=a(4),f=p(u),c=a(25),h=p(c);function p(x){return x&&x.__esModule?x:{default:x}}function d(x,w,S){return w in x?Object.defineProperty(x,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[w]=S,x}function v(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function g(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function y(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var m=function(x){y(w,x);function w(){return v(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return i(w,[{key:"format",value:function(A,I){A===b.blotName&&!I?this.replaceWith(s.default.create(this.statics.scope)):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,A,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,I){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,I),this):(this.parent.unwrap(),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,A,I))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:o(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,A)}}]),w}(f.default);m.blotName="list-item",m.tagName="LI";var b=function(x){y(w,x),i(w,null,[{key:"create",value:function(A){var I=A==="ordered"?"OL":"UL",k=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,I);return(A==="checked"||A==="unchecked")&&k.setAttribute("data-checked",A==="checked"),k}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(S){v(this,w);var A=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S)),I=function(E){if(E.target.parentNode===S){var M=A.statics.formats(S),O=s.default.find(E.target);M==="checked"?O.format("list","unchecked"):M==="unchecked"&&O.format("list","checked")}};return S.addEventListener("touchstart",I),S.addEventListener("mousedown",I),A}return i(w,[{key:"format",value:function(A,I){this.children.length>0&&this.children.tail.format(A,I)}},{key:"formats",value:function(){return d({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,I){if(A instanceof m)o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,A,I);else{var k=I==null?this.length():I.offset(this),E=this.split(k);E.parent.insertBefore(A,E)}}},{key:"optimize",value:function(A){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,A);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var I=s.default.create(this.statics.defaultChild);A.moveChildren(I),this.appendChild(I)}o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,A)}}]),w}(h.default);b.blotName="list",b.scope=s.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[m],n.ListItem=m,n.default=b},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(56),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){f(p,h);function p(){return s(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="italic",c.tagName=["EM","I"],n.default=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function d(v,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,y){return g&&d(v.prototype,g),y&&d(v,y),v}}(),o=function d(v,g,y){v===null&&(v=Function.prototype);var m=Object.getOwnPropertyDescriptor(v,g);if(m===void 0){var b=Object.getPrototypeOf(v);return b===null?void 0:d(b,g,y)}else{if("value"in m)return m.value;var x=m.get;return x===void 0?void 0:x.call(y)}},l=a(6),s=u(l);function u(d){return d&&d.__esModule?d:{default:d}}function f(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}function c(d,v){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:d}function h(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);d.prototype=Object.create(v&&v.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(d,v):d.__proto__=v)}var p=function(d){h(v,d);function v(){return f(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(s.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){f(p,h);function p(){return s(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="strike",c.tagName="S",n.default=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function f(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){f(p,h);function p(){return s(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);c.blotName="underline",c.tagName="U",n.default=c},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(0),s=f(l),u=a(27);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=["alt","height","width"],v=function(g){p(y,g);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(b,x){d.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return d.reduce(function(x,w){return b.hasAttribute(w)&&(x[w]=b.getAttribute(w)),x},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(s.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,m){for(var b=0;b<m.length;b++){var x=m[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,m,b){return m&&g(y.prototype,m),b&&g(y,b),y}}(),o=function g(y,m,b){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,m);if(x===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:g(w,m,b)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(b)}},l=a(4),s=a(27),u=f(s);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var d=["height","width"],v=function(g){p(y,g);function y(){return c(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(b,x){d.indexOf(b)>-1?x?this.domNode.setAttribute(b,x):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,x)}}],[{key:"create",value:function(b){var x=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(b)),x}},{key:"formats",value:function(b){return d.reduce(function(x,w){return b.hasAttribute(w)&&(x[w]=b.getAttribute(w)),x},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function b(x,w){for(var S=0;S<w.length;S++){var A=w[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(x,A.key,A)}}return function(x,w,S){return w&&b(x.prototype,w),S&&b(x,S),x}}(),o=function b(x,w,S){x===null&&(x=Function.prototype);var A=Object.getOwnPropertyDescriptor(x,w);if(A===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:b(I,w,S)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(S)}},l=a(35),s=p(l),u=a(5),f=p(u),c=a(9),h=p(c);function p(b){return b&&b.__esModule?b:{default:b}}function d(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function v(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function g(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){g(x,b);function x(){return d(this,x),v(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,null,[{key:"create",value:function(S){var A=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",S)),A}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),x}(s.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(b){g(x,b),i(x,null,[{key:"register",value:function(){f.default.register(y,!0)}}]);function x(){d(this,x);var w=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return x}(h.default);n.FormulaBlot=y,n.default=m},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function S(A,I){for(var k=0;k<I.length;k++){var E=I[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,I,k){return I&&S(A.prototype,I),k&&S(A,k),A}}(),o=function S(A,I,k){A===null&&(A=Function.prototype);var E=Object.getOwnPropertyDescriptor(A,I);if(E===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:S(M,I,k)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(k)}},l=a(0),s=v(l),u=a(5),f=v(u),c=a(9),h=v(c),p=a(13),d=v(p);function v(S){return S&&S.__esModule?S:{default:S}}function g(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function y(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function m(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var b=function(S){m(A,S);function A(){return g(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),A}(d.default);b.className="ql-syntax";var x=new s.default.Attributor.Class("token","hljs",{scope:s.default.Scope.INLINE}),w=function(S){m(A,S),i(A,null,[{key:"register",value:function(){f.default.register(x,!0),f.default.register(b,!0)}}]);function A(I,k){g(this,A);var E=y(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,k));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var M=null;return E.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(M),M=setTimeout(function(){E.highlight(),M=null},E.options.interval)}),E.highlight(),E}return i(A,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(M){M.highlight(k.options.highlight)}),this.quill.update(f.default.sources.SILENT),E!=null&&this.quill.setSelection(E,f.default.sources.SILENT)}}}]),A}(h.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var A=window.hljs.highlightAuto(S);return A.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=x,n.default=w},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function A(I,k,E){I===null&&(I=Function.prototype);var M=Object.getOwnPropertyDescriptor(I,k);if(M===void 0){var O=Object.getPrototypeOf(I);return O===null?void 0:A(O,k,E)}else{if("value"in M)return M.value;var F=M.get;return F===void 0?void 0:F.call(E)}},o=function(){function A(I,k){for(var E=0;E<k.length;E++){var M=k[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}return function(I,k,E){return k&&A(I.prototype,k),E&&A(I,E),I}}(),l=a(3),s=g(l),u=a(8),f=g(u),c=a(43),h=g(c),p=a(15),d=a(41),v=g(d);function g(A){return A&&A.__esModule?A:{default:A}}function y(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function m(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:A}function b(A,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);A.prototype=Object.create(I&&I.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(A,I):A.__proto__=I)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(A){b(I,A);function I(k,E){y(this,I),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=x);var M=m(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,E));return M.quill.container.classList.add("ql-bubble"),M}return o(I,[{key:"extendToolbar",value:function(E){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),v.default)}}]),I}(h.default);w.DEFAULTS=(0,s.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(A){b(I,A);function I(k,E){y(this,I);var M=m(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,E));return M.quill.on(f.default.events.EDITOR_CHANGE,function(O,F,L,D){if(O===f.default.events.SELECTION_CHANGE)if(F!=null&&F.length>0&&D===f.default.sources.USER){M.show(),M.root.style.left="0px",M.root.style.width="",M.root.style.width=M.root.offsetWidth+"px";var _=M.quill.getLines(F.index,F.length);if(_.length===1)M.position(M.quill.getBounds(F));else{var z=_[_.length-1],X=M.quill.getIndex(z),V=Math.min(z.length()-1,F.index+F.length-X),N=M.quill.getBounds(new p.Range(X,V));M.position(N)}}else document.activeElement!==M.textbox&&M.quill.hasFocus()&&M.hide()}),M}return o(I,[{key:"listen",value:function(){var E=this;i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var M=E.quill.getSelection();M!=null&&E.position(E.quill.getBounds(M))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var M=i(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,E),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",M===0)return M;O.style.marginLeft=-1*M-O.offsetWidth/2+"px"}}]),I}(c.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=w},function(t,n,a){t.exports=a(63)}]).default})})(I1);var w4=I1.exports,S4=qe&&qe.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i])},e(r,t)};return function(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wu=qe&&qe.__assign||function(){return wu=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wu.apply(this,arguments)},C4=qe&&qe.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),a=0,r=0;r<t;r++)for(var i=arguments[r],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n},oc=qe&&qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$r=oc(window.React),A4=oc(window.ReactDOM),wo=oc(b4),_m=oc(w4),T4=function(e){S4(r,e);function r(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(i,o,l,s){var u,f,c,h;i==="text-change"?(f=(u=n).onEditorChangeText)===null||f===void 0||f.call(u,n.editor.root.innerHTML,o,s,n.unprivilegedEditor):i==="selection-change"&&((h=(c=n).onEditorChangeSelection)===null||h===void 0||h.call(c,o,s,n.unprivilegedEditor))};var a=n.isControlled()?t.value:t.defaultValue;return n.value=a??"",n}return r.prototype.validateProps=function(t){var n;if($r.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if($r.default.Children.count(t.children)){var a=$r.default.Children.only(t.children);if(((n=a)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},r.prototype.shouldComponentUpdate=function(t,n){var a=this,i;if(this.validateProps(t),!this.editor||this.state.generation!==n.generation)return!0;if("value"in t){var o=this.getEditorContents(),l=(i=t.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),C4(this.cleanProps,this.dirtyProps).some(function(s){return!wo.default(t[s],a.props[s])})},r.prototype.shouldComponentRegenerate=function(t){var n=this;return this.dirtyProps.some(function(a){return!wo.default(t[a],n.props[a])})},r.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},r.prototype.componentWillUnmount=function(){this.destroyEditor()},r.prototype.componentDidUpdate=function(t,n){var a=this;if(this.editor&&this.shouldComponentRegenerate(t)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,i=l.delta,s=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(i),Nm(function(){return a.setEditorSelection(u,s)})}},r.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},r.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},r.prototype.isControlled=function(){return"value"in this.props},r.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},r.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},r.prototype.createEditor=function(t,n){var a=new _m.default(t,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a},r.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},r.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},r.prototype.getEditorContents=function(){return this.value},r.prototype.getEditorSelection=function(){return this.selection},r.prototype.isDelta=function(t){return t&&t.ops},r.prototype.isEqualValue=function(t,n){return this.isDelta(t)&&this.isDelta(n)?wo.default(t.ops,n.ops):wo.default(t,n)},r.prototype.setEditorContents=function(t,n){var a=this;this.value=n;var i=this.getEditorSelection();typeof n=="string"?t.setContents(t.clipboard.convert(n)):t.setContents(n),Nm(function(){return a.setEditorSelection(t,i)})},r.prototype.setEditorSelection=function(t,n){if(this.selection=n,n){var a=t.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),t.setSelection(n)}},r.prototype.setEditorTabIndex=function(t,n){var a,i;!((i=(a=t)===null||a===void 0?void 0:a.scroll)===null||i===void 0)&&i.domNode&&(t.scroll.domNode.tabIndex=n)},r.prototype.setEditorReadOnly=function(t,n){n?t.disable():t.enable()},r.prototype.makeUnprivilegedEditor=function(t){var n=t;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},r.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=A4.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},r.prototype.renderEditingArea=function(){var t=this,n=this.props,a=n.children,i=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(s){t.editingArea=s}};return $r.default.Children.count(a)?$r.default.cloneElement($r.default.Children.only(a),l):i?$r.default.createElement("pre",wu({},l)):$r.default.createElement("div",wu({},l))},r.prototype.render=function(){var t;return $r.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},r.prototype.onEditorChangeText=function(t,n,a,i){var o,l;if(this.editor){var s=this.isDelta(this.value)?i.getContents():i.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=s,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,t,n,a,i))}},r.prototype.onEditorChangeSelection=function(t,n,a){var i,o,l,s,u,f;if(this.editor){var c=this.getEditorSelection(),h=!c&&t,p=c&&!t;wo.default(t,c)||(this.selection=t,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,t,n,a),h?(s=(l=this.props).onFocus)===null||s===void 0||s.call(l,t,n,a):p&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,c,n,a)))}},r.prototype.focus=function(){this.editor&&this.editor.focus()},r.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},r.displayName="React Quill",r.Quill=_m.default,r.defaultProps={theme:"snow",modules:{},readOnly:!1},r}($r.default.Component);function Nm(e){Promise.resolve().then(e)}var I4=T4;const E4=Xu(I4),M4="_richTextQuill_1944w_1",O4={richTextQuill:M4},k4=window.antd.Form,F4=window.React.forwardRef,P4=window.React.useContext,$m=window.React.useEffect,L4=window.React.useImperativeHandle,jm=window.React.useState,R4=({id:e,type:r,config:t,onChange:n,onBlur:a},i)=>{const o=P4(oe),[l,s]=jm(!0),[u,f]=jm(!1);$m(()=>{var v;const p=(v=t.props.formItem)==null?void 0:v.name,d=t.props.defaultValue;p&&!ne(d)&&(o==null||o.setFieldValue(p,d))},[t.props.defaultValue]),$m(()=>{f(t.props.formWrap.readOnly||!1)},[t.props.formWrap.readOnly]);const c=p=>{var v;let d=p;p==="<p><br></p>"&&(o==null||o.setFieldValue((v=t.props.formItem)==null?void 0:v.name,""),d=""),n==null||n({[t.props.formItem.name]:d})},h=(p,d,v)=>{var g;v.getHTML(),d==="<p><br></p>"&&(o==null||o.setFieldValue((g=t.props.formItem)==null?void 0:g.name,"")),a==null||a({[t.props.formItem.name]:v.getHTML()})};return L4(i,()=>({show(){s(!0)},hide(){s(!1)},enable(){f(!1)},disable(){f(!0)}})),l&&C.jsx(k4.Item,{...t.props.formItem,"data-id":e,"data-type":r,children:C.jsx(E4,{theme:"snow",className:O4.richTextQuill,...t.props.formWrap,readOnly:u,style:t.style,onChange:c,onBlur:h})})},D4=F4(R4),B4={attrs:[{type:"Title",label:"标签配置",key:"formItem"},{type:"Input",label:"标题",name:["formItem","label"],props:{placeholder:"请输入文本标题"}},{type:"Input",label:"字段",name:["formItem","name"],props:{placeholder:"请输入提交字段"}},{type:"Variable",label:"默认值",name:["defaultValue"],props:{placeholder:"请输入默认值"}},{type:"Input",label:"Extra",name:["formItem","extra"],tooltip:"表单控件下方显示的提示信息",props:{placeholder:"默认提示文案"}},{type:"Input",label:"Tooltip",name:["formItem","tooltip"],tooltip:"表单项后面显示的提示信息",props:{placeholder:"提示信息"}},{type:"Title",label:"表单配置",key:"formWrap"},{type:"Switch",label:"只度",name:["formWrap","readOnly"]},{type:"Input",label:"占位符",name:["formWrap","placeholder"]},{type:"Title",label:"布局",key:"FormLayout"},{type:"InputNumber",label:"标签占位",name:["formItem","labelCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"标签偏移",name:["formItem","labelCol","offset"],props:{placeholder:"偏移数"}},{type:"InputNumber",label:"控件占列",name:["formItem","wrapperCol","span"],props:{placeholder:"占位格数"}},{type:"InputNumber",label:"控件偏移",name:["formItem","wrapperCol","offset"],props:{placeholder:"偏移数"}},{type:"Title",label:"校验规则",key:"rules"},{type:"function",render:e=>C.jsx(ke,{form:e},"rule-list")}],config:{props:{formItem:{label:"富文本",name:"richText"},formWrap:{placeholder:"我是一款低代码平台",readOnly:!1},defaultValue:""},style:{height:"200px"}},events:[{value:"onChange",name:"onChange事件"},{value:"onBlur",name:"onBlur事件"}]},_4=window.React.forwardRef,N4=window.React.useImperativeHandle,$4=window.React.useState,j4=window.antd.Space,z4=({id:e,type:r,config:t,elements:n},a)=>{const i=At(u=>u.addChildElements),[o,l]=$4(!0),[,s]=lr({accept:"MENU_ITEM",drop(u,f){if(f.didDrop())return;const{config:c,events:h,methods:p=[]}=or[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:e,id:u.id,config:c,events:h,methods:p})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return N4(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&C.jsx(j4,{style:t.style,...t.props,"data-id":e,"data-type":r,ref:s,children:n!=null&&n.length?n==null?void 0:n.map(u=>C.jsx(Hd,{item:u},u.id)):C.jsx("div",{className:"slots",style:{width:300,height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},H4=_4(z4),V4={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"Select",label:"对齐方式",name:"align",props:{options:[{label:"起点对齐",value:"start"},{label:"终点对齐",value:"end"},{label:"居中对齐",value:"center"},{label:"基线对齐",value:"baseline"}]}},{type:"Select",label:"间距方向",name:"direction",props:{options:[{label:"垂直",value:"vertical"},{label:"水平",value:"horizontal"}]}},{type:"Select",label:"间距大小",name:["size"],props:{options:[{label:"默认",value:"small"},{label:"中等",value:"middle"},{label:"大号",value:"large"}]}},{type:"Switch",label:"自动换行",name:["wrap"],tooltip:"仅在 horizontal 时有效"}],config:{props:{align:"center",direction:"horizontal",size:"middle",wrap:!1},style:{display:"flex"},events:[],api:{},source:""},events:[]},W4=window.React.forwardRef,G4=window.React.useImperativeHandle,Y4=window.React.useState,q4=window.antd.Row,X4=({id:e,type:r,config:t,elements:n},a)=>{var f;const i=At(c=>c.addChildElements),[o,l]=Y4(!0),[,s]=lr({accept:"MENU_ITEM",drop(c,h){if(h.didDrop())return;const{config:p,events:d,methods:v=[]}=or[c.type+"Config"]||{};i({type:c.type,name:c.name,parentId:e,id:c.id,config:p,events:d,methods:v})},collect:c=>({isOver:c.isOver(),canDrop:c.canDrop()})});G4(a,()=>({show(){l(!0)},hide(){l(!1)}}));const u=((f=t.props)==null?void 0:f.gutter)||0;return o&&C.jsx(q4,{style:t.style,...t.props,gutter:u,"data-id":e,"data-type":r,ref:s,children:n!=null&&n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},U4=W4(X4),K4={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"Select",label:"垂直对齐",name:"align",props:{options:[{label:"顶部对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"底部对齐",value:"bottom"},{label:"拉伸对齐",value:"stretch"}]}},{type:"InputNumber",label:"间隔",name:"gutter",props:{placeholder:"请输入间隔"}},{type:"Select",label:"水平垂直",name:"justify",props:{options:[{label:"起点对齐",value:"start"},{label:"终点对齐",value:"end"},{label:"居中对齐",value:"center"},{label:"环绕对齐",value:"space-around"},{label:"两端对齐",value:"space-between"},{label:"均匀对齐",value:"space-evenly"}]}},{type:"Switch",label:"自动换行",name:["wrap"],tooltip:"仅在 horizontal 时有效"}],config:{props:{align:"top",gutter:0,justify:"start",wrap:!0},style:{},events:[],api:{},source:""},events:[]},Z4=window.React.forwardRef,Q4=window.React.useImperativeHandle,J4=window.React.useState,tz=window.antd.Col,ez=({id:e,type:r,config:t,elements:n},a)=>{const i=At(u=>u.addChildElements),[o,l]=J4(!0),[,s]=lr({accept:"MENU_ITEM",drop(u,f){if(f.didDrop())return;const{config:c,events:h,methods:p=[]}=or[u.type+"Config"]||{};i({type:u.type,name:u.name,parentId:e,id:u.id,config:c,events:h,methods:p})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return Q4(a,()=>({show(){l(!0)},hide(){l(!1)}})),o&&C.jsx(tz,{style:t.style,...t.props,"data-id":e,"data-type":r,ref:s,children:n!=null&&n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},rz=Z4(ez),nz={attrs:[{type:"Title",label:"基础配置",key:"formItem"},{type:"InputNumber",label:"占位格数",name:"span",props:{placeholder:"输入占位格数"}},{type:"InputNumber",label:"偏移格数",name:"offset",props:{placeholder:"左侧偏移格数"}},{type:"InputNumber",label:"左拉格数",name:"pull",props:{placeholder:"左侧偏移格数"}},{type:"InputNumber",label:"右推格数",name:"push",props:{placeholder:"左侧偏移格数"}}],config:{props:{span:8},style:{},events:[],api:{},source:""},events:[]},az=window.antd.Divider,iz=window.React.forwardRef,oz=window.React.useImperativeHandle,lz=window.React.useState,sz=({id:e,type:r,config:t},n)=>{const[a,i]=lz(!0);return oz(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx(az,{style:t.style,...t.props,"data-id":e,"data-type":r,children:t.props.text})},uz=iz(sz),cz={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Switch",label:"显示虚线",name:["dashed"]},{type:"Input",label:"显示文本",name:["text"]},{type:"Switch",label:"普通文本",name:["plain"]},{type:"Select",label:"标题位置",name:["orientation"],props:{options:[{value:"left",label:"左边"},{value:"right",label:"右边"},{value:"center",label:"中间"}]}},{type:"Select",label:"显示类型",name:["type"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}}],config:{props:{text:""},style:{},events:[]},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]};var Op=function(e,r){return Op=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Op(e,r)};function q(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Op(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var T=function(){return T=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},T.apply(this,arguments)};function _t(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}function il(e,r,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(c){o(c)}}function s(f){try{u(n.throw(f))}catch(c){o(c)}}function u(f){f.done?i(f.value):a(f.value).then(l,s)}u((n=n.apply(e,r||[])).next())})}function ol(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return s([u,f])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(e,t)}catch(f){u=[6,f],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ft(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),a,i=[],o;try{for(;(r===void 0||r-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function ll(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),a=0,r=0;r<t;r++)for(var i=arguments[r],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function pt(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}var nr=function(e){return e!==null&&typeof e!="function"&&isFinite(e.length)},Ta=function(e,r){return nr(e)?e.indexOf(r)>-1:!1},Ee=function(e,r){if(!nr(e))return e;for(var t=[],n=0;n<e.length;n++){var a=e[n];r(a,n)&&t.push(a)}return t},fz=function(e,r){return r===void 0&&(r=[]),Ee(e,function(t){return!Ta(r,t)})},hz={}.toString,sa=function(e,r){return hz.call(e)==="[object "+r+"]"};const lt=function(e){return sa(e,"Function")};var Q=function(e){return e==null};const J=function(e){return Array.isArray?Array.isArray(e):sa(e,"Array")},Bt=function(e){var r=typeof e;return e!==null&&r==="object"||r==="function"};function B(e,r){if(e){var t;if(J(e))for(var n=0,a=e.length;n<a&&(t=r(e[n],n),t!==!1);n++);else if(Bt(e)){for(var i in e)if(e.hasOwnProperty(i)&&(t=r(e[i],i),t===!1))break}}}var io=Object.keys?function(e){return Object.keys(e)}:function(e){var r=[];return B(e,function(t,n){lt(e)&&n==="prototype"||r.push(n)}),r};function E1(e,r){var t=io(r),n=t.length;if(Q(e))return!n;for(var a=0;a<n;a+=1){var i=t[a];if(r[i]!==e[i]||!(i in e))return!1}return!0}var kp=function(e){return typeof e=="object"&&e!==null},Ur=function(e){if(!kp(e)||!sa(e,"Object"))return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r};function kr(e,r){if(!J(e))return null;var t;if(lt(r)&&(t=r),Ur(r)&&(t=function(a){return E1(a,r)}),t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return e[n]}return null}function M1(e,r,t){t===void 0&&(t=0);for(var n=t;n<e.length;n++)if(r(e[n],n))return n;return-1}var pz=function(e,r){for(var t=null,n=0;n<e.length;n++){var a=e[n],i=a[r];if(!Q(i)){J(i)?t=i[0]:t=i;break}}return t},ar=function(e){if(!J(e))return[];for(var r=[],t=0;t<e.length;t++)r=r.concat(e[t]);return r};const ir=function(e){if(J(e))return e.reduce(function(r,t){return Math.max(r,t)},e[0])},br=function(e){if(J(e))return e.reduce(function(r,t){return Math.min(r,t)},e[0])};var O1=function(e){var r=e.filter(function(o){return!isNaN(o)});if(!r.length)return{min:0,max:0};if(J(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);r=t}var a=ir(r),i=br(r);return{min:i,max:a}},dz=Array.prototype.splice,vz=function(r,t){if(!nr(r))return[];for(var n=r?t.length:0,a=n-1;n--;){var i=void 0,o=t[n];(n===a||o!==i)&&(i=o,dz.call(r,o,1))}return r},Le=function(e,r,t){if(!J(e)&&!Ur(e))return e;var n=t;return B(e,function(a,i){n=r(n,a,i)}),n},gz=function(e,r){var t=[];if(!nr(e))return t;for(var n=-1,a=[],i=e.length;++n<i;){var o=e[n];r(o,n,e)&&(t.push(o),a.push(n))}return vz(e,a),t};const dt=function(e){return sa(e,"String")};function yz(e,r){var t;if(lt(r))t=function(a,i){return r(a)-r(i)};else{var n=[];dt(r)?n.push(r):J(r)&&(n=r),t=function(a,i){for(var o=0;o<n.length;o+=1){var l=n[o];if(a[l]>i[l])return 1;if(a[l]<i[l])return-1}return 0}}return e.sort(t),e}function Ya(e,r){r===void 0&&(r=new Map);var t=[];if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++){var i=e[n];r.has(i)||(t.push(i),r.set(i,!0))}return t}const Lr=function(e,r){for(var t=[],n={},a=0;a<e.length;a++){var i=e[a],o=i[r];if(!Q(o)){J(o)||(o=[o]);for(var l=0;l<o.length;l++){var s=o[l];n[s]||(t.push(s),n[s]=!0)}}}return t};function tr(e){if(nr(e))return e[0]}function he(e){if(nr(e)){var r=e;return r[r.length-1]}}var qd=function(e,r){for(var t=0;t<e.length;t++)if(!r(e[t],t))return!1;return!0},lc=function(e,r){for(var t=0;t<e.length;t++)if(r(e[t],t))return!0;return!1},mz=Object.prototype.hasOwnProperty;function er(e,r){if(!r||!J(e))return{};for(var t={},n=lt(r)?r:function(l){return l[r]},a,i=0;i<e.length;i++){var o=e[i];a=n(o),mz.call(t,a)?t[a].push(o):t[a]=[o]}return t}function k1(e,r){if(!r)return{0:e};if(!lt(r)){var t=J(r)?r:r.replace(/\s+/g,"").split("*");r=function(n){for(var a="_",i=0,o=t.length;i<o;i++)a+=n[t[i]]&&n[t[i]].toString();return a}}return er(e,r)}const xz=function(e,r){if(!r)return[e];var t=k1(e,r),n=[];for(var a in t)n.push(t[a]);return n};var Wt=function(e,r,t){return e<r?r:e>t?t:e},Uf=function(e,r){var t=r.toString(),n=t.indexOf(".");if(n===-1)return Math.round(e);var a=t.substr(n+1).length;return a>20&&(a=20),parseFloat(e.toFixed(a))},mt=function(e){return sa(e,"Number")},bz=1e-5;function Ae(e,r,t){return t===void 0&&(t=bz),Math.abs(e-r)<t}const F1=function(e,r){if(J(e)){for(var t,n=-1/0,a=0;a<e.length;a++){var i=e[a],o=lt(r)?r(i):i[r];o>n&&(t=i,n=o)}return t}},wz=function(e,r){if(J(e)){for(var t,n=1/0,a=0;a<e.length;a++){var i=e[a],o=lt(r)?r(i):i[r];o<n&&(t=i,n=o)}return t}};var Xd=function(e,r){return(e%r+r)%r},Sz=Math.PI/180,Ud=function(e){return Sz*e};const Qn=function(e,r){return e.hasOwnProperty(r)};var sc=Object.values?function(e){return Object.values(e)}:function(e){var r=[];return B(e,function(t,n){lt(e)&&n==="prototype"||r.push(t)}),r};const Bl=function(e){return Q(e)?"":e.toString()};var oo=function(e){return Bl(e).toLowerCase()};function P1(e,r){return!e||!r?e:e.replace(/\\?\{([^{}]+)\}/g,function(t,n){return t.charAt(0)==="\\"?t.slice(1):r[n]===void 0?"":r[n]})}var ei=function(e){var r=Bl(e);return r.charAt(0).toUpperCase()+r.substring(1)},Cz={}.toString,Az=function(e){return Cz.call(e).replace(/^\[object /,"").replace(/]$/,"")},Ni=function(e){return sa(e,"Boolean")},L1=function(e){return sa(e,"Date")},Tz=function(e){return e===null},Iz=Object.prototype,Ez=function(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Iz;return e===t},Ea=function(e){return e===void 0},R1=function(e){return e instanceof Element||e instanceof HTMLDocument};function Mz(e){var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return r(e)}function Oz(e){var r=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;r(e)}function Kf(e,r){for(var t in r)r.hasOwnProperty(t)&&t!=="constructor"&&r[t]!==void 0&&(e[t]=r[t])}function Nt(e,r,t,n){return r&&Kf(e,r),t&&Kf(e,t),n&&Kf(e,n),e}var _e=function(e){if(typeof e!="object"||e===null)return e;var r;if(J(e)){r=[];for(var t=0,n=e.length;t<n;t++)typeof e[t]=="object"&&e[t]!=null?r[t]=_e(e[t]):r[t]=e[t]}else{r={};for(var a in e)typeof e[a]=="object"&&e[a]!=null?r[a]=_e(e[a]):r[a]=e[a]}return r};function D1(e,r,t){var n;return function(){var a=this,i=arguments,o=function(){n=null,t||e.apply(a,i)},l=t&&!n;clearTimeout(n),n=setTimeout(o,r),l&&e.apply(a,i)}}const lo=function(e,r){if(!lt(e))throw new TypeError("Expected a function");var t=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return o.set(i,l),l};return t.cache=new Map,t};var kz=5;function B1(e,r,t,n){t=t||0,n=n||kz;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i!==null&&Ur(i)?(Ur(e[a])||(e[a]={}),t<n?B1(e[a],i,t+1,n):e[a]=r[a]):J(i)?(e[a]=[],e[a]=e[a].concat(i)):i!==void 0&&(e[a]=i)}}var ot=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)B1(e,r[n]);return e},_1=function(e,r){if(!nr(e))return-1;var t=Array.prototype.indexOf;if(t)return t.call(e,r);for(var n=-1,a=0;a<e.length;a++)if(e[a]===r){n=a;break}return n},Fz=Object.prototype.hasOwnProperty;function Ue(e){if(Q(e))return!0;if(nr(e))return!e.length;var r=Az(e);if(r==="Map"||r==="Set")return!e.size;if(Ez(e))return!Object.keys(e).length;for(var t in e)if(Fz.call(e,t))return!1;return!0}var Jt=function(e,r){if(e===r)return!0;if(!e||!r||dt(e)||dt(r))return!1;if(nr(e)||nr(r)){if(e.length!==r.length)return!1;for(var t=!0,n=0;n<e.length&&(t=Jt(e[n],r[n]),!!t);n++);return t}if(kp(e)||kp(r)){var a=Object.keys(e),i=Object.keys(r);if(a.length!==i.length)return!1;for(var t=!0,n=0;n<a.length&&(t=Jt(e[a[n]],r[a[n]]),!!t);n++);return t}return!1},Gt=function(e,r){if(!nr(e))return e;for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push(r(a,n))}return t},Pz=function(e){return e};const Lz=function(e,r){r===void 0&&(r=Pz);var t={};return Bt(e)&&!Q(e)&&Object.keys(e).forEach(function(n){t[n]=r(e[n],n)}),t},$=function(e,r,t){for(var n=0,a=dt(r)?r.split("."):r;e&&n<a.length;)e=e[a[n++]];return e===void 0||n<a.length?t:e},se=function(e,r,t){var n=e,a=dt(r)?r.split("."):r;return a.forEach(function(i,o){o<a.length-1?(Bt(n[i])||(n[i]=mt(a[o+1])?[]:{}),n=n[i]):n[i]=t}),e};var Rz=Object.prototype.hasOwnProperty;const Kd=function(e,r){if(e===null||!Ur(e))return{};var t={};return B(r,function(n){Rz.call(e,n)&&(t[n]=e[n])}),t},uc=function(e,r){return Le(e,function(t,n,a){return r.includes(a)||(t[a]=n),t},{})},Zd=function(e,r,t){var n,a,i,o,l=0;t||(t={});var s=function(){l=t.leading===!1?0:Date.now(),n=null,o=e.apply(a,i),n||(a=i=null)},u=function(){var f=Date.now();!l&&t.leading===!1&&(l=f);var c=r-(f-l);return a=this,i=arguments,c<=0||c>r?(n&&(clearTimeout(n),n=null),l=f,o=e.apply(a,i),n||(a=i=null)):!n&&t.trailing!==!1&&(n=setTimeout(s,c)),o};return u.cancel=function(){clearTimeout(n),l=0,n=a=i=null},u},Dz=function(e){return nr(e)?Array.prototype.slice.call(e):[]};var hs={};const ua=function(e){return e=e||"g",hs[e]?hs[e]+=1:hs[e]=1,e+hs[e]},Hn=function(){};function me(e){return Q(e)?0:nr(e)?e.length:Object.keys(e).length}var ps;const ds=lo(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,a=r.fontWeight,i=r.fontStyle,o=r.fontVariant;return ps||(ps=document.createElement("canvas").getContext("2d")),ps.font=[i,o,a,t+"px",n].join(" "),ps.measureText(dt(e)?e:"").width},function(e,r){return r===void 0&&(r={}),ll([e],sc(r)).join("")}),Bz=function(e,r,t,n){n===void 0&&(n="...");var a=16,i=ds(n,t),o=dt(e)?e:Bl(e),l=r,s=[],u,f;if(ds(e,t)<=r)return e;for(;u=o.substr(0,a),f=ds(u,t),!(f+i>l&&f>l);)if(s.push(u),l-=f,o=o.substr(a),!o)return s.join("");for(;u=o.substr(0,1),f=ds(u,t),!(f+i>l);)if(s.push(u),l-=f,o=o.substr(1),!o)return s.join("");return""+s.join("")+n};var _z=function(){function e(){this.map={}}return e.prototype.has=function(r){return this.map[r]!==void 0},e.prototype.get=function(r,t){var n=this.map[r];return n===void 0?t:n},e.prototype.set=function(r,t){this.map[r]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(r){delete this.map[r]},e.prototype.size=function(){return Object.keys(this.map).length},e}(),re;(function(e){e.FORE="fore",e.MID="mid",e.BG="bg"})(re||(re={}));var at;(function(e){e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none"})(at||(at={}));var ye;(function(e){e.AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other"})(ye||(ye={}));var Ei={FORE:3,MID:2,BG:1},wt;(function(e){e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize"})(wt||(wt={}));var Gn;(function(e){e.BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel"})(Gn||(Gn={}));var ze;(function(e){e.MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter"})(ze||(ze={}));var Su;(function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default"})(Su||(Su={}));var bi=["color","shape","size"],zt="_origin",zm=1,Hm=1,Vm=.25,N1={};function Nz(e){var r=N1[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}function $1(e,r){N1[e]=r}function fi(e,r,t){if(e){if(typeof e.addEventListener=="function")return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if(typeof e.attachEvent=="function")return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var Ro,Zf,j1,Fp;function $z(){Ro=document.createElement("table"),Zf=document.createElement("tr"),j1=/^\s*<(\w+|!)[^>]*>/,Fp={tr:document.createElement("tbody"),tbody:Ro,thead:Ro,tfoot:Ro,td:Zf,th:Zf,"*":document.createElement("div")}}function Yn(e){Ro||$z();var r=j1.test(e)&&RegExp.$1;(!r||!(r in Fp))&&(r="*");var t=Fp[r];e=typeof e=="string"?e.replace(/(^\s*)|(\s*$)/g,""):e,t.innerHTML=""+e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function Ge(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch{}finally{n=n===void 0?t:n}return n}function jz(e,r){var t=Ge(e,"height",r);return t==="auto"&&(t=e.offsetHeight),parseFloat(t)}function zz(e,r){var t=jz(e,r),n=parseFloat(Ge(e,"borderTopWidth"))||0,a=parseFloat(Ge(e,"paddingTop"))||0,i=parseFloat(Ge(e,"paddingBottom"))||0,o=parseFloat(Ge(e,"borderBottomWidth"))||0,l=parseFloat(Ge(e,"marginTop"))||0,s=parseFloat(Ge(e,"marginBottom"))||0;return t+n+o+a+i+l+s}function Hz(e,r){var t=Ge(e,"width",r);return t==="auto"&&(t=e.offsetWidth),parseFloat(t)}function Vz(e,r){var t=Hz(e,r),n=parseFloat(Ge(e,"borderLeftWidth"))||0,a=parseFloat(Ge(e,"paddingLeft"))||0,i=parseFloat(Ge(e,"paddingRight"))||0,o=parseFloat(Ge(e,"borderRightWidth"))||0,l=parseFloat(Ge(e,"marginRight"))||0,s=parseFloat(Ge(e,"marginLeft"))||0;return t+n+o+a+i+s+l}function Pe(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}function Wz(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Wm(e){return typeof e=="number"&&!isNaN(e)}function Gm(e,r,t,n){var a=t,i=n;if(r){var o=Wz(e);a=o.width?o.width:a,i=o.height?o.height:i}return{width:Math.max(Wm(a)?a:zm,zm),height:Math.max(Wm(i)?i:Hm,Hm)}}function Gz(e){var r=e.parentNode;r&&r.removeChild(e)}var Yz="*",Qd=function(){function e(){this._events={}}return e.prototype.on=function(r,t,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:t,once:!!n}),this},e.prototype.once=function(r,t){return this.on(r,t,!0)},e.prototype.emit=function(r){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[r]||[],o=this._events[Yz]||[],l=function(s){for(var u=s.length,f=0;f<u;f++)if(s[f]){var c=s[f],h=c.callback,p=c.once;p&&(s.splice(f,1),s.length===0&&delete t._events[r],u--,f--),h.apply(t,n)}};l(i),l(o)},e.prototype.off=function(r,t){if(!r)this._events={};else if(!t)delete this._events[r];else{for(var n=this._events[r]||[],a=n.length,i=0;i<a;i++)n[i].callback===t&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[r]}return this},e.prototype.getEvents=function(){return this._events},e}(),Jd=function(e){q(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var a=t.visible,i=a===void 0?!0:a;return n.visible=i,n}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Qd),Yo=`	
\v\f\r   ᠎             　\u2028\u2029`,qz=new RegExp("([a-z])["+Yo+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Yo+"]*,?["+Yo+"]*)+)","ig"),Xz=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Yo+"]*,?["+Yo+"]*","ig"),wi=function(e){if(!e)return null;if(J(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(qz,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace(Xz,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=r[l]&&(t.push([a].concat(o.splice(0,r[l]))),!!r[l]););return e}),t},Pp=function(e,r){for(var t=[],n=0,a=e.length;a-2*!r>n;n+=2){var i=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];r?n?a-4===n?i[3]={x:+e[0],y:+e[1]}:a-2===n&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[a-2],y:+e[a-1]}:a-4===n?i[3]=i[2]:n||(i[0]={x:+e[n],y:+e[n+1]}),t.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return t},vs=function(e,r,t,n,a){var i=[];if(a===null&&n===null&&(n=t),e=+e,r=+r,t=+t,n=+n,a!==null){var o=Math.PI/180,l=e+t*Math.cos(-n*o),s=e+t*Math.cos(-a*o),u=r+t*Math.sin(-n*o),f=r+t*Math.sin(-a*o);i=[["M",l,u],["A",t,t,0,+(a-n>180),0,s,f]]}else i=[["M",e,r],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return i},Lp=function(e){if(e=wi(e),!e||!e.length)return[["M",0,0]];var r=[],t=0,n=0,a=0,i=0,o=0,l,s;e[0][0]==="M"&&(t=+e[0][1],n=+e[0][2],a=t,i=n,o++,r[0]=["M",t,n]);for(var u=e.length===3&&e[0][0]==="M"&&e[1][0].toUpperCase()==="R"&&e[2][0].toUpperCase()==="Z",f=void 0,c=void 0,h=o,p=e.length;h<p;h++){if(r.push(f=[]),c=e[h],l=c[0],l!==l.toUpperCase())switch(f[0]=l.toUpperCase(),f[0]){case"A":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+c[6]+t,f[7]=+c[7]+n;break;case"V":f[1]=+c[1]+n;break;case"H":f[1]=+c[1]+t;break;case"R":s=[t,n].concat(c.slice(1));for(var d=2,v=s.length;d<v;d++)s[d]=+s[d]+t,s[++d]=+s[d]+n;r.pop(),r=r.concat(Pp(s,u));break;case"O":r.pop(),s=vs(t,n,c[1],c[2]),s.push(s[0]),r=r.concat(s);break;case"U":r.pop(),r=r.concat(vs(t,n,c[1],c[2],c[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+c[1]+t,i=+c[2]+n;break;default:for(var d=1,v=c.length;d<v;d++)f[d]=+c[d]+(d%2?t:n)}else if(l==="R")s=[t,n].concat(c.slice(1)),r.pop(),r=r.concat(Pp(s,u)),f=["R"].concat(c.slice(-2));else if(l==="O")r.pop(),s=vs(t,n,c[1],c[2]),s.push(s[0]),r=r.concat(s);else if(l==="U")r.pop(),r=r.concat(vs(t,n,c[1],c[2],c[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,y=c.length;g<y;g++)f[g]=c[g];if(l=l.toUpperCase(),l!=="O")switch(f[0]){case"Z":t=+a,n=+i;break;case"H":t=f[1];break;case"V":n=f[1];break;case"M":a=f[f.length-2],i=f[f.length-1];break;default:t=f[f.length-2],n=f[f.length-1]}}return r},gs=function(e,r,t,n){return[e,r,t,n,t,n]},Ym=function(e,r,t,n,a,i){var o=.3333333333333333,l=2/3;return[o*e+l*t,o*r+l*n,o*a+l*t,o*i+l*n,a,i]},z1=function(e,r,t,n,a,i,o,l,s,u){t===n&&(t+=1);var f=Math.PI*120/180,c=Math.PI/180*(+a||0),h=[],p,d,v,g,y,m=function(W,U,K){var tt=W*Math.cos(K)-U*Math.sin(K),rt=W*Math.sin(K)+U*Math.cos(K);return{x:tt,y:rt}};if(u)d=u[0],v=u[1],g=u[2],y=u[3];else{p=m(e,r,-c),e=p.x,r=p.y,p=m(l,s,-c),l=p.x,s=p.y,e===l&&r===s&&(l+=1,s+=1);var b=(e-l)/2,x=(r-s)/2,w=b*b/(t*t)+x*x/(n*n);w>1&&(w=Math.sqrt(w),t=w*t,n=w*n);var S=t*t,A=n*n,I=(i===o?-1:1)*Math.sqrt(Math.abs((S*A-S*x*x-A*b*b)/(S*x*x+A*b*b)));g=I*t*x/n+(e+l)/2,y=I*-n*b/t+(r+s)/2,d=Math.asin(((r-y)/n).toFixed(9)),v=Math.asin(((s-y)/n).toFixed(9)),d=e<g?Math.PI-d:d,v=l<g?Math.PI-v:v,d<0&&(d=Math.PI*2+d),v<0&&(v=Math.PI*2+v),o&&d>v&&(d=d-Math.PI*2),!o&&v>d&&(v=v-Math.PI*2)}var k=v-d;if(Math.abs(k)>f){var E=v,M=l,O=s;v=d+f*(o&&v>d?1:-1),l=g+t*Math.cos(v),s=y+n*Math.sin(v),h=z1(l,s,t,n,a,0,o,M,O,[v,E,g,y])}k=v-d;var F=Math.cos(d),L=Math.sin(d),D=Math.cos(v),_=Math.sin(v),z=Math.tan(k/4),X=4/3*t*z,V=4/3*n*z,N=[e,r],P=[e+X*L,r-V*F],j=[l+X*_,s-V*D],H=[l,s];if(P[0]=2*N[0]-P[0],P[1]=2*N[1]-P[1],u)return[P,j,H].concat(h);h=[P,j,H].concat(h).join().split(",");for(var Y=[],G=0,R=h.length;G<R;G++)Y[G]=G%2?m(h[G-1],h[G],c).y:m(h[G],h[G+1],c).x;return Y},Rp=function(e,r){var t=Lp(e),n=r&&Lp(r),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],l=[],s="",u="",f,c=function(b,x,w){var S,A;if(!b)return["C",x.x,x.y,x.x,x.y,x.x,x.y];switch(!(b[0]in{T:1,Q:1})&&(x.qx=x.qy=null),b[0]){case"M":x.X=b[1],x.Y=b[2];break;case"A":b=["C"].concat(z1.apply(0,[x.x,x.y].concat(b.slice(1))));break;case"S":w==="C"||w==="S"?(S=x.x*2-x.bx,A=x.y*2-x.by):(S=x.x,A=x.y),b=["C",S,A].concat(b.slice(1));break;case"T":w==="Q"||w==="T"?(x.qx=x.x*2-x.qx,x.qy=x.y*2-x.qy):(x.qx=x.x,x.qy=x.y),b=["C"].concat(Ym(x.x,x.y,x.qx,x.qy,b[1],b[2]));break;case"Q":x.qx=b[1],x.qy=b[2],b=["C"].concat(Ym(x.x,x.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(gs(x.x,x.y,b[1],b[2]));break;case"H":b=["C"].concat(gs(x.x,x.y,b[1],x.y));break;case"V":b=["C"].concat(gs(x.x,x.y,x.x,b[1]));break;case"Z":b=["C"].concat(gs(x.x,x.y,x.X,x.Y));break}return b},h=function(b,x){if(b[x].length>7){b[x].shift();for(var w=b[x];w.length;)o[x]="A",n&&(l[x]="A"),b.splice(x++,0,["C"].concat(w.splice(0,6)));b.splice(x,1),f=Math.max(t.length,n&&n.length||0)}},p=function(b,x,w,S,A){b&&x&&b[A][0]==="M"&&x[A][0]!=="M"&&(x.splice(A,0,["M",S.x,S.y]),w.bx=0,w.by=0,w.x=b[A][1],w.y=b[A][2],f=Math.max(t.length,n&&n.length||0))};f=Math.max(t.length,n&&n.length||0);for(var d=0;d<f;d++){t[d]&&(s=t[d][0]),s!=="C"&&(o[d]=s,d&&(u=o[d-1])),t[d]=c(t[d],a,u),o[d]!=="A"&&s==="C"&&(o[d]="C"),h(t,d),n&&(n[d]&&(s=n[d][0]),s!=="C"&&(l[d]=s,d&&(u=l[d-1])),n[d]=c(n[d],i,u),l[d]!=="A"&&s==="C"&&(l[d]="C"),h(n,d)),p(t,n,a,i,d),p(n,t,i,a,d);var v=t[d],g=n&&n[d],y=v.length,m=n&&g.length;a.x=v[y-2],a.y=v[y-1],a.bx=parseFloat(v[y-4])||a.x,a.by=parseFloat(v[y-3])||a.y,i.bx=n&&(parseFloat(g[m-4])||i.x),i.by=n&&(parseFloat(g[m-3])||i.y),i.x=n&&g[m-2],i.y=n&&g[m-1]}return n?[t,n]:t},Uz=/,?([a-z]),?/gi,H1=function(e){return e.join(",").replace(Uz,"$1")},qm=function(e,r,t,n,a){var i=-3*r+9*t-9*n+3*a,o=e*i+6*r-12*t+6*n;return e*o-3*r+3*t},Xm=function(e,r,t,n,a,i,o,l,s){s===null&&(s=1),s=s>1?1:s<0?0:s;for(var u=s/2,f=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<f;d++){var v=u*c[d]+u,g=qm(v,e,t,a,o),y=qm(v,r,n,i,l),m=g*g+y*y;p+=h[d]*Math.sqrt(m)}return u*p},Kz=function(e,r,t,n,a,i,o,l){for(var s=[],u=[[],[]],f,c,h,p,d=0;d<2;++d){if(d===0?(c=6*e-12*t+6*a,f=-3*e+9*t-9*a+3*o,h=3*t-3*e):(c=6*r-12*n+6*i,f=-3*r+9*n-9*i+3*l,h=3*n-3*r),Math.abs(f)<1e-12){if(Math.abs(c)<1e-12)continue;p=-h/c,p>0&&p<1&&s.push(p);continue}var v=c*c-4*h*f,g=Math.sqrt(v);if(!(v<0)){var y=(-c+g)/(2*f);y>0&&y<1&&s.push(y);var m=(-c-g)/(2*f);m>0&&m<1&&s.push(m)}}for(var b=s.length,x=b,w;b--;)p=s[b],w=1-p,u[0][b]=w*w*w*e+3*w*w*p*t+3*w*p*p*a+p*p*p*o,u[1][b]=w*w*w*r+3*w*w*p*n+3*w*p*p*i+p*p*p*l;return u[0][x]=e,u[1][x]=r,u[0][x+1]=o,u[1][x+1]=l,u[0].length=u[1].length=x+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},Zz=function(e,r,t,n,a,i,o,l){if(!(Math.max(e,t)<Math.min(a,o)||Math.min(e,t)>Math.max(a,o)||Math.max(r,n)<Math.min(i,l)||Math.min(r,n)>Math.max(i,l))){var s=(e*n-r*t)*(a-o)-(e-t)*(a*l-i*o),u=(e*n-r*t)*(i-l)-(r-n)*(a*l-i*o),f=(e-t)*(i-l)-(r-n)*(a-o);if(f){var c=s/f,h=u/f,p=+c.toFixed(2),d=+h.toFixed(2);if(!(p<+Math.min(e,t).toFixed(2)||p>+Math.max(e,t).toFixed(2)||p<+Math.min(a,o).toFixed(2)||p>+Math.max(a,o).toFixed(2)||d<+Math.min(r,n).toFixed(2)||d>+Math.max(r,n).toFixed(2)||d<+Math.min(i,l).toFixed(2)||d>+Math.max(i,l).toFixed(2)))return{x:c,y:h}}}},En=function(e,r,t){return r>=e.x&&r<=e.x+e.width&&t>=e.y&&t<=e.y+e.height},V1=function(e,r,t,n,a){if(a)return[["M",+e+ +a,r],["l",t-a*2,0],["a",a,a,0,0,1,a,a],["l",0,n-a*2],["a",a,a,0,0,1,-a,a],["l",a*2-t,0],["a",a,a,0,0,1,-a,-a],["l",0,a*2-n],["a",a,a,0,0,1,a,-a],["z"]];var i=[["M",e,r],["l",t,0],["l",0,n],["l",-t,0],["z"]];return i.parsePathArray=H1,i},Dp=function(e,r,t,n){return e===null&&(e=r=t=n=0),r===null&&(r=e.y,t=e.width,n=e.height,e=e.x),{x:e,y:r,width:t,w:t,height:n,h:n,x2:e+t,y2:r+n,cx:e+t/2,cy:r+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:V1(e,r,t,n),vb:[e,r,t,n].join(" ")}},Qz=function(e,r){return e=Dp(e),r=Dp(r),En(r,e.x,e.y)||En(r,e.x2,e.y)||En(r,e.x,e.y2)||En(r,e.x2,e.y2)||En(e,r.x,r.y)||En(e,r.x2,r.y)||En(e,r.x,r.y2)||En(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},Um=function(e,r,t,n,a,i,o,l){J(e)||(e=[e,r,t,n,a,i,o,l]);var s=Kz.apply(null,e);return Dp(s.min.x,s.min.y,s.max.x-s.min.x,s.max.y-s.min.y)},Km=function(e,r,t,n,a,i,o,l,s){var u=1-s,f=Math.pow(u,3),c=Math.pow(u,2),h=s*s,p=h*s,d=f*e+c*3*s*t+u*3*s*s*a+p*o,v=f*r+c*3*s*n+u*3*s*s*i+p*l,g=e+2*s*(t-e)+h*(a-2*t+e),y=r+2*s*(n-r)+h*(i-2*n+r),m=t+2*s*(a-t)+h*(o-2*a+t),b=n+2*s*(i-n)+h*(l-2*i+n),x=u*e+s*t,w=u*r+s*n,S=u*a+s*o,A=u*i+s*l,I=90-Math.atan2(g-m,y-b)*180/Math.PI;return{x:d,y:v,m:{x:g,y},n:{x:m,y:b},start:{x,y:w},end:{x:S,y:A},alpha:I}},Jz=function(e,r,t){var n=Um(e),a=Um(r);if(!Qz(n,a))return t?0:[];for(var i=Xm.apply(0,e),o=Xm.apply(0,r),l=~~(i/8),s=~~(o/8),u=[],f=[],c={},h=t?0:[],p=0;p<l+1;p++){var d=Km.apply(0,e.concat(p/l));u.push({x:d.x,y:d.y,t:p/l})}for(var p=0;p<s+1;p++){var d=Km.apply(0,r.concat(p/s));f.push({x:d.x,y:d.y,t:p/s})}for(var p=0;p<l;p++)for(var v=0;v<s;v++){var g=u[p],y=u[p+1],m=f[v],b=f[v+1],x=Math.abs(y.x-g.x)<.001?"y":"x",w=Math.abs(b.x-m.x)<.001?"y":"x",S=Zz(g.x,g.y,y.x,y.y,m.x,m.y,b.x,b.y);if(S){if(c[S.x.toFixed(4)]===S.y.toFixed(4))continue;c[S.x.toFixed(4)]=S.y.toFixed(4);var A=g.t+Math.abs((S[x]-g[x])/(y[x]-g[x]))*(y.t-g.t),I=m.t+Math.abs((S[w]-m[w])/(b[w]-m[w]))*(b.t-m.t);A>=0&&A<=1&&I>=0&&I<=1&&(t?h+=1:h.push({x:S.x,y:S.y,t1:A,t2:I}))}}return h},tH=function(e,r,t){e=Rp(e),r=Rp(r);for(var n,a,i,o,l,s,u,f,c,h,p=t?0:[],d=0,v=e.length;d<v;d++){var g=e[d];if(g[0]==="M")n=l=g[1],a=s=g[2];else{g[0]==="C"?(c=[n,a].concat(g.slice(1)),n=c[6],a=c[7]):(c=[n,a,n,a,l,s,l,s],n=l,a=s);for(var y=0,m=r.length;y<m;y++){var b=r[y];if(b[0]==="M")i=u=b[1],o=f=b[2];else{b[0]==="C"?(h=[i,o].concat(b.slice(1)),i=h[6],o=h[7]):(h=[i,o,i,o,u,f,u,f],i=u,o=f);var x=Jz(c,h,t);if(t)p+=x;else{for(var w=0,S=x.length;w<S;w++)x[w].segment1=d,x[w].segment2=y,x[w].bez1=c,x[w].bez2=h;p=p.concat(x)}}}}}return p},eH=function(e,r){return tH(e,r)};function rH(e,r){var t=[],n=[];function a(i,o){if(i.length===1)t.push(i[0]),n.push(i[0]);else{for(var l=[],s=0;s<i.length-1;s++)s===0&&t.push(i[0]),s===i.length-2&&n.push(i[s+1]),l[s]=[(1-o)*i[s][0]+o*i[s+1][0],(1-o)*i[s][1]+o*i[s+1][1]];a(l,o)}}return e.length&&a(e,r),{left:t,right:n.reverse()}}function nH(e,r,t){var n=[[e[1],e[2]]];t=t||2;var a=[];r[0]==="A"?(n.push(r[6]),n.push(r[7])):r[0]==="C"?(n.push([r[1],r[2]]),n.push([r[3],r[4]]),n.push([r[5],r[6]])):r[0]==="S"||r[0]==="Q"?(n.push([r[1],r[2]]),n.push([r[3],r[4]])):n.push([r[1],r[2]]);for(var i=n,o=1/t,l=0;l<t-1;l++){var s=o/(1-o*l),u=rH(i,s);a.push(u.left),i=u.right}a.push(i);var f=a.map(function(c){var h=[];return c.length===4&&(h.push("C"),h=h.concat(c[2])),c.length>=3&&(c.length===3&&h.push("Q"),h=h.concat(c[1])),c.length===2&&h.push("L"),h=h.concat(c[c.length-1]),h});return f}var aH=function(e,r,t){if(t===1)return[[].concat(e)];var n=[];if(r[0]==="L"||r[0]==="C"||r[0]==="Q")n=n.concat(nH(e,r,t));else{var a=[].concat(e);a[0]==="M"&&(a[0]="L");for(var i=0;i<=t-1;i++)n.push(a)}return n},iH=function(e,r){if(e.length===1)return e;var t=e.length-1,n=r.length-1,a=t/n,i=[];if(e.length===1&&e[0][0]==="M"){for(var o=0;o<n-t;o++)e.push(e[0]);return e}for(var o=0;o<n;o++){var l=Math.floor(a*o);i[l]=(i[l]||0)+1}var s=i.reduce(function(u,f,c){return c===t?u.concat(e[t]):u.concat(aH(e[c],e[c+1],f))},[]);return s.unshift(e[0]),(r[n]==="Z"||r[n]==="z")&&s.push("Z"),s},oH=function(e,r){if(e.length!==r.length)return!1;var t=!0;return B(e,function(n,a){if(n!==r[a])return t=!1,!1}),t};function lH(e,r,t){var n=null,a=t;return r<a&&(a=r,n="add"),e<a&&(a=e,n="del"),{type:n,min:a}}var sH=function(e,r){var t=e.length,n=r.length,a,i,o=0;if(t===0||n===0)return null;for(var l=[],s=0;s<=t;s++)l[s]=[],l[s][0]={min:s};for(var u=0;u<=n;u++)l[0][u]={min:u};for(var s=1;s<=t;s++){a=e[s-1];for(var u=1;u<=n;u++){i=r[u-1],oH(a,i)?o=0:o=1;var f=l[s-1][u].min+1,c=l[s][u-1].min+1,h=l[s-1][u-1].min+o;l[s][u]=lH(f,c,h)}}return l},W1=function(e,r){var t=sH(e,r),n=e.length,a=r.length,i=[],o=1,l=1;if(t[n][a].min!==n){for(var s=1;s<=n;s++){var u=t[s][s].min;l=s;for(var f=o;f<=a;f++)t[s][f].min<u&&(u=t[s][f].min,l=f);o=l,t[s][o].type&&i.push({index:s-1,type:t[s][o].type})}for(var s=i.length-1;s>=0;s--)o=i[s].index,i[s].type==="add"?e.splice(o,0,[].concat(e[o])):e.splice(o,1)}n=e.length;var c=a-n;if(n<a)for(var s=0;s<c;s++)e[n-1][0]==="z"||e[n-1][0]==="Z"?e.splice(n-2,0,e[n-2]):e.push(e[n-1]),n+=1;return e};function Qf(e,r,t){for(var n=[].concat(e),a,i=1/(t+1),o=G1(r)[0],l=1;l<=t;l++)i*=l,a=Math.floor(e.length*i),a===0?n.unshift([o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]):n.splice(a,0,[o[0]*i+e[a][0]*(1-i),o[1]*i+e[a][1]*(1-i)]);return n}function G1(e){var r=[];switch(e[0]){case"M":r.push([e[1],e[2]]);break;case"L":r.push([e[1],e[2]]);break;case"A":r.push([e[6],e[7]]);break;case"Q":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"T":r.push([e[1],e[2]]);break;case"C":r.push([e[5],e[6]]),r.push([e[1],e[2]]),r.push([e[3],e[4]]);break;case"S":r.push([e[3],e[4]]),r.push([e[1],e[2]]);break;case"H":r.push([e[1],e[1]]);break;case"V":r.push([e[1],e[1]]);break}return r}var Bp=function(e,r){if(e.length<=1)return e;for(var t,n=0;n<r.length;n++)if(e[n][0]!==r[n][0])switch(t=G1(e[n]),r[n][0]){case"M":e[n]=["M"].concat(t[0]);break;case"L":e[n]=["L"].concat(t[0]);break;case"A":e[n]=[].concat(r[n]),e[n][6]=t[0][0],e[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=Qf(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["Q"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"T":e[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=Qf(t,e[n-1],2);else{e[n]=r[n];break}e[n]=["C"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;case"S":if(t.length<2)if(n>0)t=Qf(t,e[n-1],1);else{e[n]=r[n];break}e[n]=["S"].concat(t.reduce(function(a,i){return a.concat(i)},[]));break;default:e[n]=r[n]}return e};const tv=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:Pp,fillPath:iH,fillPathByDiff:W1,formatPath:Bp,intersection:eH,parsePathArray:H1,parsePathString:wi,pathToAbsolute:Lp,pathToCurve:Rp,rectPath:V1},Symbol.toStringTag,{value:"Module"}));var _l=function(){function e(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return e.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e.prototype.toString=function(){var r=this.type;return"[Event (type="+r+")]"},e.prototype.save=function(){},e.prototype.restore=function(){},e}();function Y1(e,r){var t=e.indexOf(r);t!==-1&&e.splice(t,1)}var Zm=typeof window<"u"&&typeof window.document<"u";function q1(e,r){if(e.isCanvas())return!0;for(var t=r.getParent(),n=!1;t;){if(t===e){n=!0;break}t=t.getParent()}return n}function sl(e){return e.cfg.visible&&e.cfg.capture}var cc=function(e){q(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var a=n.getDefaultCfg();return n.cfg=Nt(a,t),n}return r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,n){this.cfg[t]=n},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(Qd),Qm=function(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))},uH=function(){function e(r,t,n){this.name=r,this.version=t,this.os=n,this.type="browser"}return e}(),cH=function(){function e(r){this.version=r,this.type="node",this.name="node",this.os=process.platform}return e}(),fH=function(){function e(r,t,n,a){this.name=r,this.version=t,this.os=n,this.bot=a,this.type="bot-device"}return e}(),hH=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),pH=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),dH=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,vH=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Jm=3,gH=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",dH]],t0=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function X1(e){return e?e0(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new pH:typeof navigator<"u"?e0(navigator.userAgent):xH()}function yH(e){return e!==""&&gH.reduce(function(r,t){var n=t[0],a=t[1];if(r)return r;var i=a.exec(e);return!!i&&[n,i]},!1)}function e0(e){var r=yH(e);if(!r)return null;var t=r[0],n=r[1];if(t==="searchbot")return new hH;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<Jm&&(a=Qm(Qm([],a,!0),bH(Jm-a.length),!0)):a=[];var i=a.join("."),o=mH(e),l=vH.exec(e);return l&&l[1]?new fH(t,i,o,l[1]):new uH(t,i,o)}function mH(e){for(var r=0,t=t0.length;r<t;r++){var n=t0[r],a=n[0],i=n[1],o=i.exec(e);if(o)return a}return null}function xH(){var e=typeof process<"u"&&process.version;return e?new cH(process.version.slice(1)):null}function bH(e){for(var r=[],t=0;t<e;t++)r.push("0");return r}var Cu=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});function wH(e,r){var t=r[0],n=r[1],a=r[2],i=r[3],o=r[4],l=r[5],s=r[6],u=r[7],f=r[8],c=f*o-l*u,h=-f*i+l*s,p=u*i-o*s,d=t*c+n*h+a*p;return d?(d=1/d,e[0]=c*d,e[1]=(-f*n+a*u)*d,e[2]=(l*n-a*o)*d,e[3]=h*d,e[4]=(f*t-a*s)*d,e[5]=(-l*t+a*i)*d,e[6]=p*d,e[7]=(-u*t+n*s)*d,e[8]=(o*t-n*i)*d,e):null}function fc(e,r,t){var n=r[0],a=r[1],i=r[2],o=r[3],l=r[4],s=r[5],u=r[6],f=r[7],c=r[8],h=t[0],p=t[1],d=t[2],v=t[3],g=t[4],y=t[5],m=t[6],b=t[7],x=t[8];return e[0]=h*n+p*o+d*u,e[1]=h*a+p*l+d*f,e[2]=h*i+p*s+d*c,e[3]=v*n+g*o+y*u,e[4]=v*a+g*l+y*f,e[5]=v*i+g*s+y*c,e[6]=m*n+b*o+x*u,e[7]=m*a+b*l+x*f,e[8]=m*i+b*s+x*c,e}function SH(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=r[0],e[7]=r[1],e[8]=1,e}function CH(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=-t,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function AH(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=r[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function TH(){var e=new Cu(3);return Cu!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ul(e,r,t){var n=r[0],a=r[1],i=r[2];return e[0]=n*t[0]+a*t[3]+i*t[6],e[1]=n*t[1]+a*t[4]+i*t[7],e[2]=n*t[2]+a*t[5]+i*t[8],e}(function(){var e=TH();return function(r,t,n,a,i,o){var l,s;for(t||(t=3),n||(n=0),a?s=Math.min(a*t+n,r.length):s=r.length,l=n;l<s;l+=t)e[0]=r[l],e[1]=r[l+1],e[2]=r[l+2],i(e,e,o),r[l]=e[0],r[l+1]=e[1],r[l+2]=e[2];return r}})();function IH(){var e=new Cu(2);return Cu!=Float32Array&&(e[0]=0,e[1]=0),e}function Yr(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e}function U1(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e}function Se(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e}function Ce(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e}function Ne(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e}function $i(e,r){var t=r[0]-e[0],n=r[1]-e[1];return Math.hypot(t,n)}function Si(e){var r=e[0],t=e[1];return Math.hypot(r,t)}function K1(e,r){var t=r[0],n=r[1],a=t*t+n*n;return a>0&&(a=1/Math.sqrt(a)),e[0]=r[0]*a,e[1]=r[1]*a,e}function EH(e,r){return e[0]*r[0]+e[1]*r[1]}function MH(e,r,t){var n=r[0],a=r[1];return e[0]=t[0]*n+t[3]*a+t[6],e[1]=t[1]*n+t[4]*a+t[7],e}function _p(e,r){var t=e[0],n=e[1],a=r[0],i=r[1],o=Math.sqrt(t*t+n*n)*Math.sqrt(a*a+i*i),l=o&&(t*a+n*i)/o;return Math.acos(Math.min(Math.max(l,-1),1))}function OH(e,r){return e[0]===r[0]&&e[1]===r[1]}var Da=U1;(function(){var e=IH();return function(r,t,n,a,i,o){var l,s;for(t||(t=2),n||(n=0),a?s=Math.min(a*t+n,r.length):s=r.length,l=n;l<s;l+=t)e[0]=r[l],e[1]=r[l+1],i(e,e,o),r[l]=e[0],r[l+1]=e[1];return r}})();function yi(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return SH(n,t),fc(e,n,r)}function ev(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return CH(n,t),fc(e,n,r)}function Z1(e,r,t){var n=[0,0,0,0,0,0,0,0,0];return AH(n,t),fc(e,n,r)}function kH(e,r,t){return fc(e,t,r)}function fe(e,r){for(var t=e?[].concat(e):[1,0,0,0,1,0,0,0,1],n=0,a=r.length;n<a;n++){var i=r[n];switch(i[0]){case"t":yi(t,t,[i[1],i[2]]);break;case"s":Z1(t,t,[i[1],i[2]]);break;case"r":ev(t,t,i[1]);break;case"m":kH(t,t,i[1]);break}}return t}function FH(e,r){return e[0]*r[1]-r[0]*e[1]}function rv(e,r,t){var n=_p(e,r),a=FH(e,r)>=0;return t?a?Math.PI*2-n:n:a?n:Math.PI*2-n}function r0(e,r){var t=[],n=e[0],a=e[1],i=e[2],o=e[3],l=e[4],s=e[5],u=e[6],f=e[7],c=e[8],h=r[0],p=r[1],d=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],x=r[8];return t[0]=h*n+p*o+d*u,t[1]=h*a+p*l+d*f,t[2]=h*i+p*s+d*c,t[3]=v*n+g*o+y*u,t[4]=v*a+g*l+y*f,t[5]=v*i+g*s+y*c,t[6]=m*n+b*o+x*u,t[7]=m*a+b*l+x*f,t[8]=m*i+b*s+x*c,t}function fn(e,r){var t=[],n=r[0],a=r[1];return t[0]=e[0]*n+e[3]*a+e[6],t[1]=e[1]*n+e[4]*a+e[7],t}function hc(e){var r=[],t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],l=e[5],s=e[6],u=e[7],f=e[8],c=f*o-l*u,h=-f*i+l*s,p=u*i-o*s,d=t*c+n*h+a*p;return d?(d=1/d,r[0]=c*d,r[1]=(-f*n+a*u)*d,r[2]=(l*n-a*o)*d,r[3]=h*d,r[4]=(f*t-a*s)*d,r[5]=(-l*t+a*i)*d,r[6]=p*d,r[7]=(-u*t+n*s)*d,r[8]=(o*t-n*i)*d,r):null}var So=fe,Jf="matrix",PH=["zIndex","capture","visible","type"],LH=["repeat"],RH=":",DH="*";function BH(e){for(var r=[],t=0;t<e.length;t++)J(e[t])?r.push([].concat(e[t])):r.push(e[t]);return r}function _H(e,r){var t={},n=r.attrs;for(var a in e)t[a]=n[a];return t}function NH(e,r){var t={},n=r.attr();return B(e,function(a,i){LH.indexOf(i)===-1&&!Jt(n[i],a)&&(t[i]=a)}),t}function $H(e,r){if(r.onFrame)return e;var t=r.startTime,n=r.delay,a=r.duration,i=Object.prototype.hasOwnProperty;return B(e,function(o){t+n<o.startTime+o.delay+o.duration&&a>o.delay&&B(r.toAttrs,function(l,s){i.call(o.toAttrs,s)&&(delete o.toAttrs[s],delete o.fromAttrs[s])})}),e}var Q1=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.attrs={};var a=n.getDefaultAttrs();return Nt(a,t.attrs),n.attrs=a,n.initAttrs(a),n.initAnimate(),n}return r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=n[0],o=n[1];if(!i)return this.attrs;if(Bt(i)){for(var l in i)this.setAttr(l,i[l]);return this.afterAttrsChange(i),this}return n.length===2?(this.setAttr(i,o),this.afterAttrsChange((t={},t[i]=o,t)),this):this.attrs[i]},r.prototype.isClipped=function(t,n){var a=this.getClip();return a&&!a.isHit(t,n)},r.prototype.setAttr=function(t,n){var a=this.attrs[t];a!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,a))},r.prototype.onAttrChange=function(t,n,a){t==="matrix"&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var n=t.getChildren();this.get("el");var a=n.indexOf(this);n.splice(a,1),n.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(Y1(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(Jf,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(Jf)},r.prototype.setMatrix=function(t){this.attr(Jf,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),a=this.cfg.parentMatrix;a&&n?t=r0(a,n):t=n||a,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var n=this.attr("matrix"),a=null;t&&n?a=r0(t,n):a=n||t,this.set("totalMatrix",a),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?fn(n,t):t},r.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var a=hc(n);if(a)return fn(a,t)}return t},r.prototype.setClip=function(t){var n=this.getCanvas(),a=null;if(t){var i=this.getShapeBase(),o=ei(t.type),l=i[o];l&&(a=new l({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",a),this.onCanvasChange("clip"),a},r.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},r.prototype.clone=function(){var t=this,n=this.attrs,a={};B(n,function(l,s){J(n[s])?a[s]=BH(n[s]):a[s]=n[s]});var i=this.constructor,o=new i({attrs:a});return B(PH,function(l){o.set(l,t.get(l))}),o},r.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},e.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var a=this.get("timeline");a||(a=this.get("canvas").get("timeline"),this.set("timeline",a));var i=this.get("animations")||[];a.timer||a.initTimer();var o=t[0],l=t[1],s=t[2],u=s===void 0?"easeLinear":s,f=t[3],c=f===void 0?Hn:f,h=t[4],p=h===void 0?0:h,d,v,g,y,m;lt(o)?(d=o,o={}):Bt(o)&&o.onFrame&&(d=o.onFrame,v=o.repeat),Bt(l)?(m=l,l=m.duration,u=m.easing||"easeLinear",p=m.delay||0,v=m.repeat||v||!1,c=m.callback||Hn,g=m.pauseCallback||Hn,y=m.resumeCallback||Hn):(mt(c)&&(p=c,c=null),lt(u)?(c=u,u="easeLinear"):u=u||"easeLinear");var b=NH(o,this),x={fromAttrs:_H(b,this),toAttrs:b,duration:l,easing:u,repeat:v,callback:c,pauseCallback:g,resumeCallback:y,delay:p,startTime:a.getTime(),id:ua(),onFrame:d,pathFormatted:!1};i.length>0?i=$H(i,x):a.addAnimator(this),i.push(x),this.set("animations",i),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var a=this.get("animations");B(a,function(i){t&&(i.onFrame?n.attr(i.onFrame(1)):n.attr(i.toAttrs)),i.callback&&i.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),a=t.getTime();return B(n,function(i){i._paused=!0,i._pauseTime=a,i.pauseCallback&&i.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:a}),this},r.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),a=this.get("animations"),i=this.get("_pause").pauseTime;return B(a,function(o){o.startTime=o.startTime+(n-i),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",a),this},r.prototype.emitDelegation=function(t,n){var a=this,i=n.propagationPath;this.getEvents();var o;t==="mouseenter"?o=n.fromShape:t==="mouseleave"&&(o=n.toShape);for(var l=function(c){var h=i[c],p=h.get("name");if(p){if((h.isGroup()||h.isCanvas&&h.isCanvas())&&o&&q1(h,o))return"break";J(p)?B(p,function(d){a.emitDelegateEvent(h,d,n)}):s.emitDelegateEvent(h,p,n)}},s=this,u=0;u<i.length;u++){var f=l(u);if(f==="break")break}},r.prototype.emitDelegateEvent=function(t,n,a){var i=this.getEvents(),o=n+RH+a.type;(i[o]||i[DH])&&(a.name=o,a.currentTarget=t,a.delegateTarget=this,a.delegateObject=t.get("delegateObject"),this.emit(o,a))},r.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var a=this.getMatrix(),i=So(a,[["t",t,n]]);return this.setMatrix(i),this},r.prototype.move=function(t,n){var a=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-a,n-i),this},r.prototype.moveTo=function(t,n){return this.move(t,n)},r.prototype.scale=function(t,n){var a=this.getMatrix(),i=So(a,[["s",t,n||t]]);return this.setMatrix(i),this},r.prototype.rotate=function(t){var n=this.getMatrix(),a=So(n,[["r",t]]);return this.setMatrix(a),this},r.prototype.rotateAtStart=function(t){var n=this.attr(),a=n.x,i=n.y,o=this.getMatrix(),l=So(o,[["t",-a,-i],["r",t],["t",a,i]]);return this.setMatrix(l),this},r.prototype.rotateAtPoint=function(t,n,a){var i=this.getMatrix(),o=So(i,[["t",-t,-n],["r",a],["t",t,n]]);return this.setMatrix(o),this},r}(cc),n0={},Np="_INDEX";function J1(e,r){if(e.set("canvas",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){J1(n,r)})}}function tS(e,r){if(e.set("timeline",r),e.isGroup()){var t=e.get("children");t.length&&t.forEach(function(n){tS(n,r)})}}function jH(e,r,t){t===void 0&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),Y1(e.getChildren(),r)}function zH(e){return function(r,t){var n=e(r,t);return n===0?r[Np]-t[Np]:n}}var eS=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});o.length>0?B(o,function(s){var u=s.getBBox(),f=u.minX,c=u.maxX,h=u.minY,p=u.maxY;f<t&&(t=f),c>n&&(n=c),h<a&&(a=h),p>i&&(i=p)}):(t=0,n=0,a=0,i=0);var l={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return l},r.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,a=1/0,i=-1/0,o=this.getChildren().filter(function(s){return s.get("visible")&&(!s.isGroup()||s.isGroup()&&s.getChildren().length>0)});o.length>0?B(o,function(s){var u=s.getCanvasBBox(),f=u.minX,c=u.maxX,h=u.minY,p=u.maxY;f<t&&(t=f),c>n&&(n=c),h<a&&(a=h),p>i&&(i=p)}):(t=0,n=0,a=0,i=0);var l={x:t,y:a,minX:t,minY:a,maxX:n,maxY:i,width:n-t,height:i-a};return l},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,n,a){if(e.prototype.onAttrChange.call(this,t,n,a),t==="matrix"){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},r.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();e.prototype.applyMatrix.call(this,t);var a=this.getTotalMatrix();a!==n&&this._applyChildrenMarix(a)},r.prototype._applyChildrenMarix=function(t){var n=this.getChildren();B(n,function(a){a.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1];Bt(a)?i=a:i.type=a;var o=n0[i.type];o||(o=ei(i.type),n0[i.type]=o);var l=this.getShapeBase(),s=new l[o](i);return this.add(s),s},r.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t[0],i=t[1],o;if(lt(a))i?o=new a(i):o=new a({parent:this});else{var l=a||{},s=this.getGroupBase();o=new s(l)}return this.add(o),o},r.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},r.prototype.getShape=function(t,n,a){if(!sl(this))return null;var i=this.getChildren(),o;if(this.isCanvas())o=this._findShape(i,t,n,a);else{var l=[t,n,1];l=this.invertFromMatrix(l),this.isClipped(l[0],l[1])||(o=this._findShape(i,l[0],l[1],a))}return o},r.prototype._findShape=function(t,n,a,i){for(var o=null,l=t.length-1;l>=0;l--){var s=t[l];if(sl(s)&&(s.isGroup()?o=s.getShape(n,a,i):s.isHit(n,a)&&(o=s)),o)break}return o},r.prototype.add=function(t){var n=this.getCanvas(),a=this.getChildren(),i=this.get("timeline"),o=t.getParent();o&&jH(o,t,!1),t.set("parent",this),n&&J1(t,n),i&&tS(t,i),a.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},r.prototype.getChildren=function(){return this.get("children")||[]},r.prototype.sort=function(){var t=this.getChildren();B(t,function(n,a){return n[Np]=a,n}),t.sort(zH(function(n,a){return n.get("zIndex")-a.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),e.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},r.prototype.getCount=function(){var t=this.getChildren();return t.length},r.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},r.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},r.prototype.findAll=function(t){var n=[],a=this.getChildren();return B(a,function(i){t(i)&&n.push(i),i.isGroup()&&(n=n.concat(i.findAll(t)))}),n},r.prototype.find=function(t){var n=null,a=this.getChildren();return B(a,function(i){if(t(i)?n=i:i.isGroup()&&(n=i.find(t)),n)return!1}),n},r.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},r}(Q1),ji=0,Do=0,Co=0,rS=1e3,Au,Bo,Tu=0,qa=0,pc=0,cl=typeof performance=="object"&&performance.now?performance:Date,nS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function aS(){return qa||(nS(HH),qa=cl.now()+pc)}function HH(){qa=0}function $p(){this._call=this._time=this._next=null}$p.prototype=iS.prototype={constructor:$p,restart:function(e,r,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?aS():+t)+(r==null?0:+r),!this._next&&Bo!==this&&(Bo?Bo._next=this:Au=this,Bo=this),this._call=e,this._time=t,jp()},stop:function(){this._call&&(this._call=null,this._time=1/0,jp())}};function iS(e,r,t){var n=new $p;return n.restart(e,r,t),n}function VH(){aS(),++ji;for(var e=Au,r;e;)(r=qa-e._time)>=0&&e._call.call(null,r),e=e._next;--ji}function a0(){qa=(Tu=cl.now())+pc,ji=Do=0;try{VH()}finally{ji=0,GH(),qa=0}}function WH(){var e=cl.now(),r=e-Tu;r>rS&&(pc-=r,Tu=e)}function GH(){for(var e,r=Au,t,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Au=t);Bo=e,jp(n)}function jp(e){if(!ji){Do&&(Do=clearTimeout(Do));var r=e-qa;r>24?(e<1/0&&(Do=setTimeout(a0,e-cl.now()-pc)),Co&&(Co=clearInterval(Co))):(Co||(Tu=cl.now(),Co=setInterval(WH,rS)),ji=1,nS(a0))}}function nv(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function oS(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function Nl(){}var fl=.7,Iu=1/fl,Mi="\\s*([+-]?\\d+)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YH=/^#([0-9a-f]{3,8})$/,qH=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),XH=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),UH=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${hl}\\)$`),KH=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${hl}\\)$`),ZH=new RegExp(`^hsl\\(${hl},${Kr},${Kr}\\)$`),QH=new RegExp(`^hsla\\(${hl},${Kr},${Kr},${hl}\\)$`),i0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nv(Nl,pl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o0,formatHex:o0,formatHex8:JH,formatHsl:tV,formatRgb:l0,toString:l0});function o0(){return this.rgb().formatHex()}function JH(){return this.rgb().formatHex8()}function tV(){return lS(this).formatHsl()}function l0(){return this.rgb().formatRgb()}function pl(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=YH.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?s0(r):t===3?new Xe(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?ys(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?ys(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=qH.exec(e))?new Xe(r[1],r[2],r[3],1):(r=XH.exec(e))?new Xe(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=UH.exec(e))?ys(r[1],r[2],r[3],r[4]):(r=KH.exec(e))?ys(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ZH.exec(e))?f0(r[1],r[2]/100,r[3]/100,1):(r=QH.exec(e))?f0(r[1],r[2]/100,r[3]/100,r[4]):i0.hasOwnProperty(e)?s0(i0[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function s0(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function ys(e,r,t,n){return n<=0&&(e=r=t=NaN),new Xe(e,r,t,n)}function eV(e){return e instanceof Nl||(e=pl(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function zp(e,r,t,n){return arguments.length===1?eV(e):new Xe(e,r,t,n??1)}function Xe(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}nv(Xe,zp,oS(Nl,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fl:Math.pow(fl,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Ba(this.r),Ba(this.g),Ba(this.b),Eu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u0,formatHex:u0,formatHex8:rV,formatRgb:c0,toString:c0}));function u0(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}`}function rV(){return`#${Ma(this.r)}${Ma(this.g)}${Ma(this.b)}${Ma((isNaN(this.opacity)?1:this.opacity)*255)}`}function c0(){const e=Eu(this.opacity);return`${e===1?"rgb(":"rgba("}${Ba(this.r)}, ${Ba(this.g)}, ${Ba(this.b)}${e===1?")":`, ${e})`}`}function Eu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ba(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ma(e){return e=Ba(e),(e<16?"0":"")+e.toString(16)}function f0(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Mr(e,r,t,n)}function lS(e){if(e instanceof Mr)return new Mr(e.h,e.s,e.l,e.opacity);if(e instanceof Nl||(e=pl(e)),!e)return new Mr;if(e instanceof Mr)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(r,t,n),i=Math.max(r,t,n),o=NaN,l=i-a,s=(i+a)/2;return l?(r===i?o=(t-n)/l+(t<n)*6:t===i?o=(n-r)/l+2:o=(r-t)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Mr(o,l,s,e.opacity)}function nV(e,r,t,n){return arguments.length===1?lS(e):new Mr(e,r,t,n??1)}function Mr(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}nv(Mr,nV,oS(Nl,{brighter(e){return e=e==null?Iu:Math.pow(Iu,e),new Mr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fl:Math.pow(fl,e),new Mr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,a=2*t-n;return new Xe(th(e>=240?e-240:e+120,a,n),th(e,a,n),th(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Mr(h0(this.h),ms(this.s),ms(this.l),Eu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eu(this.opacity);return`${e===1?"hsl(":"hsla("}${h0(this.h)}, ${ms(this.s)*100}%, ${ms(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h0(e){return e=(e||0)%360,e<0?e+360:e}function ms(e){return Math.max(0,Math.min(1,e||0))}function th(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}const av=e=>()=>e;function aV(e,r){return function(t){return e+t*r}}function iV(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function oV(e){return(e=+e)==1?sS:function(r,t){return t-r?iV(r,t,e):av(isNaN(r)?t:r)}}function sS(e,r){var t=r-e;return t?aV(e,t):av(isNaN(e)?r:e)}const p0=function e(r){var t=oV(r);function n(a,i){var o=t((a=zp(a)).r,(i=zp(i)).r),l=t(a.g,i.g),s=t(a.b,i.b),u=sS(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=s(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function uS(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),a;return function(i){for(a=0;a<t;++a)n[a]=e[a]*(1-i)+r[a]*i;return n}}function cS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lV(e,r){return(cS(r)?uS:fS)(e,r)}function fS(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),i=new Array(t),o;for(o=0;o<n;++o)a[o]=Mu(e[o],r[o]);for(;o<t;++o)i[o]=r[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function sV(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function Hp(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function uV(e,r){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?t[a]=Mu(e[a],r[a]):n[a]=r[a];return function(i){for(a in t)n[a]=t[a](i);return n}}var Vp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eh=new RegExp(Vp.source,"g");function cV(e){return function(){return e}}function fV(e){return function(r){return e(r)+""}}function hV(e,r){var t=Vp.lastIndex=eh.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",r=r+"";(n=Vp.exec(e))&&(a=eh.exec(r));)(i=a.index)>t&&(i=r.slice(t,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Hp(n,a)})),t=eh.lastIndex;return t<r.length&&(i=r.slice(t),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?fV(s[0].x):cV(r):(r=s.length,function(u){for(var f=0,c;f<r;++f)l[(c=s[f]).i]=c.x(u);return l.join("")})}function Mu(e,r){var t=typeof r,n;return r==null||t==="boolean"?av(r):(t==="number"?Hp:t==="string"?(n=pl(r))?(r=n,p0):hV:r instanceof pl?p0:r instanceof Date?sV:cS(r)?uS:Array.isArray(r)?fS:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?uV:Hp)(e,r)}function pV(e){return+e}function dV(e){return e*e}function vV(e){return e*(2-e)}function d0(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function gV(e){return e*e*e}function yV(e){return--e*e*e+1}function v0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var iv=3,mV=function e(r){r=+r;function t(n){return Math.pow(n,r)}return t.exponent=e,t}(iv),xV=function e(r){r=+r;function t(n){return 1-Math.pow(1-n,r)}return t.exponent=e,t}(iv),g0=function e(r){r=+r;function t(n){return((n*=2)<=1?Math.pow(n,r):2-Math.pow(2-n,r))/2}return t.exponent=e,t}(iv),hS=Math.PI,pS=hS/2;function bV(e){return+e==1?1:1-Math.cos(e*pS)}function wV(e){return Math.sin(e*pS)}function y0(e){return(1-Math.cos(hS*e))/2}function Jn(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function SV(e){return Jn(1-+e)}function CV(e){return 1-Jn(e)}function m0(e){return((e*=2)<=1?Jn(1-e):2-Jn(e-1))/2}function AV(e){return 1-Math.sqrt(1-e*e)}function TV(e){return Math.sqrt(1- --e*e)}function x0(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Wp=4/11,IV=6/11,EV=8/11,MV=3/4,OV=9/11,kV=10/11,FV=15/16,PV=21/22,LV=63/64,xs=1/Wp/Wp;function RV(e){return 1-dl(1-e)}function dl(e){return(e=+e)<Wp?xs*e*e:e<EV?xs*(e-=IV)*e+MV:e<kV?xs*(e-=OV)*e+FV:xs*(e-=PV)*e+LV}function DV(e){return((e*=2)<=1?1-dl(1-e):dl(e-1)+1)/2}var ov=1.70158,BV=function e(r){r=+r;function t(n){return(n=+n)*n*(r*(n-1)+n)}return t.overshoot=e,t}(ov),_V=function e(r){r=+r;function t(n){return--n*n*((n+1)*r+n)+1}return t.overshoot=e,t}(ov),b0=function e(r){r=+r;function t(n){return((n*=2)<1?n*n*((r+1)*n-r):(n-=2)*n*((r+1)*n+r)+2)/2}return t.overshoot=e,t}(ov),zi=2*Math.PI,lv=1,sv=.3,NV=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=zi);function a(i){return r*Jn(- --i)*Math.sin((n-i)/t)}return a.amplitude=function(i){return e(i,t*zi)},a.period=function(i){return e(r,i)},a}(lv,sv),w0=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=zi);function a(i){return 1-r*Jn(i=+i)*Math.sin((i+n)/t)}return a.amplitude=function(i){return e(i,t*zi)},a.period=function(i){return e(r,i)},a}(lv,sv),$V=function e(r,t){var n=Math.asin(1/(r=Math.max(1,r)))*(t/=zi);function a(i){return((i=i*2-1)<0?r*Jn(-i)*Math.sin((n-i)/t):2-r*Jn(i)*Math.sin((n+i)/t))/2}return a.amplitude=function(i){return e(i,t*zi)},a.period=function(i){return e(r,i)},a}(lv,sv);const jV=Object.freeze(Object.defineProperty({__proto__:null,easeBack:b0,easeBackIn:BV,easeBackInOut:b0,easeBackOut:_V,easeBounce:dl,easeBounceIn:RV,easeBounceInOut:DV,easeBounceOut:dl,easeCircle:x0,easeCircleIn:AV,easeCircleInOut:x0,easeCircleOut:TV,easeCubic:v0,easeCubicIn:gV,easeCubicInOut:v0,easeCubicOut:yV,easeElastic:w0,easeElasticIn:NV,easeElasticInOut:$V,easeElasticOut:w0,easeExp:m0,easeExpIn:SV,easeExpInOut:m0,easeExpOut:CV,easeLinear:pV,easePoly:g0,easePolyIn:mV,easePolyInOut:g0,easePolyOut:xV,easeQuad:d0,easeQuadIn:dV,easeQuadInOut:d0,easeQuadOut:vV,easeSin:y0,easeSinIn:bV,easeSinInOut:y0,easeSinOut:wV},Symbol.toStringTag,{value:"Module"}));var dS={};function zV(e){return dS[e.toLowerCase()]||jV[e]}function vS(e,r){dS[e.toLowerCase()]=r}var HV=function(e){return["fill","stroke","fillStyle","strokeStyle"].includes(e)},VV=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},S0=[1,0,0,0,1,0,0,0,1];function WV(e,r,t){var n={},a=r.fromAttrs,i=r.toAttrs;if(!e.destroyed){var o;for(var l in i)if(!Jt(a[l],i[l]))if(l==="path"){var s=i[l],u=a[l];s.length>u.length?(s=wi(i[l]),u=wi(a[l]),u=W1(u,s),u=Bp(u,s),r.fromAttrs.path=u,r.toAttrs.path=s):r.pathFormatted||(s=wi(i[l]),u=wi(a[l]),u=Bp(u,s),r.fromAttrs.path=u,r.toAttrs.path=s,r.pathFormatted=!0),n[l]=[];for(var f=0;f<s.length;f++){for(var c=s[f],h=u[f],p=[],d=0;d<c.length;d++)mt(c[d])&&h&&mt(h[d])?(o=Mu(h[d],c[d]),p.push(o(t))):p.push(c[d]);n[l].push(p)}}else if(l==="matrix"){var v=lV(a[l]||S0,i[l]||S0),g=v(t);n[l]=g}else HV(l)&&VV(i[l])?n[l]=i[l]:lt(i[l])||(o=Mu(a[l],i[l]),n[l]=o(t));e.attr(n)}}function GV(e,r,t){var n=r.startTime,a=r.delay;if(t<n+a||r._paused)return!1;var i,o=r.duration,l=r.easing,s=zV(l);if(t=t-n-r.delay,r.repeat)i=t%o/o,i=s(i);else if(i=t/o,i<1)i=s(i);else return r.onFrame?e.attr(r.onFrame(1)):e.attr(r.toAttrs),!0;if(r.onFrame){var u=r.onFrame(i);e.attr(u)}else WV(e,r,i);return!1}var YV=function(){function e(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return e.prototype.initTimer=function(){var r=this,t=!1,n,a,i;this.timer=iS(function(o){if(r.current=o,r.animators.length>0){for(var l=r.animators.length-1;l>=0;l--){if(n=r.animators[l],n.destroyed){r.removeAnimator(l);continue}if(!n.isAnimatePaused()){a=n.get("animations");for(var s=a.length-1;s>=0;s--)i=a[s],t=GV(n,i,o),t&&(a.splice(s,1),t=!1,i.callback&&i.callback())}a.length===0&&r.removeAnimator(l)}var u=r.canvas.get("autoDraw");u||r.canvas.draw()}})},e.prototype.addAnimator=function(r){this.animators.push(r)},e.prototype.removeAnimator=function(r){this.animators.splice(r,1)},e.prototype.isAnimating=function(){return!!this.animators.length},e.prototype.stop=function(){this.timer&&this.timer.stop()},e.prototype.stopAllAnimations=function(r){r===void 0&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},e.prototype.getTime=function(){return this.current},e}(),qV=40,C0=0,A0=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function T0(e,r,t){t.name=r,t.target=e,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}function XV(e,r,t){if(t.bubbles){var n=void 0,a=!1;if(r==="mouseenter"?(n=t.fromShape,a=!0):r==="mouseleave"&&(a=!0,n=t.toShape),e.isCanvas()&&a)return;if(n&&q1(e,n)){t.bubbles=!1;return}t.name=r,t.currentTarget=e,t.delegateTarget=e,e.emit(r,t)}}var UV=function(){function e(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var a=n.type;t._triggerEvent(a,n)},this._onDocumentMove=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,o,t.draggingShape)}},this._onDocumentMouseUp=function(n){var a=t.canvas,i=a.get("el");if(i!==n.target&&t.dragging){var o=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,o,null),t._emitEvent("dragend",n,o,t.draggingShape),t._afterDrag(t.draggingShape,o,n)}},this.canvas=r.canvas}return e.prototype.init=function(){this._bindEvents()},e.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");B(A0,function(n){t.addEventListener(n,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");B(A0,function(n){t.removeEventListener(n,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},e.prototype._getEventObj=function(r,t,n,a,i,o){var l=new _l(r,t);return l.fromShape=i,l.toShape=o,l.x=n.x,l.y=n.y,l.clientX=n.clientX,l.clientY=n.clientY,l.propagationPath.push(a),l},e.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},e.prototype._getPointInfo=function(r){var t=this.canvas,n=t.getClientByEvent(r),a=t.getPointByEvent(r);return{x:a.x,y:a.y,clientX:n.x,clientY:n.y}},e.prototype._triggerEvent=function(r,t){var n=this._getPointInfo(t),a=this._getShape(n,t),i=this["_on"+r],o=!1;if(i)i.call(this,n,a,t);else{var l=this.currentShape;r==="mouseenter"||r==="dragenter"||r==="mouseover"?(this._emitEvent(r,t,n,null,null,a),a&&this._emitEvent(r,t,n,a,null,a),r==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):r==="mouseleave"||r==="dragleave"||r==="mouseout"?(o=!0,l&&this._emitEvent(r,t,n,l,l,null),this._emitEvent(r,t,n,null,l,null),r==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(r,t,n,a,null,null)}if(o||(this.currentShape=a),a&&!a.get("destroyed")){var s=this.canvas,u=s.get("el");u.style.cursor=a.attr("cursor")||s.get("cursor")}},e.prototype._onmousedown=function(r,t,n){n.button===C0&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,r,t,null,null)},e.prototype._emitMouseoverEvents=function(r,t,n,a){var i=this.canvas.get("el");n!==a&&(n&&(this._emitEvent("mouseout",r,t,n,n,a),this._emitEvent("mouseleave",r,t,n,n,a),(!a||a.get("destroyed"))&&(i.style.cursor=this.canvas.get("cursor"))),a&&(this._emitEvent("mouseover",r,t,a,n,a),this._emitEvent("mouseenter",r,t,a,n,a)))},e.prototype._emitDragoverEvents=function(r,t,n,a,i){a?(a!==n&&(n&&this._emitEvent("dragleave",r,t,n,n,a),this._emitEvent("dragenter",r,t,a,n,a)),i||this._emitEvent("dragover",r,t,a)):n&&this._emitEvent("dragleave",r,t,n,n,a),i&&this._emitEvent("dragover",r,t,a)},e.prototype._afterDrag=function(r,t,n){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var a=this._getShape(t,n);a!==r&&this._emitMouseoverEvents(n,t,r,a),this.currentShape=a},e.prototype._onmouseup=function(r,t,n){if(n.button===C0){var a=this.draggingShape;this.dragging?(a&&this._emitEvent("drop",n,r,t),this._emitEvent("dragend",n,r,a),this._afterDrag(a,r,n)):(this._emitEvent("mouseup",n,r,t),t===this.mousedownShape&&this._emitEvent("click",n,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},e.prototype._ondragover=function(r,t,n){n.preventDefault();var a=this.currentShape;this._emitDragoverEvents(n,r,a,t,!0)},e.prototype._onmousemove=function(r,t,n){var a=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,r,i,t,!1),this._emitEvent("drag",n,r,o);else{var l=this.mousedownPoint;if(l){var s=this.mousedownShape,u=n.timeStamp,f=u-this.mousedownTimeStamp,c=l.clientX-r.clientX,h=l.clientY-r.clientY,p=c*c+h*h;f>120||p>qV?s&&s.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,r,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&a.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t)):(this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t))}else this._emitMouseoverEvents(n,r,i,t),this._emitEvent("mousemove",n,r,t)}},e.prototype._emitEvent=function(r,t,n,a,i,o){var l=this._getEventObj(r,t,n,a,i,o);if(a){l.shape=a,T0(a,r,l);for(var s=a.getParent();s;)s.emitDelegation(r,l),l.propagationStopped||XV(s,r,l),l.propagationPath.push(s),s=s.getParent()}else{var u=this.canvas;T0(u,r,l)}},e.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},e}(),I0="px",E0=X1(),KV=E0&&E0.name==="firefox",dc=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");dt(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new UV({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new YV(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,n){var a=this.get("el");Zm&&(a.style.width=t+I0,a.style.height=n+I0)},r.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");Zm&&n&&(n.style.cursor=t)},r.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(KV&&!Q(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Q(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var a=this.getClientByEvent(t),i=a.x,o=a.y;return this.getPointByClient(i,o)},r.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},r.prototype.getPointByClient=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t-i.left,y:n-i.top}},r.prototype.getClientByPoint=function(t,n){var a=this.get("el"),i=a.getBoundingClientRect();return{x:t+i.left,y:n+i.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),e.prototype.destroy.call(this))},r}(eS),vc=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=this.getChildren(),a=0;a<n.length;a++){var i=n[a];t.add(i.clone())}return t},r}(eS),gc=function(e){q(r,e);function r(t){return e.call(this,t)||this}return r.prototype._isInBBox=function(t,n){var a=this.getBBox();return a.minX<=t&&a.maxX>=t&&a.minY<=n&&a.maxY>=n},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){e.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),a=t.minX,i=t.minY,o=t.maxX,l=t.maxY;if(n){var s=fn(n,[t.minX,t.minY]),u=fn(n,[t.maxX,t.minY]),f=fn(n,[t.minX,t.maxY]),c=fn(n,[t.maxX,t.maxY]);a=Math.min(s[0],u[0],f[0],c[0]),o=Math.max(s[0],u[0],f[0],c[0]),i=Math.min(s[1],u[1],f[1],c[1]),l=Math.max(s[1],u[1],f[1],c[1])}var h=this.attrs;if(h.shadowColor){var p=h.shadowBlur,d=p===void 0?0:p,v=h.shadowOffsetX,g=v===void 0?0:v,y=h.shadowOffsetY,m=y===void 0?0:y,b=a-d+g,x=o+d+g,w=i-d+m,S=l+d+m;a=Math.min(a,b),o=Math.max(o,x),i=Math.min(i,w),l=Math.max(l,S)}return{x:a,y:i,minX:a,minY:i,maxX:o,maxY:l,width:o-a,height:l-i}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,n){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,n){var a=this.get("startArrowShape"),i=this.get("endArrowShape"),o=[t,n,1];o=this.invertFromMatrix(o);var l=o[0],s=o[1],u=this._isInBBox(l,s);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(l,s)&&(this.isInShape(l,s)||a&&a.isHit(l,s)||i&&i.isHit(l,s)))},r}(Q1),gS=new Map;function Sr(e,r){gS.set(e,r)}function yc(e){return gS.get(e)}function yS(e){var r=e.attr(),t=r.x,n=r.y,a=r.width,i=r.height;return{x:t,y:n,width:a,height:i}}function mS(e){var r=e.attr(),t=r.x,n=r.y,a=r.r;return{x:t-a,y:n-a,width:a*2,height:a*2}}function Re(e,r,t,n){var a=e-t,i=r-n;return Math.sqrt(a*a+i*i)}function tu(e,r){return Math.abs(e-r)<.001}function so(e,r){var t=br(e),n=br(r),a=ir(e),i=ir(r);return{x:t,y:n,width:a-t,height:i-n}}function mc(e){return(e+Math.PI*2)%(Math.PI*2)}const Te={box:function(e,r,t,n){return so([e,t],[r,n])},length:function(e,r,t,n){return Re(e,r,t,n)},pointAt:function(e,r,t,n,a){return{x:(1-a)*e+a*t,y:(1-a)*r+a*n}},pointDistance:function(e,r,t,n,a,i){var o=(t-e)*(a-e)+(n-r)*(i-r);if(o<0)return Re(e,r,a,i);var l=(t-e)*(t-e)+(n-r)*(n-r);return o>l?Re(t,n,a,i):this.pointToLine(e,r,t,n,a,i)},pointToLine:function(e,r,t,n,a,i){var o=[t-e,n-r];if(OH(o,[0,0]))return Math.sqrt((a-e)*(a-e)+(i-r)*(i-r));var l=[-o[1],o[0]];K1(l,l);var s=[a-e,i-r];return Math.abs(EH(s,l))},tangentAngle:function(e,r,t,n){return Math.atan2(n-r,t-e)}};var ZV=1e-4;function xS(e,r,t,n,a,i){var o,l=1/0,s=[t,n],u=20;i&&i>200&&(u=i/10);for(var f=1/u,c=f/10,h=0;h<=u;h++){var p=h*f,d=[a.apply(null,e.concat([p])),a.apply(null,r.concat([p]))],v=Re(s[0],s[1],d[0],d[1]);v<l&&(o=p,l=v)}if(o===0)return{x:e[0],y:r[0]};if(o===1){var g=e.length;return{x:e[g-1],y:r[g-1]}}l=1/0;for(var h=0;h<32&&!(c<ZV);h++){var y=o-c,m=o+c,d=[a.apply(null,e.concat([y])),a.apply(null,r.concat([y]))],v=Re(s[0],s[1],d[0],d[1]);if(y>=0&&v<l)o=y,l=v;else{var b=[a.apply(null,e.concat([m])),a.apply(null,r.concat([m]))],x=Re(s[0],s[1],b[0],b[1]);m<=1&&x<l?(o=m,l=x):c*=.5}}return{x:a.apply(null,e.concat([o])),y:a.apply(null,r.concat([o]))}}function QV(e,r){for(var t=0,n=e.length,a=0;a<n;a++){var i=e[a],o=r[a],l=e[(a+1)%n],s=r[(a+1)%n];t+=Re(i,o,l,s)}return t/2}function Bn(e,r,t,n){var a=1-n;return a*a*e+2*n*a*r+n*n*t}function M0(e,r,t){var n=e+t-2*r;if(tu(n,0))return[.5];var a=(e-r)/n;return a<=1&&a>=0?[a]:[]}function O0(e,r,t,n){return 2*(1-n)*(r-e)+2*n*(t-r)}function bS(e,r,t,n,a,i,o){var l=Bn(e,t,a,o),s=Bn(r,n,i,o),u=Te.pointAt(e,r,t,n,o),f=Te.pointAt(t,n,a,i,o);return[[e,r,u.x,u.y,l,s],[l,s,f.x,f.y,a,i]]}function Gp(e,r,t,n,a,i,o){if(o===0)return(Re(e,r,t,n)+Re(t,n,a,i)+Re(e,r,a,i))/2;var l=bS(e,r,t,n,a,i,.5),s=l[0],u=l[1];return s.push(o-1),u.push(o-1),Gp.apply(null,s)+Gp.apply(null,u)}const wS={box:function(e,r,t,n,a,i){var o=M0(e,t,a)[0],l=M0(r,n,i)[0],s=[e,a],u=[r,i];return o!==void 0&&s.push(Bn(e,t,a,o)),l!==void 0&&u.push(Bn(r,n,i,l)),so(s,u)},length:function(e,r,t,n,a,i){return Gp(e,r,t,n,a,i,3)},nearestPoint:function(e,r,t,n,a,i,o,l){return xS([e,t,a],[r,n,i],o,l,Bn)},pointDistance:function(e,r,t,n,a,i,o,l){var s=this.nearestPoint(e,r,t,n,a,i,o,l);return Re(s.x,s.y,o,l)},interpolationAt:Bn,pointAt:function(e,r,t,n,a,i,o){return{x:Bn(e,t,a,o),y:Bn(r,n,i,o)}},divide:function(e,r,t,n,a,i,o){return bS(e,r,t,n,a,i,o)},tangentAngle:function(e,r,t,n,a,i,o){var l=O0(e,t,a,o),s=O0(r,n,i,o),u=Math.atan2(s,l);return mc(u)}};function _n(e,r,t,n,a){var i=1-a;return i*i*i*e+3*r*a*i*i+3*t*a*a*i+n*a*a*a}function k0(e,r,t,n,a){var i=1-a;return 3*(i*i*(r-e)+2*i*a*(t-r)+a*a*(n-t))}function rh(e,r,t,n){var a=-3*e+9*r-9*t+3*n,i=6*e-12*r+6*t,o=3*r-3*e,l=[],s,u,f;if(tu(a,0))tu(i,0)||(s=-o/i,s>=0&&s<=1&&l.push(s));else{var c=i*i-4*a*o;tu(c,0)?l.push(-i/(2*a)):c>0&&(f=Math.sqrt(c),s=(-i+f)/(2*a),u=(-i-f)/(2*a),s>=0&&s<=1&&l.push(s),u>=0&&u<=1&&l.push(u))}return l}function SS(e,r,t,n,a,i,o,l,s){var u=_n(e,t,a,o,s),f=_n(r,n,i,l,s),c=Te.pointAt(e,r,t,n,s),h=Te.pointAt(t,n,a,i,s),p=Te.pointAt(a,i,o,l,s),d=Te.pointAt(c.x,c.y,h.x,h.y,s),v=Te.pointAt(h.x,h.y,p.x,p.y,s);return[[e,r,c.x,c.y,d.x,d.y,u,f],[u,f,v.x,v.y,p.x,p.y,o,l]]}function Yp(e,r,t,n,a,i,o,l,s){if(s===0)return QV([e,t,a,o],[r,n,i,l]);var u=SS(e,r,t,n,a,i,o,l,.5),f=u[0],c=u[1];return f.push(s-1),c.push(s-1),Yp.apply(null,f)+Yp.apply(null,c)}const qo={extrema:rh,box:function(e,r,t,n,a,i,o,l){for(var s=[e,o],u=[r,l],f=rh(e,t,a,o),c=rh(r,n,i,l),h=0;h<f.length;h++)s.push(_n(e,t,a,o,f[h]));for(var h=0;h<c.length;h++)u.push(_n(r,n,i,l,c[h]));return so(s,u)},length:function(e,r,t,n,a,i,o,l){return Yp(e,r,t,n,a,i,o,l,3)},nearestPoint:function(e,r,t,n,a,i,o,l,s,u,f){return xS([e,t,a,o],[r,n,i,l],s,u,_n,f)},pointDistance:function(e,r,t,n,a,i,o,l,s,u,f){var c=this.nearestPoint(e,r,t,n,a,i,o,l,s,u,f);return Re(c.x,c.y,s,u)},interpolationAt:_n,pointAt:function(e,r,t,n,a,i,o,l,s){return{x:_n(e,t,a,o,s),y:_n(r,n,i,l,s)}},divide:function(e,r,t,n,a,i,o,l,s){return SS(e,r,t,n,a,i,o,l,s)},tangentAngle:function(e,r,t,n,a,i,o,l,s){var u=k0(e,t,a,o,s),f=k0(r,n,i,l,s);return mc(Math.atan2(f,u))}};function F0(e,r){var t=Math.abs(e);return r>0?t:t*-1}const JV={box:function(e,r,t,n){return{x:e-t,y:r-n,width:t*2,height:n*2}},length:function(e,r,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(e,r,t,n,a,i){var o=t,l=n;if(o===0||l===0)return{x:e,y:r};for(var s=a-e,u=i-r,f=Math.abs(s),c=Math.abs(u),h=o*o,p=l*l,d=Math.PI/4,v,g,y=0;y<4;y++){v=o*Math.cos(d),g=l*Math.sin(d);var m=(h-p)*Math.pow(Math.cos(d),3)/o,b=(p-h)*Math.pow(Math.sin(d),3)/l,x=v-m,w=g-b,S=f-m,A=c-b,I=Math.hypot(w,x),k=Math.hypot(A,S),E=I*Math.asin((x*A-w*S)/(I*k)),M=E/Math.sqrt(h+p-v*v-g*g);d+=M,d=Math.min(Math.PI/2,Math.max(0,d))}return{x:e+F0(v,s),y:r+F0(g,u)}},pointDistance:function(e,r,t,n,a,i){var o=this.nearestPoint(e,r,t,n,a,i);return Re(o.x,o.y,a,i)},pointAt:function(e,r,t,n,a){var i=2*Math.PI*a;return{x:e+t*Math.cos(i),y:r+n*Math.sin(i)}},tangentAngle:function(e,r,t,n,a){var i=2*Math.PI*a,o=Math.atan2(n*Math.cos(i),-t*Math.sin(i));return mc(o)}};function t8(e,r,t,n,a,i,o,l){return-1*t*Math.cos(a)*Math.sin(l)-n*Math.sin(a)*Math.cos(l)}function e8(e,r,t,n,a,i,o,l){return-1*t*Math.sin(a)*Math.sin(l)+n*Math.cos(a)*Math.cos(l)}function r8(e,r,t){return Math.atan(-r/e*Math.tan(t))}function n8(e,r,t){return Math.atan(r/(e*Math.tan(t)))}function P0(e,r,t,n,a,i){return t*Math.cos(a)*Math.cos(i)-n*Math.sin(a)*Math.sin(i)+e}function L0(e,r,t,n,a,i){return t*Math.sin(a)*Math.cos(i)+n*Math.cos(a)*Math.sin(i)+r}function a8(e,r,t,n){var a=Math.atan2(n*e,t*r);return(a+Math.PI*2)%(Math.PI*2)}function R0(e,r,t){return{x:e*Math.cos(t),y:r*Math.sin(t)}}function D0(e,r,t){var n=Math.cos(t),a=Math.sin(t);return[e*n-r*a,e*a+r*n]}const i8={box:function(e,r,t,n,a,i,o){for(var l=r8(t,n,a),s=1/0,u=-1/0,f=[i,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var h=l+c;i<o?i<h&&h<o&&f.push(h):o<h&&h<i&&f.push(h)}for(var c=0;c<f.length;c++){var p=P0(e,r,t,n,a,f[c]);p<s&&(s=p),p>u&&(u=p)}for(var d=n8(t,n,a),v=1/0,g=-1/0,y=[i,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var m=d+c;i<o?i<m&&m<o&&y.push(m):o<m&&m<i&&y.push(m)}for(var c=0;c<y.length;c++){var b=L0(e,r,t,n,a,y[c]);b<v&&(v=b),b>g&&(g=b)}return{x:s,y:v,width:u-s,height:g-v}},length:function(e,r,t,n,a,i,o){},nearestPoint:function(e,r,t,n,a,i,o,l,s){var u=D0(l-e,s-r,-a),f=u[0],c=u[1],h=JV.nearestPoint(0,0,t,n,f,c),p=a8(t,n,h.x,h.y);p<i?h=R0(t,n,i):p>o&&(h=R0(t,n,o));var d=D0(h.x,h.y,a);return{x:d[0]+e,y:d[1]+r}},pointDistance:function(e,r,t,n,a,i,o,l,s){var u=this.nearestPoint(e,r,t,n,l,s);return Re(u.x,u.y,l,s)},pointAt:function(e,r,t,n,a,i,o,l){var s=(o-i)*l+i;return{x:P0(e,r,t,n,a,s),y:L0(e,r,t,n,a,s)}},tangentAngle:function(e,r,t,n,a,i,o,l){var s=(o-i)*l+i,u=t8(e,r,t,n,a,i,o,s),f=e8(e,r,t,n,a,i,o,s);return mc(Math.atan2(f,u))}};function CS(e){for(var r=0,t=[],n=0;n<e.length-1;n++){var a=e[n],i=e[n+1],o=Re(a[0],a[1],i[0],i[1]),l={from:a,to:i,length:o};t.push(l),r+=o}return{segments:t,totalLength:r}}function o8(e){if(e.length<2)return 0;for(var r=0,t=0;t<e.length-1;t++){var n=e[t],a=e[t+1];r+=Re(n[0],n[1],a[0],a[1])}return r}function l8(e,r){if(r>1||r<0||e.length<2)return null;var t=CS(e),n=t.segments,a=t.totalLength;if(a===0)return{x:e[0][0],y:e[0][1]};for(var i=0,o=null,l=0;l<n.length;l++){var s=n[l],u=s.from,f=s.to,c=s.length/a;if(r>=i&&r<=i+c){var h=(r-i)/c;o=Te.pointAt(u[0],u[1],f[0],f[1],h);break}i+=c}return o}function s8(e,r){if(r>1||r<0||e.length<2)return 0;for(var t=CS(e),n=t.segments,a=t.totalLength,i=0,o=0,l=0;l<n.length;l++){var s=n[l],u=s.from,f=s.to,c=s.length/a;if(r>=i&&r<=i+c){o=Math.atan2(f[1]-u[1],f[0]-u[0]);break}i+=c}return o}function u8(e,r,t){for(var n=1/0,a=0;a<e.length-1;a++){var i=e[a],o=e[a+1],l=Te.pointDistance(i[0],i[1],o[0],o[1],r,t);l<n&&(n=l)}return n}const AS={box:function(e){for(var r=[],t=[],n=0;n<e.length;n++){var a=e[n];r.push(a[0]),t.push(a[1])}return so(r,t)},length:function(e){return o8(e)},pointAt:function(e,r){return l8(e,r)},pointDistance:function(e,r,t){return u8(e,r,t)},tangentAngle:function(e,r){return s8(e,r)}};function B0(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function uv(e,r){var t=e.get("startArrowShape"),n=e.get("endArrowShape"),a=null,i=null;return t&&(a=t.getCanvasBBox(),r=B0(r,a)),n&&(i=n.getCanvasBBox(),r=B0(r,i)),r}function c8(e){for(var r=e.attr(),t=r.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}var l=so(n,a),s=l.x,u=l.y,f=l.width,c=l.height,h={minX:s,minY:u,maxX:s+f,maxY:u+c};return h=uv(e,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function f8(e){for(var r=e.attr(),t=r.points,n=[],a=[],i=0;i<t.length;i++){var o=t[i];n.push(o[0]),a.push(o[1])}return so(n,a)}var nh=null;function xc(){if(!nh){var e=document.createElement("canvas");e.width=1,e.height=1,nh=e.getContext("2d")}return nh}function bc(e,r,t){var n=1;if(dt(e)&&(n=e.split(`
`).length),n>1){var a=h8(r,t);return r*n+a*(n-1)}return r}function h8(e,r){return r?r-e:e*.14}function p8(e,r){var t=xc(),n=0;if(Q(e)||e==="")return n;if(t.save(),t.font=r,dt(e)&&e.includes(`
`)){var a=e.split(`
`);B(a,function(i){var o=t.measureText(i).width;n<o&&(n=o)})}else n=t.measureText(e).width;return t.restore(),n}function wc(e){var r=e.fontSize,t=e.fontFamily,n=e.fontWeight,a=e.fontStyle,i=e.fontVariant;return[a,i,n,r+"px",t].join(" ").trim()}function d8(e){var r=e.attr(),t=r.x,n=r.y,a=r.text,i=r.fontSize,o=r.lineHeight,l=r.font;l||(l=wc(r));var s=p8(a,l),u;if(!s)u={x:t,y:n,width:0,height:0};else{var f=r.textAlign,c=r.textBaseline,h=bc(a,i,o),p={x:t,y:n-h};f&&(f==="end"||f==="right"?p.x-=s:f==="center"&&(p.x-=s/2)),c&&(c==="top"?p.y+=h:c==="middle"&&(p.y+=h/2)),u={x:p.x,y:p.y,width:s,height:h}}return u}var v8=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,g8=/[^\s\,]+/ig;function y8(e){var r=e||[];if(J(r))return r;if(dt(r))return r=r.match(v8),B(r,function(t,n){if(t=t.match(g8),t[0].length>1){var a=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=a}B(t,function(i,o){isNaN(i)||(t[o]=+i)}),r[n]=t}),r}function m8(e,r,t,n){var a=[],i=!!n,o,l,s,u,f,c,h;if(i){s=n[0],u=n[1];for(var p=0,d=e.length;p<d;p+=1){var v=e[p];s=Se([0,0],s,v),u=Ce([0,0],u,v)}}for(var p=0,g=e.length;p<g;p+=1){var v=e[p];if(p===0&&!t)h=v;else if(p===g-1&&!t)c=v,a.push(h),a.push(c);else{var y=[p?p-1:g-1,p-1][t?0:1];o=e[y],l=e[t?(p+1)%g:p+1];var m=[0,0];m=Da(m,l,o),m=Ne(m,m,r);var b=$i(v,o),x=$i(v,l),w=b+x;w!==0&&(b/=w,x/=w);var S=Ne([0,0],m,-b),A=Ne([0,0],m,x);c=Yr([0,0],v,S),f=Yr([0,0],v,A),f=Se([0,0],f,Ce([0,0],l,v)),f=Ce([0,0],f,Se([0,0],l,v)),S=Da([0,0],f,v),S=Ne([0,0],S,-b/x),c=Yr([0,0],v,S),c=Se([0,0],c,Ce([0,0],o,v)),c=Ce([0,0],c,Se([0,0],o,v)),A=Da([0,0],v,c),A=Ne([0,0],A,x/b),f=Yr([0,0],v,A),i&&(c=Ce([0,0],c,s),c=Se([0,0],c,u),f=Ce([0,0],f,s),f=Se([0,0],f,u)),a.push(h),a.push(c),h=f}}return t&&a.push(a.shift()),a}function x8(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!r,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var l=m8(a,.4,n,t),s=a.length,u=[],f,c,h,i=0;i<s-1;i+=1)f=l[i*2],c=l[i*2+1],h=a[i+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return n&&(f=l[s],c=l[s+1],h=a[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}var Xo=`	
\v\f\r   ᠎             　\u2028\u2029`,b8=new RegExp("([a-z])["+Xo+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Xo+"]*,?["+Xo+"]*)+)","ig"),w8=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Xo+"]*,?["+Xo+"]*","ig");function TS(e){if(!e)return null;if(J(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(b8,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace(w8,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=r[l]&&(t.push([a].concat(o.splice(0,r[l]))),!!r[l]););return""}),t}var S8=/[a-z]/;function _0(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function IS(e){var r=TS(e);if(!r||!r.length)return[["M",0,0]];for(var t=!1,n=0;n<r.length;n++){var a=r[n][0];if(S8.test(a)||["V","H","T","S"].indexOf(a)>=0){t=!0;break}}if(!t)return r;var i=[],o=0,l=0,s=0,u=0,f=0,c=r[0];(c[0]==="M"||c[0]==="m")&&(o=+c[1],l=+c[2],s=o,u=l,f++,i[0]=["M",o,l]);for(var n=f,h=r.length;n<h;n++){var p=r[n],d=i[n-1],v=[],a=p[0],g=a.toUpperCase();if(a!==g)switch(v[0]=g,g){case"A":v[1]=p[1],v[2]=p[2],v[3]=p[3],v[4]=p[4],v[5]=p[5],v[6]=+p[6]+o,v[7]=+p[7]+l;break;case"V":v[1]=+p[1]+l;break;case"H":v[1]=+p[1]+o;break;case"M":s=+p[1]+o,u=+p[2]+l,v[1]=s,v[2]=u;break;default:for(var y=1,m=p.length;y<m;y++)v[y]=+p[y]+(y%2?o:l)}else v=r[n];switch(g){case"Z":o=+s,l=+u;break;case"H":o=v[1],v=["L",o,l];break;case"V":l=v[1],v=["L",o,l];break;case"T":o=v[1],l=v[2];var b=_0([d[1],d[2]],[d[3],d[4]]);v=["Q",b[0],b[1],o,l];break;case"S":o=v[v.length-2],l=v[v.length-1];var x=d.length,w=_0([d[x-4],d[x-3]],[d[x-2],d[x-1]]);v=["C",w[0],w[1],v[1],v[2],o,l];break;case"M":s=v[v.length-2],u=v[v.length-1];break;default:o=v[v.length-2],l=v[v.length-1]}i.push(v)}return i}function bs(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function qp(e,r){return bs(e)*bs(r)?(e[0]*r[0]+e[1]*r[1])/(bs(e)*bs(r)):1}function N0(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(qp(e,r))}function Xp(e,r){return e[0]===r[0]&&e[1]===r[1]}function C8(e,r){var t=r[1],n=r[2],a=Xd(Ud(r[3]),Math.PI*2),i=r[4],o=r[5],l=e[0],s=e[1],u=r[6],f=r[7],c=Math.cos(a)*(l-u)/2+Math.sin(a)*(s-f)/2,h=-1*Math.sin(a)*(l-u)/2+Math.cos(a)*(s-f)/2,p=c*c/(t*t)+h*h/(n*n);p>1&&(t*=Math.sqrt(p),n*=Math.sqrt(p));var d=t*t*(h*h)+n*n*(c*c),v=d?Math.sqrt((t*t*(n*n)-d)/d):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*t*h/n:0,y=t?v*-n*c/t:0,m=(l+u)/2+Math.cos(a)*g-Math.sin(a)*y,b=(s+f)/2+Math.sin(a)*g+Math.cos(a)*y,x=[(c-g)/t,(h-y)/n],w=[(-1*c-g)/t,(-1*h-y)/n],S=N0([1,0],x),A=N0(x,w);return qp(x,w)<=-1&&(A=Math.PI),qp(x,w)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:m,cy:b,rx:Xp(e,[u,f])?0:t,ry:Xp(e,[u,f])?0:n,startAngle:S,endAngle:S+A,xRotation:a,arcFlag:i,sweepFlag:o}}function $0(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function ES(e){e=y8(e);for(var r=[],t=null,n=null,a=null,i=0,o=e.length,l=0;l<o;l++){var s=e[l];n=e[l+1];var u=s[0],f={command:u,prePoint:t,params:s,startTangent:null,endTangent:null};switch(u){case"M":a=[s[1],s[2]],i=l;break;case"A":var c=C8(t,s);f.arcParams=c;break}if(u==="Z")t=a,n=e[i+1];else{var h=s.length;t=[s[h-2],s[h-1]]}n&&n[0]==="Z"&&(n=e[i],r[i]&&(r[i].prePoint=t)),f.currentPoint=t,r[i]&&Xp(t,r[i].currentPoint)&&(r[i].prePoint=f.prePoint);var p=n?[n[n.length-2],n[n.length-1]]:null;f.nextPoint=p;var d=f.prePoint;if(["L","H","V"].includes(u))f.startTangent=[d[0]-t[0],d[1]-t[1]],f.endTangent=[t[0]-d[0],t[1]-d[1]];else if(u==="Q"){var v=[s[1],s[2]];f.startTangent=[d[0]-v[0],d[1]-v[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]]}else if(u==="T"){var g=r[l-1],v=$0(g.currentPoint,d);g.command==="Q"?(f.command="Q",f.startTangent=[d[0]-v[0],d[1]-v[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]]):(f.command="TL",f.startTangent=[d[0]-t[0],d[1]-t[1]],f.endTangent=[t[0]-d[0],t[1]-d[1]])}else if(u==="C"){var y=[s[1],s[2]],m=[s[3],s[4]];f.startTangent=[d[0]-y[0],d[1]-y[1]],f.endTangent=[t[0]-m[0],t[1]-m[1]],f.startTangent[0]===0&&f.startTangent[1]===0&&(f.startTangent=[y[0]-m[0],y[1]-m[1]]),f.endTangent[0]===0&&f.endTangent[1]===0&&(f.endTangent=[m[0]-y[0],m[1]-y[1]])}else if(u==="S"){var g=r[l-1],y=$0(g.currentPoint,d),m=[s[1],s[2]];g.command==="C"?(f.command="C",f.startTangent=[d[0]-y[0],d[1]-y[1]],f.endTangent=[t[0]-m[0],t[1]-m[1]]):(f.command="SQ",f.startTangent=[d[0]-m[0],d[1]-m[1]],f.endTangent=[t[0]-m[0],t[1]-m[1]])}else if(u==="A"){var b=.001,x=f.arcParams||{},w=x.cx,S=w===void 0?0:w,A=x.cy,I=A===void 0?0:A,k=x.rx,E=k===void 0?0:k,M=x.ry,O=M===void 0?0:M,F=x.sweepFlag,L=F===void 0?0:F,D=x.startAngle,_=D===void 0?0:D,z=x.endAngle,X=z===void 0?0:z;L===0&&(b*=-1);var V=E*Math.cos(_-b)+S,N=O*Math.sin(_-b)+I;f.startTangent=[V-a[0],N-a[1]];var P=E*Math.cos(_+X+b)+S,j=O*Math.sin(_+X-b)+I;f.endTangent=[d[0]-P,d[1]-j]}r.push(f)}return r}var j0=function(e,r,t){return e>=r&&e<=t};function A8(e,r,t,n){var a=.001,i={x:t.x-e.x,y:t.y-e.y},o={x:r.x-e.x,y:r.y-e.y},l={x:n.x-t.x,y:n.y-t.y},s=o.x*l.y-o.y*l.x,u=s*s,f=o.x*o.x+o.y*o.y,c=l.x*l.x+l.y*l.y,h=null;if(u>a*f*c){var p=(i.x*l.y-i.y*l.x)/s,d=(i.x*o.y-i.y*o.x)/s;j0(p,0,1)&&j0(d,0,1)&&(h={x:e.x+p*o.x,y:e.y+p*o.y})}return h}var T8=1e-6;function ah(e){return Math.abs(e)<T8?0:e<0?-1:1}function I8(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function z0(e,r,t){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],l=e[(i+1)%a];if(I8(o,l,[r,t]))return!0;ah(o[1]-t)>0!=ah(l[1]-t)>0&&ah(r-(t-o[1])*(o[0]-l[0])/(o[1]-l[1])-o[0])<0&&(n=!n)}return n}function H0(e){for(var r=[],t=e.length,n=0;n<t-1;n++){var a=e[n],i=e[n+1];r.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(r.length>1){var o=e[0],l=e[t-1];r.push({from:{x:l[0],y:l[1]},to:{x:o[0],y:o[1]}})}return r}function E8(e,r){var t=!1;return B(e,function(n){if(A8(n.from,n.to,r.from,r.to))return t=!0,!1}),t}function V0(e){var r=e.map(function(n){return n[0]}),t=e.map(function(n){return n[1]});return{minX:Math.min.apply(null,r),maxX:Math.max.apply(null,r),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function M8(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function O8(e,r){if(e.length<2||r.length<2)return!1;var t=V0(e),n=V0(r);if(!M8(t,n))return!1;var a=!1;if(B(r,function(s){if(z0(e,s[0],s[1]))return a=!0,!1}),a||(B(e,function(s){if(z0(r,s[0],s[1]))return a=!0,!1}),a))return!0;var i=H0(e),o=H0(r),l=!1;return B(o,function(s){if(E8(i,s))return l=!0,!1}),l}function k8(e,r){for(var t=[],n=[],a=[],i=0;i<e.length;i++){var o=e[i],l=o.currentPoint,s=o.params,u=o.prePoint,f=void 0;switch(o.command){case"Q":f=wS.box(u[0],u[1],s[1],s[2],s[3],s[4]);break;case"C":f=qo.box(u[0],u[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var c=o.arcParams;f=i8.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:t.push(l[0]),n.push(l[1]);break}f&&(o.box=f,t.push(f.x,f.x+f.width),n.push(f.y,f.y+f.height)),r&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&a.push(o)}t=t.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0}),n=n.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0});var h=br(t),p=br(n),d=ir(t),v=ir(n);if(a.length===0)return{x:h,y:p,width:d-h,height:v-p};for(var i=0;i<a.length;i++){var o=a[i],l=o.currentPoint,g=void 0;l[0]===h?(g=ws(o,r),h=h-g.xExtra):l[0]===d&&(g=ws(o,r),d=d+g.xExtra),l[1]===p?(g=ws(o,r),p=p-g.yExtra):l[1]===v&&(g=ws(o,r),v=v+g.yExtra)}return{x:h,y:p,width:d-h,height:v-p}}function ws(e,r){var t=e.prePoint,n=e.currentPoint,a=e.nextPoint,i=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),o=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2),l=Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2),s=Math.acos((i+o-l)/(2*Math.sqrt(i)*Math.sqrt(o)));if(!s||Math.sin(s)===0||Ae(s,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(a[1]-n[1],a[0]-n[0])),f=Math.abs(Math.atan2(a[0]-n[0],a[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,f=f>Math.PI/2?Math.PI-f:f;var c={xExtra:Math.cos(s/2-u)*(r/2*(1/Math.sin(s/2)))-r/2||0,yExtra:Math.cos(f-s/2)*(r/2*(1/Math.sin(s/2)))-r/2||0};return c}function F8(e){var r=e.attr(),t=r.path,n=r.stroke,a=n?r.lineWidth:0,i=e.get("segments")||ES(t),o=k8(i,a),l=o.x,s=o.y,u=o.width,f=o.height,c={minX:l,minY:s,maxX:l+u,maxY:s+f};return c=uv(e,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function P8(e){var r=e.attr(),t=r.x1,n=r.y1,a=r.x2,i=r.y2,o=Math.min(t,a),l=Math.max(t,a),s=Math.min(n,i),u=Math.max(n,i),f={minX:o,maxX:l,minY:s,maxY:u};return f=uv(e,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function L8(e){var r=e.attr(),t=r.x,n=r.y,a=r.rx,i=r.ry;return{x:t-a,y:n-i,width:a*2,height:i*2}}Sr("rect",yS);Sr("image",yS);Sr("circle",mS);Sr("marker",mS);Sr("polyline",c8);Sr("polygon",f8);Sr("text",d8);Sr("path",F8);Sr("line",P8);Sr("ellipse",L8);var W0=0,R8=1/2,D8=1/2,B8=.05,Sc=function(){function e(r){var t=r.xField,n=r.yField,a=r.adjustNames,i=a===void 0?["x","y"]:a,o=r.dimValuesMap;this.adjustNames=i,this.xField=t,this.yField=n,this.dimValuesMap=o}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var a=this.yField,i=n.indexOf(t),o=n.length,l,s;return!a&&this.isAdjust("y")?(l=0,s=1):o>1?(l=n[i===0?0:i-1],s=n[i===o-1?o-1:i+1],i!==0?l+=(t-l)/2:l-=(s-t)/2,i!==o-1?s-=(s-t)/2:s+=(t-n[o-2])/2):(l=t===0?0:t-.5,s=t===0?1:t+.5),{pre:l,next:s}},e.prototype.adjustData=function(r,t){var n=this,a=this.getDimValues(t);B(r,function(i,o){B(a,function(l,s){n.adjustDim(s,l,i,o)})})},e.prototype.groupData=function(r,t){return B(r,function(n){n[t]===void 0&&(n[t]=W0)}),er(r,t)},e.prototype.adjustDim=function(r,t,n,a){},e.prototype.getDimValues=function(r){var t=this,n=t.xField,a=t.yField,i=Nt({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),a&&this.isAdjust("y")&&o.push(a),o.forEach(function(s){i&&i[s]||(i[s]=Lr(r,s).sort(function(u,f){return u-f}))}),!a&&this.isAdjust("y")){var l="y";i[l]=[W0,1]}return i},e}(),MS={},OS=function(e){return MS[e.toLowerCase()]},Cc=function(e,r){if(OS(e))throw new Error("Adjust type '"+e+"' existed.");MS[e.toLowerCase()]=r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Up=function(e,r){return Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},Up(e,r)};function Ac(e,r){Up(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var qr=function(){return qr=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},qr.apply(this,arguments)},_8=function(e){Ac(r,e);function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var a=t.marginRatio,i=a===void 0?R8:a,o=t.dodgeRatio,l=o===void 0?D8:o,s=t.dodgeBy,u=t.intervalPadding,f=t.dodgePadding,c=t.xDimensionLength,h=t.groupNum,p=t.defaultSize,d=t.maxColumnWidth,v=t.minColumnWidth,g=t.columnWidthRatio,y=t.customOffset;return n.marginRatio=i,n.dodgeRatio=l,n.dodgeBy=s,n.intervalPadding=u,n.dodgePadding=f,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=p,n.maxColumnWidth=d,n.minColumnWidth=v,n.columnWidthRatio=g,n.customOffset=y,n}return r.prototype.process=function(t){var n=_e(t),a=ar(n),i=this.dodgeBy,o=i?xz(a,i):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=a,this.adjustData(o,a),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,a,i){var o=this,l=this.customOffset,s=this.getDistribution(t),u=this.groupData(a,t);return B(u,function(f,c){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=o.getAdjustRange(t,parseFloat(c),n),B(f,function(p){var d=p[t],v=s[d],g=v.indexOf(i);if(Q(l))p[t]=o.getDodgeOffset(h,g,v.length);else{var y=h.pre,m=h.next;p[t]=lt(l)?l(p,h):(y+m)/2+l}})}),[]},r.prototype.getDodgeOffset=function(t,n,a){var i=this,o=i.dodgeRatio,l=i.marginRatio,s=i.intervalPadding,u=i.dodgePadding,f=t.pre,c=t.next,h=c-f,p;if(!Q(s)&&Q(u)&&s>=0){var d=this.getIntervalOnlyOffset(a,n);p=f+d}else if(!Q(u)&&Q(s)&&u>=0){var d=this.getDodgeOnlyOffset(a,n);p=f+d}else if(!Q(s)&&!Q(u)&&s>=0&&u>=0){var d=this.getIntervalAndDodgeOffset(a,n);p=f+d}else{var v=h*o/a,g=l*v,d=1/2*(h-a*v-(a-1)*g)+((n+1)*v+n*g)-1/2*v-1/2*h;p=(f+c)/2+d}return p},r.prototype.getIntervalOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.intervalPadding,l=a.xDimensionLegenth,s=a.groupNum,u=a.dodgeRatio,f=a.maxColumnWidth,c=a.minColumnWidth,h=a.columnWidthRatio,p=o/l,d=(1-(s-1)*p)/s*u/(t-1),v=((1-p*(s-1))/s-d*(t-1))/t;if(v=Q(h)?v:1/s/t*h,!Q(f)){var g=f/l;v=Math.min(v,g)}if(!Q(c)){var y=c/l;v=Math.max(v,y)}v=i?i/l:v,d=((1-(s-1)*p)/s-t*v)/(t-1);var m=((1/2+n)*v+n*d+1/2*p)*s-p/2;return m},r.prototype.getDodgeOnlyOffset=function(t,n){var a=this,i=a.defaultSize,o=a.dodgePadding,l=a.xDimensionLegenth,s=a.groupNum,u=a.marginRatio,f=a.maxColumnWidth,c=a.minColumnWidth,h=a.columnWidthRatio,p=o/l,d=1*u/(s-1),v=((1-d*(s-1))/s-p*(t-1))/t;if(v=h?1/s/t*h:v,!Q(f)){var g=f/l;v=Math.min(v,g)}if(!Q(c)){var y=c/l;v=Math.max(v,y)}v=i?i/l:v,d=(1-(v*t+p*(t-1))*s)/(s-1);var m=((1/2+n)*v+n*p+1/2*d)*s-d/2;return m},r.prototype.getIntervalAndDodgeOffset=function(t,n){var a=this,i=a.intervalPadding,o=a.dodgePadding,l=a.xDimensionLegenth,s=a.groupNum,u=i/l,f=o/l,c=((1-u*(s-1))/s-f*(t-1))/t,h=((1/2+n)*c+n*f+1/2*u)*s-u/2;return h},r.prototype.getDistribution=function(t){var n=this.adjustDataArray,a=this.cacheMap,i=a[t];return i||(i={},B(n,function(o,l){var s=Lr(o,t);s.length||s.push(0),B(s,function(u){i[u]||(i[u]=[]),i[u].push(l)})}),a[t]=i),i},r}(Sc);function N8(e,r){return(r-e)*Math.random()+e}var $8=function(e){Ac(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=_e(t),a=ar(n);return this.adjustData(n,a),n},r.prototype.adjustDim=function(t,n,a){var i=this,o=this.groupData(a,t);return B(o,function(l,s){return i.adjustGroup(l,t,parseFloat(s),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,a=t.next,i=(a-n)*B8;return N8(n+i,a-i)},r.prototype.adjustGroup=function(t,n,a,i){var o=this,l=this.getAdjustRange(n,a,i);return B(t,function(s){s[n]=o.getAdjustOffset(l)}),t},r}(Sc),ih=_z,j8=function(e){Ac(r,e);function r(t){var n=e.call(this,t)||this,a=t.adjustNames,i=a===void 0?["y"]:a,o=t.height,l=o===void 0?NaN:o,s=t.size,u=s===void 0?10:s,f=t.reverseOrder,c=f===void 0?!1:f;return n.adjustNames=i,n.height=l,n.size=u,n.reverseOrder=c,n}return r.prototype.process=function(t){var n=this,a=n.yField,i=n.reverseOrder,o=a?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,a=n.xField,i=n.yField,o=n.reverseOrder,l=o?this.reverse(t):t,s=new ih,u=new ih;return l.map(function(f){return f.map(function(c){var h,p=$(c,a,0),d=$(c,[i]),v=p.toString();if(d=J(d)?d[1]:d,!Q(d)){var g=d>=0?s:u;g.has(v)||g.set(v,0);var y=g.get(v),m=d+y;return g.set(v,m),qr(qr({},c),(h={},h[i]=[y,m],h))}return c})})},r.prototype.processOneDimStack=function(t){var n=this,a=this,i=a.xField,o=a.height,l=a.reverseOrder,s="y",u=l?this.reverse(t):t,f=new ih;return u.map(function(c){return c.map(function(h){var p,d=n.size,v=h[i],g=d*2/o;f.has(v)||f.set(v,g/2);var y=f.get(v);return f.set(v,y+g),qr(qr({},h),(p={},p[s]=y,p))})})},r}(Sc),z8=function(e){Ac(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=ar(t),a=this,i=a.xField,o=a.yField,l=this.getXValuesMaxMap(n),s=Math.max.apply(Math,Object.keys(l).map(function(u){return l[u]}));return Gt(t,function(u){return Gt(u,function(f){var c,h,p=f[o],d=f[i];if(J(p)){var v=(s-l[d])/2;return qr(qr({},f),(c={},c[o]=Gt(p,function(y){return v+y}),c))}var g=(s-p)/2;return qr(qr({},f),(h={},h[o]=[g,p+g],h))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,a=this,i=a.xField,o=a.yField,l=er(t,function(s){return s[i]});return Lz(l,function(s){return n.getDimMaxValue(s,o)})},r.prototype.getDimMaxValue=function(t,n){var a=Gt(t,function(o){return $(o,n,[])}),i=ar(a);return Math.max.apply(Math,i)},r}(Sc);Cc("Dodge",_8);Cc("Jitter",$8);Cc("Stack",j8);Cc("Symmetric",z8);var G0=function(e,r){return dt(r)?r:e.invert(e.scale(r))},$l=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=t.map(function(i,o){return r._toOriginParam(i,r.scales[o])});return this.callback.apply(this,a)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),a=t*r-n,i=this.values[n],o=n===t?i:this.values[n+1];return i+(o-i)*a},e.prototype.getNames=function(){for(var r=this.scales,t=this.names,n=Math.min(r.length,t.length),a=[],i=0;i<n;i+=1)a.push(t[i]);return a},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(a,i){var o=r.scales[i];return o.type==="identity"?o.values[0]:r._getAttributeValue(o,a)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,a=n===void 0?"base":n,i=r.names,o=i===void 0?[]:i,l=r.scales,s=l===void 0?[]:l,u=r.values,f=u===void 0?[]:u,c=r.callback;this.type=a,this.scales=s,this.values=f,this.names=o,this.callback=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];if(c){var d=c.apply(void 0,h);if(!Q(d))return[d]}return t.defaultCallback.apply(t,h)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var a=r.scale(t);return this.getLinearValue(a)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:J(r)?r.map(function(n){return G0(t,n)}):G0(t,r)},e}(),H8=/rgba?\(([\s.,0-9]+)\)/,V8=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,W8=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,G8=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Y8=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},q8=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e},oh=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function kS(e){return"#"+lh(e[0])+lh(e[1])+lh(e[2])}var FS=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},lh=function(e){var r=Math.round(e).toString(16);return r.length===1?"0"+r:r},X8=function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,a=Math.floor(n*t),i=n*t-a,o=e[a],l=a===n?o:e[a+1];return kS([oh(o,l,i,0),oh(o,l,i,1),oh(o,l,i,2)])},Ss,PS=function(e){if(e[0]==="#"&&e.length===7)return e;Ss||(Ss=q8()),Ss.style.color=e;var r=document.defaultView.getComputedStyle(Ss,"").getPropertyValue("color"),t=H8.exec(r),n=t[1].split(/\s*,\s*/).map(function(a){return Number(a)});return r=kS(n),r},U8=function(e){var r=dt(e)?e.split("-"):e,t=Gt(r,function(n){return FS(n.indexOf("#")===-1?PS(n):n)});return function(n){return X8(t,n)}},K8=function(e){if(Y8(e)){var r,t=void 0;if(e[0]==="l"){var n=V8.exec(e),a=+n[1]+90;t=n[2],r="linear-gradient("+a+"deg, "}else if(e[0]==="r"){r="radial-gradient(";var n=W8.exec(e);t=n[4]}var i=t.match(G8);return B(i,function(o,l){var s=o.split(":");r+=s[1]+" "+s[0]*100+"%",l!==i.length-1&&(r+=", ")}),r+=")",r}return e};const qn={rgb2arr:FS,gradient:U8,toRGB:lo(PS),toCSSGradient:K8};var Z8=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],dt(n.values)&&(n.linear=!0),n.gradient=qn.gradient(n.values),n}return r.prototype.getLinearValue=function(t){return this.gradient(t)},r}($l),Q8=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return r}($l),J8=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return r.prototype.mapping=function(t,n){var a=this.scales,i=a[0],o=a[1];return Q(t)||Q(n)?[]:[J(t)?t.map(function(l){return i.scale(l)}):i.scale(t),J(n)?n.map(function(l){return o.scale(l)}):o.scale(n)]},r}($l),tW=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}($l),eW=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return r}($l),LS={};function rW(e){return LS[e]}function rn(e,r){LS[e]=r}var cv=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){Nt(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return Gt(this.ticks,function(t,n){return Bt(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,a=n?n(r,t):r;return Q(a)||!lt(a.toString)?"":a.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){Nt(this,this.__cfg__),this.setDomain(),Ue(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if(dt(r)){var n=rW(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else lt(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return mt(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}(),Tc=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=mt(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,a=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},r.prototype.getText=function(t){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=t;return mt(t)&&!this.values.includes(t)&&(i=this.values[i]),e.prototype.getText.apply(this,ll([i],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if(Q(this.getConfig("min"))&&(this.min=0),Q(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(cv),RS=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ln="\\d\\d?",Mn="\\d\\d",nW="\\d{3}",aW="\\d{4}",Uo="[^\\s]+",DS=/\[([^]*?)\]/gm;function BS(e,r){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n].substr(0,r));return t}var Y0=function(e){return function(r,t){var n=t[e].map(function(i){return i.toLowerCase()}),a=n.indexOf(r.toLowerCase());return a>-1?a:null}};function ta(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,a=r;n<a.length;n++){var i=a[n];for(var o in i)e[o]=i[o]}return e}var _S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],NS=["January","February","March","April","May","June","July","August","September","October","November","December"],iW=BS(NS,3),oW=BS(_S,3),fv={dayNamesShort:oW,dayNames:_S,monthNamesShort:iW,monthNames:NS,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Ou=ta({},fv),$S=function(e){return Ou=ta(Ou,e)},q0=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},je=function(e,r){for(r===void 0&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},lW={D:function(e){return String(e.getDate())},DD:function(e){return je(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return je(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return je(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return je(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return je(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return je(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return je(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return je(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return je(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return je(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return je(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+je(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+je(Math.floor(Math.abs(r)/60),2)+":"+je(Math.abs(r)%60,2)}},X0=function(e){return+e-1},U0=[null,Ln],K0=[null,Uo],Z0=["isPm",Uo,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],Q0=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?t:-t}return 0}],sW={D:["day",Ln],DD:["day",Mn],Do:["day",Ln+Uo,function(e){return parseInt(e,10)}],M:["month",Ln,X0],MM:["month",Mn,X0],YY:["year",Mn,function(e){var r=new Date,t=+(""+r.getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",Ln,void 0,"isPm"],hh:["hour",Mn,void 0,"isPm"],H:["hour",Ln],HH:["hour",Mn],m:["minute",Ln],mm:["minute",Mn],s:["second",Ln],ss:["second",Mn],YYYY:["year",aW],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",Mn,function(e){return+e*10}],SSS:["millisecond",nW],d:U0,dd:U0,ddd:K0,dddd:K0,MMM:["month",Uo,Y0("monthNamesShort")],MMMM:["month",Uo,Y0("monthNames")],a:Z0,A:Z0,ZZ:Q0,Z:Q0},ku={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},jS=function(e){return ta(ku,e)},zS=function(e,r,t){if(r===void 0&&(r=ku.default),t===void 0&&(t={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");r=ku[r]||r;var n=[];r=r.replace(DS,function(i,o){return n.push(o),"@@@"});var a=ta(ta({},Ou),t);return r=r.replace(RS,function(i){return lW[i](e,a)}),r.replace(/@@@/g,function(){return n.shift()})};function HS(e,r,t){if(t===void 0&&(t={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=ku[r]||r,e.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],l=r.replace(DS,function(x,w){return o.push(q0(w)),"@@@"}),s={},u={};l=q0(l).replace(RS,function(x){var w=sW[x],S=w[0],A=w[1],I=w[3];if(s[S])throw new Error("Invalid format. "+S+" specified twice in format");return s[S]=!0,I&&(u[I]=!0),i.push(w),"("+A+")"}),Object.keys(u).forEach(function(x){if(!s[x])throw new Error("Invalid format. "+x+" is required in specified format")}),l=l.replace(/@@@/g,function(){return o.shift()});var f=e.match(new RegExp(l,"i"));if(!f)return null;for(var c=ta(ta({},Ou),t),h=1;h<f.length;h++){var p=i[h-1],d=p[0],v=p[2],g=v?v(f[h],c):+f[h];if(g==null)return null;a[d]=g}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var y;if(a.timezoneOffset==null){y=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var m=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,b=m.length;h<b;h++)if(s[m[h][0]]&&a[m[h][0]]!==y[m[h][1]]())return null}else if(y=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return y}var VS={format:zS,parse:HS,defaultI18n:fv,setGlobalDateI18n:$S,setGlobalDateMasks:jS};const uW=Object.freeze(Object.defineProperty({__proto__:null,assign:ta,default:VS,defaultI18n:fv,format:zS,parse:HS,setGlobalDateI18n:$S,setGlobalDateMasks:jS},Symbol.toStringTag,{value:"Module"}));function cW(e){return function(r,t,n,a){for(var i=Q(n)?0:n,o=Q(a)?r.length:a;i<o;){var l=i+o>>>1;e(r[l])>t?o=l:i=l+1}return i}}var J0="format";function WS(e,r){var t=uW[J0]||VS[J0];return t(e,r)}function Fu(e){return dt(e)&&(e.indexOf("T")>0?e=new Date(e).getTime():e=new Date(e.replace(/-/gi,"/")).getTime()),L1(e)&&(e=e.getTime()),e}var Er=1e3,_a=60*Er,Na=60*_a,hn=24*Na,Ko=hn*31,tx=hn*365,Ao=[["HH:mm:ss",Er],["HH:mm:ss",Er*10],["HH:mm:ss",Er*30],["HH:mm",_a],["HH:mm",_a*10],["HH:mm",_a*30],["HH",Na],["HH",Na*6],["HH",Na*12],["YYYY-MM-DD",hn],["YYYY-MM-DD",hn*4],["YYYY-WW",hn*7],["YYYY-MM",Ko],["YYYY-MM",Ko*4],["YYYY-MM",Ko*6],["YYYY",hn*380]];function fW(e,r,t){var n=(r-e)/t,a=cW(function(o){return o[1]})(Ao,n)-1,i=Ao[a];return a<0?i=Ao[0]:a>=Ao.length&&(i=he(Ao)),i}var hW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="timeCat",t}return r.prototype.translate=function(t){t=Fu(t);var n=this.values.indexOf(t);return n===-1&&(mt(t)&&t<this.values.length?n=t:n=NaN),n},r.prototype.getText=function(t,n){var a=this.translate(t);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):WS(i,this.mask),i}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;B(t,function(n,a){t[a]=Fu(n)}),t.sort(function(n,a){return n-a}),e.prototype.setDomain.call(this)},r}(Tc),Ic=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return r.prototype.scale=function(t){if(Q(t))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var l=this.getScalePercent(t);return n+l*(a-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=tr(t),a=he(t);n<this.min&&(this.min=n),a>this.max&&(this.max=a),Q(this.minLimit)||(this.min=n),Q(this.maxLimit)||(this.max=a)},r.prototype.setDomain=function(){var t=O1(this.values),n=t.min,a=t.max;Q(this.min)&&(this.min=n),Q(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=Ee(n,function(a){return a>=t.min&&a<=t.max})),n},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;return(t-a)/(n-a)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(cv),Ec=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Ic);function Nn(e,r){var t=Math.E,n;return r>=0?n=Math.pow(t,Math.log(r)/e):n=Math.pow(t,Math.log(-r)/e)*-1,n}function gr(e,r){return e===1?1:Math.log(r)/Math.log(e)}function GS(e,r,t){Q(t)&&(t=Math.max.apply(null,e));var n=t;return B(e,function(a){a>0&&a<n&&(n=a)}),n===t&&(n=t/r),n>1&&(n=1),n}var pW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="log",t}return r.prototype.invert=function(t){var n=this.base,a=gr(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,l,s=this.positiveMin;if(s){if(t===0)return 0;l=gr(n,s/n);var u=1/(a-l)*o;if(t<u)return t/u*s}else l=gr(n,this.min);var f=(t-i)/o,c=f*(a-l)+l;return Math.pow(n,c)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=GS(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a||t<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var l;return t<o?l=t/o/(gr(i,n)-gr(i,a)):l=(gr(i,t)-gr(i,a))/(gr(i,n)-gr(i,a)),l},r}(Ic),dW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pow",t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t),a=this.exponent,i=Nn(a,this.max),o=Nn(a,this.min),l=n*(i-o)+o,s=l>=0?1:-1;return Math.pow(l,a)*s},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(Nn(i,t)-Nn(i,a))/(Nn(i,n)-Nn(i,a));return o},r}(Ic),vW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="time",t}return r.prototype.getText=function(t,n){var a=this.translate(t),i=this.formatter;return i?i(a,n):WS(a,this.mask)},r.prototype.scale=function(t){var n=t;return(dt(n)||L1(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return Fu(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!Q(n)||!mt(n))&&(this.min=this.translate(this.min)),(!Q(a)||!mt(a))&&(this.max=this.translate(this.max)),t&&t.length){var i=[],o=1/0,l=o,s=0;B(t,function(u){var f=Fu(u);if(isNaN(f))throw new TypeError("Invalid Time: "+u+" in time scale!");o>f?(l=o,o=f):l>f&&(l=f),s<f&&(s=f),i.push(f)}),t.length>1&&(this.minTickInterval=l-o),Q(n)&&(this.min=o),Q(a)&&(this.max=s)}},r}(Ec),YS=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantize",t}return r.prototype.invert=function(t){var n=this.ticks,a=n.length,i=this.getInvertPercent(t),o=Math.floor(i*(a-1));if(o>=a-1)return he(n);if(o<0)return tr(n);var l=n[o],s=n[o+1],u=o/(a-1),f=(o+1)/(a-1);return l+(i-u)/(f-u)*(s-l)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||(he(t)!==this.max&&t.push(this.max),tr(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<tr(n))return 0;if(t>he(n))return 1;var a=0;return B(n,function(i,o){if(t>=i)a=o;else return!1}),a/(n.length-1)},r}(Ic),gW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantile",t}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(YS),qS={};function Kp(e){return qS[e]}function nn(e,r){if(Kp(e))throw new Error("type '"+e+"' existed.");qS[e]=r}var yW=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&mt(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(cv);function XS(e){var r=e.values,t=e.tickInterval,n=e.tickCount,a=e.showLast;if(mt(t)){var i=Ee(r,function(d,v){return v%t===0}),o=he(r);return a&&he(i)!==o&&i.push(o),i}var l=r.length,s=e.min,u=e.max;if(Q(s)&&(s=0),Q(u)&&(u=r.length-1),!mt(n)||n>=l)return r.slice(s,u+1);if(n<=0||u<=0)return[];for(var f=n===1?l:Math.floor(l/(n-1)),c=[],h=s,p=0;p<n&&!(h>=u);p++)h=Math.min(s+p*f,u),p===n-1&&a?c.push(r[u]):c.push(r[h]);return c}function mW(e){var r=e.min,t=e.max,n=e.nice,a=e.tickCount,i=new xW;return i.domain([r,t]),n&&i.nice(a),i.ticks(a)}var sh=5,ex=Math.sqrt(50),rx=Math.sqrt(10),nx=Math.sqrt(2),xW=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;r===void 0&&(r=sh);var a=this._domain.slice(),i=0,o=this._domain.length-1,l=this._domain[i],s=this._domain[o],u;return s<l&&(t=[s,l],l=t[0],s=t[1],n=[o,i],i=n[0],o=n[1]),u=eu(l,s,r),u>0?(l=Math.floor(l/u)*u,s=Math.ceil(s/u)*u,u=eu(l,s,r)):u<0&&(l=Math.ceil(l*u)/u,s=Math.floor(s*u)/u,u=eu(l,s,r)),u>0?(a[i]=Math.floor(l/u)*u,a[o]=Math.ceil(s/u)*u,this.domain(a)):u<0&&(a[i]=Math.ceil(l*u)/u,a[o]=Math.floor(s*u)/u,this.domain(a)),this},e.prototype.ticks=function(r){return r===void 0&&(r=sh),bW(this._domain[0],this._domain[this._domain.length-1],r||sh)},e}();function bW(e,r,t){var n,a=-1,i,o,l;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(i=e,e=r,r=i),(l=eu(e,r,t))===0||!isFinite(l))return[];if(l>0)for(e=Math.ceil(e/l),r=Math.floor(r/l),o=new Array(i=Math.ceil(r-e+1));++a<i;)o[a]=(e+a)*l;else for(e=Math.floor(e*l),r=Math.ceil(r*l),o=new Array(i=Math.ceil(e-r+1));++a<i;)o[a]=(e-a)/l;return n&&o.reverse(),o}function eu(e,r,t){var n=(r-e)/Math.max(0,t),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=ex?10:i>=rx?5:i>=nx?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=ex?10:i>=rx?5:i>=nx?2:1)}function ax(e,r,t){var n;return t==="ceil"?n=Math.ceil(e/r):t==="floor"?n=Math.floor(e/r):n=Math.round(e/r),n*r}function hv(e,r,t){var n=ax(e,t,"floor"),a=ax(r,t,"ceil");n=Uf(n,t),a=Uf(a,t);for(var i=[],o=Math.max((a-n)/(Math.pow(2,12)-1),t),l=n;l<=a;l=l+o){var s=Uf(l,o);i.push(s)}return{min:n,max:a,ticks:i}}function pv(e,r,t){var n,a=e.minLimit,i=e.maxLimit,o=e.min,l=e.max,s=e.tickCount,u=s===void 0?5:s,f=Q(a)?Q(r)?o:r:a,c=Q(i)?Q(t)?l:t:i;if(f>c&&(n=[f,c],c=n[0],f=n[1]),u<=2)return[f,c];for(var h=(c-f)/(u-1),p=[],d=0;d<u;d++)p.push(f+h*d);return p}function wW(e){var r=e.min,t=e.max,n=e.tickInterval,a=e.minLimit,i=e.maxLimit,o=mW(e);return!Q(a)||!Q(i)?pv(e,tr(o),he(o)):n?hv(r,t,n).ticks:o}function wa(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var SW=[1,5,2,2.5,4,3],ix=Number.EPSILON*100;function CW(e,r){return(e%r+r)%r}function AW(e){return Math.round(e*1e12)/1e12}function TW(e,r,t,n,a,i){var o=me(r),l=_1(r,e),s=0,u=CW(n,i);return(u<ix||i-u<ix)&&n<=0&&a>=0&&(s=1),1-l/(o-1)-t+s}function IW(e,r,t){var n=me(r),a=_1(r,e),i=1;return 1-a/(n-1)-t+i}function EW(e,r,t,n,a,i){var o=(e-1)/(i-a),l=(r-1)/(Math.max(i,n)-Math.min(t,a));return 2-Math.max(o/l,l/o)}function MW(e,r){return e>=r?2-(e-1)/(r-1):1}function OW(e,r,t,n){var a=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*a,2)}function kW(e,r,t){var n=r-e;if(t>n){var a=(t-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function FW(){return 1}function PW(e,r,t,n,a,i){t===void 0&&(t=5),n===void 0&&(n=!0),a===void 0&&(a=SW),i===void 0&&(i=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||typeof e!="number"||typeof r!="number"||!o)return{min:0,max:0,ticks:[]};if(r-e<1e-15||o===1)return{min:e,max:r,ticks:[e]};if(r-e>1e148){var l=t||5,s=(r-e)/l;return{min:e,max:r,ticks:Array(l).fill(null).map(function(P,j){return wa(e+s*j)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var c=0;c<a.length;c+=1){var h=a[c],p=IW(h,a,f);if(i[0]*p+i[1]+i[2]+i[3]<u.score){f=1/0;break}for(var d=2;d<1/0;){var v=MW(d,o);if(i[0]*p+i[1]+i[2]*v+i[3]<u.score)break;for(var g=(r-e)/(d+1)/f/h,y=Math.ceil(Math.log10(g));y<1/0;){var m=f*h*Math.pow(10,y),b=kW(e,r,m*(d-1));if(i[0]*p+i[1]*b+i[2]*v+i[3]<u.score)break;var x=Math.floor(r/m)*f-(d-1)*f,w=Math.ceil(e/m)*f;if(x<=w)for(var l=w-x,S=0;S<=l;S+=1){var A=x+S,I=A*(m/f),k=I+m*(d-1),E=m,M=TW(h,a,f,I,k,E),O=OW(e,r,I,k),F=EW(d,o,e,r,I,k),L=FW(),D=i[0]*M+i[1]*O+i[2]*F+i[3]*L;D>u.score&&(!n||I<=e&&k>=r)&&(u.lmin=I,u.lmax=k,u.lstep=E,u.score=D)}y+=1}d+=1}}f+=1}var _=wa(u.lmax),z=wa(u.lmin),X=wa(u.lstep),V=Math.floor(AW((_-z)/X))+1,N=new Array(V);N[0]=wa(z);for(var c=1;c<V;c++)N[c]=wa(N[c-1]+X);return{min:Math.min(e,tr(N)),max:Math.max(r,he(N)),ticks:N}}function LW(e){var r=e.min,t=e.max,n=e.tickCount,a=e.nice,i=e.tickInterval,o=e.minLimit,l=e.maxLimit,s=PW(r,t,n,a).ticks;return!Q(o)||!Q(l)?pv(e,tr(s),he(s)):i?hv(r,t,i).ticks:s}function RW(e){var r=e.base,t=e.tickCount,n=e.min,a=e.max,i=e.values,o,l=gr(r,a);if(n>0)o=Math.floor(gr(r,n));else{var s=GS(i,r,a);o=Math.floor(gr(r,s))}for(var u=l-o,f=Math.ceil(u/t),c=[],h=o;h<l+f;h=h+f)c.push(Math.pow(r,h));return n<=0&&c.unshift(0),c}function US(e,r,t){if(t===void 0&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(n===0)return{max:r,min:e,ticks:[]};var a=1.5,i=.5+1.5*a,o=r-e,l=o/n,s=Math.pow(10,Math.floor(Math.log10(l))),u=s;2*s-l<a*(l-u)&&(u=2*s,5*s-l<i*(l-u)&&(u=5*s,10*s-l<a*(l-u)&&(u=10*s)));for(var f=Math.ceil(r/u),c=Math.floor(e/u),h=Math.max(f*u,r),p=Math.min(c*u,e),d=Math.floor((h-p)/u)+1,v=new Array(d),g=0;g<d;g++)v[g]=wa(p+g*u);return{min:p,max:h,ticks:v}}function DW(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(Nn(r,e.max)),a=Math.floor(Nn(r,e.min)),i=US(a,n,t).ticks;return i.map(function(o){var l=o>=0?1:-1;return Math.pow(o,r)*l})}function BW(e,r){var t=e.length*r;return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function _W(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(l,s){return l-s}),a=[],i=0;i<r;i++){var o=i/(r-1);a.push(BW(n,o))}return a}function NW(e){var r=e.min,t=e.max,n=e.tickCount,a=e.tickInterval,i=e.minLimit,o=e.maxLimit,l=US(r,t,n).ticks;return!Q(i)||!Q(o)?pv(e,tr(l),he(l)):a?hv(r,t,a).ticks:l}function $W(e){var r=e.min,t=e.max,n=e.minTickInterval,a=e.tickInterval,i=e.tickCount;if(a)i=Math.ceil((t-r)/a);else{a=fW(r,t,i)[1];var o=(t-r)/a,l=o/i;l>1&&(a=a*Math.ceil(l)),n&&a<n&&(a=n)}a=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),a);for(var s=[],u=r;u<t+a;u+=a)s.push(u);return s}function jW(e){var r=XS(T({showLast:!0},e));return r}function Pu(e){return new Date(e).getFullYear()}function zW(e){return new Date(e,0,1).getTime()}function Zp(e){return new Date(e).getMonth()}function HW(e,r){var t=Pu(e),n=Pu(r),a=Zp(e),i=Zp(r);return(n-t)*12+(i-a)%12}function VW(e,r){return new Date(e,r,1).getTime()}function WW(e,r){return Math.ceil((r-e)/hn)}function GW(e,r){return Math.ceil((r-e)/Na)}function YW(e,r){return Math.ceil((r-e)/(60*1e3))}function qW(e){var r=e.min,t=e.max,n=e.minTickInterval,a=e.tickCount,i=e.tickInterval,o=[];i||(i=(t-r)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),i);var l=Pu(r);if(i>tx)for(var s=Pu(t),u=Math.ceil(i/tx),f=l;f<=s+u;f=f+u)o.push(zW(f));else if(i>Ko)for(var c=Math.ceil(i/Ko),h=Zp(r),p=HW(r,t),f=0;f<=p+c;f=f+c)o.push(VW(l,f+h));else if(i>hn)for(var d=new Date(r),v=d.getFullYear(),g=d.getMonth(),y=d.getDate(),m=Math.ceil(i/hn),b=WW(r,t),f=0;f<b+m;f=f+m)o.push(new Date(v,g,y+f).getTime());else if(i>Na)for(var d=new Date(r),v=d.getFullYear(),g=d.getMonth(),m=d.getDate(),x=d.getHours(),w=Math.ceil(i/Na),S=GW(r,t),f=0;f<=S+w;f=f+w)o.push(new Date(v,g,m,x+f).getTime());else if(i>_a)for(var A=YW(r,t),I=Math.ceil(i/_a),f=0;f<=A+I;f=f+I)o.push(r+f*_a);else{var k=i;k<Er&&(k=Er);for(var E=Math.floor(r/Er)*Er,M=Math.ceil((t-r)/Er),O=Math.ceil(k/Er),f=0;f<M+O;f=f+O)o.push(E+f*Er)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}rn("cat",XS);rn("time-cat",jW);rn("wilkinson-extended",LW);rn("r-pretty",NW);rn("time",$W);rn("time-pretty",qW);rn("log",RW);rn("pow",DW);rn("quantile",_W);rn("d3-linear",wW);nn("cat",Tc);nn("category",Tc);nn("identity",yW);nn("linear",Ec);nn("log",pW);nn("pow",dW);nn("time",vW);nn("timeCat",hW);nn("quantize",YS);nn("quantile",gW);var KS={},ZS=function(e){return KS[e.toLowerCase()]},jl=function(e,r){if(ZS(e))throw new Error("Attribute type '".concat(e,"' existed."));KS[e.toLowerCase()]=r};jl("Color",Z8);jl("Opacity",Q8);jl("Position",J8);jl("Shape",tW);jl("Size",eW);var dv=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=r.start,n=r.end,a=r.matrix,i=a===void 0?[1,0,0,0,1,0,0,0,1]:a,o=r.isTransposed,l=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=i,this.originalMatrix=pt([],i),this.isTransposed=l}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){Nt(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),i+r*(o-i)},e.prototype.invertDim=function(r,t){var n,a=this[t],i=a.start,o=a.end;return this.isReflect(t)&&(n=[o,i],i=n[0],o=n[1]),(r-i)/(o-i)},e.prototype.applyMatrix=function(r,t,n){n===void 0&&(n=0);var a=this.matrix,i=[r,t,n];return ul(i,i,a),i},e.prototype.invertMatrix=function(r,t,n){n===void 0&&(n=0);var a=this.matrix,i=wH([0,0,0,0,0,0,0,0,0],a),o=[r,t,n];return i&&ul(o,o,i),o},e.prototype.convert=function(r){var t=this.convertPoint(r),n=t.x,a=t.y,i=this.applyMatrix(n,a,1);return{x:i[0],y:i[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return yi(t,t,[-n.x,-n.y]),ev(t,t,r),yi(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return r==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,a=this.center;return yi(n,n,[-a.x,-a.y]),Z1(n,n,[r,t]),yi(n,n,[a.x,a.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return yi(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return r==="x"?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||pt([],this.originalMatrix)},e}(),QS=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:this.convertDim(a,"x"),y:this.convertDim(i,"y")}},r.prototype.invertPoint=function(t){var n,a=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=[i,a],a=n[0],i=n[1]),{x:a,y:i}},r}(dv),XW=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var a=t.startAngle,i=a===void 0?1.25*Math.PI:a,o=t.endAngle,l=o===void 0?7.25*Math.PI:o,s=t.innerRadius,u=s===void 0?0:s,f=t.radius;return n.startAngle=i,n.endAngle=l,n.innerRadius=u,n.radius=f,n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},r.prototype.convertPoint=function(t){var n,a=t.x,i=t.y;this.isTransposed&&(n=[i,a],a=n[0],i=n[1]);var o=this.convertDim(a,"x"),l=this.a*o,s=this.convertDim(i,"y");return{x:this.center.x+Math.cos(o)*(l+s),y:this.center.y+Math.sin(o)*(l+s)}},r.prototype.invertPoint=function(t){var n,a=this.d+this.y.start,i=U1([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=rv(i,[1,0],!0),l=o*this.a;Si(i)<l&&(l=Si(i));var s=Math.floor((Si(i)-l)/a);o=2*s*Math.PI+o;var u=this.a*o,f=Si(i)-u;f=Ae(f,0)?0:f;var c=this.invertDim(o,"x"),h=this.invertDim(f,"y");return c=Ae(c,0)?0:c,h=Ae(h,0)?0:h,this.isTransposed&&(n=[h,c],c=n[0],h=n[1]),{x:c,y:h}},r}(dv),UW=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var a=t.startAngle,i=a===void 0?-Math.PI/2:a,o=t.endAngle,l=o===void 0?Math.PI*3/2:o,s=t.innerRadius,u=s===void 0?0:s,f=t.radius;return n.startAngle=i,n.endAngle=l,n.innerRadius=u,n.radius=f,n.initial(),n}return r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,a=t.maxY-t.minY,i=Math.abs(t.minX)/n,o=Math.abs(t.minY)/a,l;this.height/a>this.width/n?(l=this.width/n,this.circleCenter={x:this.center.x-(.5-i)*this.width,y:this.center.y-(.5-o)*l*a}):(l=this.height/a,this.circleCenter={x:this.center.x-(.5-i)*l*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=l*this.radius:(this.radius<=0||this.radius>l)&&(this.polarRadius=l):this.polarRadius=l,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,a=this.getCenter(),i=t.x,o=t.y;return this.isTransposed&&(n=[o,i],i=n[0],o=n[1]),i=this.convertDim(i,"x"),o=this.convertDim(o,"y"),{x:a.x+Math.cos(i)*o,y:a.y+Math.sin(i)*o}},r.prototype.invertPoint=function(t){var n,a=this.getCenter(),i=[t.x-a.x,t.y-a.y],o=this,l=o.startAngle,s=o.endAngle;this.isReflect("x")&&(n=[s,l],l=n[0],s=n[1]);var u=[1,0,0,0,1,0,0,0,1];ev(u,u,l);var f=[1,0,0];ul(f,f,u);var c=[f[0],f[1]],h=rv(c,i,s<l);Ae(h,Math.PI*2)&&(h=0);var p=Si(i),d=h/(s-l);d=s-l>0?d:-d;var v=this.invertDim(p,"y"),g={x:0,y:0};return g.x=this.isTransposed?v:d,g.y=this.isTransposed?d:v,g},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var a=[0,Math.cos(t),Math.cos(n)],i=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)a.push(Math.cos(o)),i.push(Math.sin(o));return{minX:Math.min.apply(Math,a),maxX:Math.max.apply(Math,a),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},r}(dv),JS={},KW=function(e){return JS[e.toLowerCase()]},Mc=function(e,r){JS[e.toLowerCase()]=r};Mc("rect",QS);Mc("cartesian",QS);Mc("polar",UW);Mc("helix",XW);function tC(e,r,t){var n=new _l(r,t);n.target=e,n.propagationPath.push(e),e.emitDelegation(r,n);for(var a=e.getParent();a;)a.emitDelegation(r,n),n.propagationPath.push(a),a=a.getParent()}var eC=[1,0,0,0,1,0,0,0,1];function Xa(e,r,t){if(t===void 0&&(t=eC),!r)return null;var n=fe(t,[["t",-e.x,-e.y],["r",r],["t",e.x,e.y]]);return n}function vv(e,r){return!e.x&&!e.y?null:fe(r||eC,[["t",e.x,e.y]])}function ZW(e){var r=[1,0,0],t=[0,0,0];return ul(t,r,e),Math.atan2(t[1],t[0])}function Cs(e,r){var t=[0,0];return MH(t,r,e),t}function QW(e,r){var t=Cs(e,[r.minX,r.minY]),n=Cs(e,[r.maxX,r.minY]),a=Cs(e,[r.minX,r.maxY]),i=Cs(e,[r.maxX,r.maxY]),o=Math.min(t[0],n[0],a[0],i[0]),l=Math.max(t[0],n[0],a[0],i[0]),s=Math.min(t[1],n[1],a[1],i[1]),u=Math.max(t[1],n[1],a[1],i[1]);return{x:o,y:s,minX:o,minY:s,maxX:l,maxY:u,width:l-o,height:u-s}}function rC(e,r,t,n){if(r){var a=Xa({x:t,y:n},r,e.getMatrix());e.setMatrix(a)}}function gv(e,r,t){var n=vv({x:r,y:t});e.attr("matrix",n)}function Lu(e){var r=0,t=0,n=0,a=0;return mt(e)?r=t=n=a=e:J(e)&&(r=e[0],n=Q(e[1])?e[0]:e[1],a=Q(e[2])?e[0]:e[2],t=Q(e[3])?n:e[3]),[r,n,a,t]}function yv(e){for(var r=e.childNodes,t=r.length,n=t-1;n>=0;n--)e.removeChild(r[n])}function JW(e,r){return!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function vl(e){var r=e.start,t=e.end,n=Math.min(r.x,t.x),a=Math.min(r.y,t.y),i=Math.max(r.x,t.x),o=Math.max(r.y,t.y);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function t6(e){var r=e.map(function(l){return l.x}),t=e.map(function(l){return l.y}),n=Math.min.apply(Math,r),a=Math.min.apply(Math,t),i=Math.max.apply(Math,r),o=Math.max.apply(Math,t);return{x:n,y:a,minX:n,minY:a,maxX:i,maxY:o,width:i-n,height:o-a}}function Oc(e,r,t,n){var a=e+t,i=r+n;return{x:e,y:r,width:t,height:n,minX:e,minY:r,maxX:isNaN(a)?0:a,maxY:isNaN(i)?0:i}}function $a(e,r,t){return(1-t)*e+r*t}function Oi(e,r,t){return{x:e.x+Math.cos(t)*r,y:e.y+Math.sin(t)*r}}function e6(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}var Ru=function(e,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[e,r].includes(1/0)?Math.abs(e)===Math.abs(r):Math.abs(e-r)<t};function r6(e,r){var t=Math.max(e.minX,r.minX),n=Math.max(e.minY,r.minY),a=Math.min(e.maxX,r.maxX),i=Math.min(e.maxY,r.maxY);return Oc(t,n,a-t,i-n)}function nC(e){var r=e.getClip(),t=r&&r.getBBox(),n;if(!e.isGroup())n=e.getBBox();else{var a=1/0,i=-1/0,o=1/0,l=-1/0,s=e.getChildren();s.length>0?B(s,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var f=nC(u),c=u.applyToMatrix([f.minX,f.minY,1]),h=u.applyToMatrix([f.minX,f.maxY,1]),p=u.applyToMatrix([f.maxX,f.minY,1]),d=u.applyToMatrix([f.maxX,f.maxY,1]),v=Math.min(c[0],h[0],p[0],d[0]),g=Math.max(c[0],h[0],p[0],d[0]),y=Math.min(c[1],h[1],p[1],d[1]),m=Math.max(c[1],h[1],p[1],d[1]);v<a&&(a=v),g>i&&(i=g),y<o&&(o=y),m>l&&(l=m)}}):(a=0,i=0,o=0,l=0),n=Oc(a,o,i-a,l-o)}return t?r6(n,t):n}function n6(e,r){if(!(!e.getClip()&&!r.getClip())){var t=r.getClip();if(!t){e.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};e.setClip(n)}}function Ve(e){return e+"px"}function aC(e,r,t,n){var a=e6(e,r),i=n/a,o=0;return t==="start"?o=0-i:t==="end"&&(o=1+i),{x:$a(e.x,r.x,o),y:$a(e.y,r.y,o)}}var a6={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},iC=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.initCfg(),n}return r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var n=this,a=this.get("defaultCfg")||{};B(t,function(i,o){var l=n.get(o),s=i;l!==i&&(Bt(i)&&a[o]&&(s=ot({},a[o],i)),n.set(o,s))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){Qn(t,"visible")&&(t.visible?this.show():this.hide()),Qn(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},r.prototype.setLocation=function(t){var n=T({},t);this.update(n)},r.prototype.getLocation=function(){var t=this,n={},a=this.get("locationType"),i=a6[a];return B(i,function(o){n[o]=t.get(o)}),n},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");B(n,function(a,i){var o=t.get(i);if(Bt(o)){var l=ot({},a,o);t.set(i,l)}})},r}(cc),ma="update_status",i6=["visible","tip","delegateObject"],o6=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Fe=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},r.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var n=this.getElementById(t),a=n&&n.get("component");return a},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},r.prototype.getElementsByName=function(t){var n=[];return B(this.get("shapesMap"),function(a){a.get("name")===t&&n.push(a)}),n},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),e.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),a=t.getTotalMatrix();return a&&(n=QW(a,n)),n},r.prototype.on=function(t,n,a){var i=this.get("group");return i.on(t,n,a),this},r.prototype.off=function(t,n){var a=this.get("group");return a&&a.off(t,n),this},r.prototype.emit=function(t,n){var a=this.get("group");a.emit(t,n)},r.prototype.init=function(){e.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,n){var a=this.get("group");n.target=a,a.emit(t,n),tC(a,t,n)},r.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),a=new n({delegateObject:this.getDelegateObject()});return a},r.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",nC(t)),t},r.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var a=t.addGroup(n);return this.get("isRegister")&&this.registerElement(a),a},r.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var a=t.addShape(n);return this.get("isRegister")&&this.registerElement(a),a},r.prototype.addComponent=function(t,n){var a=n.id,i=n.component,o=_t(n,["id","component"]),l=new i(T(T({},o),{id:a,container:t,updateAutoRender:this.get("updateAutoRender")}));return l.init(),l.render(),this.get("isRegister")&&this.registerElement(l.get("group")),l},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){var t=this.get("group");t.off()},r.prototype.getElementId=function(t){var n=this.get("id"),a=this.get("name");return n+"-"+a+"-"+t},r.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},r.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},r.prototype.moveElementTo=function(t,n){var a=vv(n);t.attr("matrix",a)},r.prototype.addAnimation=function(t,n,a){var i=n.attr("opacity");Q(i)&&(i=1),n.attr("opacity",0),n.animate({opacity:i},a)},r.prototype.removeAnimation=function(t,n,a){n.animate({opacity:0},a)},r.prototype.updateAnimation=function(t,n,a,i){n.animate(a,i)},r.prototype.updateElements=function(t,n){var a=this,i=this.get("animate"),o=this.get("animateOption"),l=t.getChildren().slice(0),s;B(l,function(u){var f=u.get("id"),c=a.getElementById(f),h=u.get("name");if(c)if(u.get("isComponent")){var p=u.get("component"),d=c.get("component"),v=Kd(p.cfg,fz(io(p.cfg),o6));d.update(v),c.set(ma,"update")}else{var g=a.getReplaceAttrs(c,u);i&&o.update?a.updateAnimation(h,c,g,o.update):c.attr(g),u.isGroup()&&a.updateElements(u,c),B(i6,function(x){c.set(x,u.get(x))}),n6(c,u),s=c,c.set(ma,"update")}else{n.add(u);var y=n.getChildren();if(y.splice(y.length-1,1),s){var m=y.indexOf(s);y.splice(m+1,0,u)}else y.unshift(u);if(a.registerElement(u),u.set(ma,"add"),u.get("isComponent")){var p=u.get("component");p.set("container",n)}else u.isGroup()&&a.registerNewGroup(u);if(s=u,i){var b=a.get("isInit")?o.appear:o.enter;b&&a.addAnimation(h,u,b)}}})},r.prototype.clearUpdateStatus=function(t){var n=t.getChildren();B(n,function(a){a.set(ma,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t,n=this.get("name"),a=(t={},t[n]=this,t.component=this,t);return a},r.prototype.appendDelegateObject=function(t,n){var a=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),Nt(n.delegateObject,a)},r.prototype.getReplaceAttrs=function(t,n){var a=t.attr(),i=n.attr();return B(a,function(o,l){i[l]===void 0&&(i[l]=void 0)}),i},r.prototype.registerNewGroup=function(t){var n=this,a=t.getChildren();B(a,function(i){n.registerElement(i),i.set(ma,"add"),i.isGroup()&&n.registerNewGroup(i)})},r.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),a=[];B(n,function(l,s){!l.get(ma)||l.destroyed?a.push([s,l]):l.set(ma,null)});var i=this.get("animate"),o=this.get("animateOption");B(a,function(l){var s=l[0],u=l[1];if(!u.destroyed){var f=u.get("name");if(i&&o.leave){var c=Nt({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(f,u,c)}else t.removeElement(u)}delete n[s]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},r}(iC),uh="…";function l6(e){for(var r=0,t=0;t<e.length;t++)r+=Sa(e,t);return r}function Sa(e,r){return e.charCodeAt(r)>0&&e.charCodeAt(r)<128?1:2}function s6(e,r,t){t===void 0&&(t="tail");var n=e.length,a="";if(t==="tail"){for(var i=0,o=0;i<r;){var l=Sa(e,o);if(i+l<=r)a+=e[o],i+=Sa(e,o),o++;else break}a+=uh}else if(t==="head"){for(var i=0,o=n-1;i<r;){var l=Sa(e,o);if(i+l<=r)a+=e[o],i+=Sa(e,o),o--;else break}a=uh+a}else{for(var s="",u="",i=0,f=0,c=n-1;i<r;){var h=Sa(e,f),p=!1;h+i<=r&&(s+=e[f],f++,i+=h,p=!0);var d=Sa(e,c);if(d+i<=r&&(u=e[c]+u,i+=d,c--,p=!0),!p)break}a=s+uh+u}return a}var u6="…",c6=2,f6=400;function h6(e){for(var r=e.map(function(s){var u=s.attr("text");return Q(u)?"":""+u}),t=0,n=0,a=0;a<r.length;a+=1){for(var i=0,o=0;o<=r[a].length;o+=1){var l=r[a].charCodeAt(o);l>=19968&&l<=40869?i+=2:i+=1}i>t&&(t=i,n=a)}return e[n].getBBox().width}function Qp(e){if(e.length>f6)return h6(e);var r=0;return B(e,function(t){var n=t.getBBox(),a=n.width;r<a&&(r=a)}),r}function p6(e,r){var t=r.getCanvasBBox();return e?t.width:t.height}function Zo(e,r,t,n){var a;n===void 0&&(n="tail");var i=(a=r.attr("text"))!==null&&a!==void 0?a:"";if(n==="tail"){var o=Kd(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),l=Bz(i,t,o,"…");return i!==l?(r.attr("text",l),r.set("tip",i),!0):(r.set("tip",null),!1)}var s=p6(e,r),u=l6(i),f=!1;if(t<s){var c=Math.floor(t/s*u)-c6,h=void 0;c>=0?h=s6(i,c,n):h=u6,h&&(r.attr("text",h),f=!0)}return f?r.set("tip",i):r.set("tip",null),f}function kc(e,r){var t=r.x,n=r.y,a=r.content,i=r.style,o=r.id,l=r.name,s=r.rotate,u=r.maxLength,f=r.autoEllipsis,c=r.isVertical,h=r.ellipsisPosition,p=r.background,d=e.addGroup({id:o+"-group",name:l+"-group",attrs:{x:t,y:n}}),v=d.addShape({type:"text",id:o,name:l,attrs:T({x:0,y:0,text:a},i)}),g=Lu($(p,"padding",0));if(u&&f){var y=u-(g[1]+g[3]);Zo(!c,v,y,h)}if(p){var m=$(p,"style",{}),b=v.getCanvasBBox(),x=b.minX,w=b.minY,S=b.width,A=b.height,I=d.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:T({x:x-g[3],y:w-g[0],width:S+g[1]+g[3],height:A+g[0]+g[2]},m)});I.toBack()}gv(d,t,n),rC(d,s,t,n)}const Ct={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var d6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Ct.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Ct.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Ct.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:T({x1:n.x,y1:n.y,x2:a.x,y2:a.y},i)})},r.prototype.getLabelPoint=function(t,n,a){var i;return a==="start"?i=0:a==="center"?i=.5:dt(a)&&a.indexOf("%")!==-1?i=parseInt(a,10)/100:mt(a)?i=a:i=1,(i>1||i<0)&&(i=1),{x:$a(t.x,n.x,i),y:$a(t.y,n.y,i)}},r.prototype.renderLabel=function(t){var n=this.get("text"),a=this.get("start"),i=this.get("end"),o=n.position,l=n.content,s=n.style,u=n.offsetX,f=n.offsetY,c=n.autoRotate,h=n.maxLength,p=n.autoEllipsis,d=n.ellipsisPosition,v=n.background,g=n.isVertical,y=g===void 0?!1:g,m=this.getLabelPoint(a,i,o),b=m.x+u,x=m.y+f,w={id:this.getElementId("line-text"),name:"annotation-line-text",x:b,y:x,content:l,style:s,maxLength:h,autoEllipsis:p,ellipsisPosition:d,background:v,isVertical:y};if(c){var S=[i.x-a.x,i.y-a.y];w.rotate=Math.atan2(S[1],S[0])}kc(t,w)},r}(Fe),v6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Ct.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Ct.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("content"),l=this.get("style"),s=this.getElementId("text"),u=this.get("name")+"-text",f=this.get("maxLength"),c=this.get("autoEllipsis"),h=this.get("isVertical"),p=this.get("ellipsisPosition"),d=this.get("background"),v=this.get("rotate"),g={id:s,name:u,x:a,y:i,content:o,style:l,maxLength:f,autoEllipsis:c,isVertical:h,ellipsisPosition:p,background:d,rotate:v};kc(t,g)},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),a=n.x,i=n.y,o=this.get("rotate");gv(t,a,i),rC(t,o,a,i)}},r}(Fe),g6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,l=Oi(n,a,i),s=Oi(n,a,o),u=o-i>Math.PI?1:0,f=[["M",l.x,l.y]];if(o-i===Math.PI*2){var c=Oi(n,a,i+Math.PI);f.push(["A",a,a,0,u,1,c.x,c.y]),f.push(["A",a,a,0,u,1,s.x,s.y])}else f.push(["A",a,a,0,u,1,s.x,s.y]);return f},r.prototype.renderArc=function(t){var n=this.getArcPath(),a=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:T({path:n},a)})},r}(Fe),y6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Ct.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var n=this.get("start"),a=this.get("end"),i=this.get("style"),o=vl({start:n,end:a});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:T({x:o.x,y:o.y,width:o.width,height:o.height},i)})},r}(Fe),m6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),a=this.get("style"),i=vl({start:t,end:n}),o=this.get("src");return T({x:i.x,y:i.y,img:o,width:i.width,height:i.height},a)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(Fe),x6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Ct.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Ct.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Ct.fontFamily}}}})},r.prototype.renderInner=function(t){$(this.get("line"),"display")&&this.renderLine(t),$(this.get("text"),"display")&&this.renderText(t),$(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},r.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},r.prototype.renderText=function(t){var n=this.getShapeAttrs().text,a=n.x,i=n.y,o=n.text,l=_t(n,["x","y","text"]),s=this.get("text"),u=s.background,f=s.maxLength,c=s.autoEllipsis,h=s.isVertival,p=s.ellipsisPosition,d={x:a,y:i,id:this.getElementId("text"),name:"annotation-text",content:o,style:l,background:u,maxLength:f,autoEllipsis:c,isVertival:h,ellipsisPosition:p};kc(t,d)},r.prototype.autoAdjust=function(t){var n=this.get("direction"),a=this.get("x"),i=this.get("y"),o=$(this.get("line"),"length",0),l=this.get("coordinateBBox"),s=t.getBBox(),u=s.minX,f=s.maxX,c=s.minY,h=s.maxY,p=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),v=t.findById(this.getElementId("line"));if(l&&p){var g=p.attr("x"),y=p.attr("y"),m=d.getCanvasBBox(),b=m.width,x=m.height,w=0,S=0;if(a+u<=l.minX)if(n==="leftward")w=1;else{var A=l.minX-(a+u);g=p.attr("x")+A}else if(a+f>=l.maxX)if(n==="rightward")w=-1;else{var A=a+f-l.maxX;g=p.attr("x")-A}if(w&&(v&&v.attr("path",[["M",0,0],["L",o*w,0]]),g=(o+2+b)*w),i+c<=l.minY)if(n==="upward")S=1;else{var A=l.minY-(i+c);y=p.attr("y")+A}else if(i+h>=l.maxY)if(n==="downward")S=-1;else{var A=i+h-l.maxY;y=p.attr("y")-A}S&&(v&&v.attr("path",[["M",0,0],["L",0,o*S]]),y=(o+2+x)*S),(g!==p.attr("x")||y!==p.attr("y"))&&gv(p,g,y)}},r.prototype.getShapeAttrs=function(){var t=$(this.get("line"),"display"),n=$(this.get("point"),"style",{}),a=$(this.get("line"),"style",{}),i=$(this.get("text"),"style",{}),o=this.get("direction"),l=t?$(this.get("line"),"length",0):0,s=0,u=0,f="top",c="start";switch(o){case"upward":u=-1,f="bottom";break;case"downward":u=1,f="top";break;case"leftward":s=-1,c="end";break;case"rightward":s=1,c="start";break}return{point:T({x:0,y:0},n),line:T({path:[["M",0,0],["L",l*s,l*u]]},a),text:T({x:(l+2)*s,y:(l+2)*u,text:$(this.get("text"),"content",""),textBaseline:f,textAlign:c},i)}},r}(Fe),b6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Ct.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Ct.textColor,fontFamily:Ct.fontFamily}}}})},r.prototype.renderInner=function(t){var n=$(this.get("region"),"style",{});$(this.get("text"),"style",{});var a=this.get("lineLength")||0,i=this.get("points");if(i.length){var o=t6(i),l=[];l.push(["M",i[0].x,o.minY-a]),i.forEach(function(u){l.push(["L",u.x,u.y])}),l.push(["L",i[i.length-1].x,i[i.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:T({path:l},n)});var s=T({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-a},this.get("text"));kc(t,s)}},r}(Fe),w6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var n=this,a=this.get("start"),i=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});B(this.get("shapes"),function(s,u){var f=s.get("type"),c=_e(s.attr());n.adjustShapeAttrs(c),n.addShape(o,{id:n.getElementId("shape-"+f+"-"+u),capture:!1,type:f,attrs:c})});var l=vl({start:a,end:i});o.setClip({type:"rect",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}})},r.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},r}(Fe),S6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"shape",draw:Hn})},r.prototype.renderInner=function(t){var n=this.get("render");lt(n)&&n(t)},r}(Fe),mv=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.getContainer(),a=t?"auto":"none";n.style.pointerEvents=a,this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,a=parseFloat(t.style.top)||0;return Oc(n,a,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){var t=this.get("container");yv(t)},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),e.prototype.destroy.call(this)},r.prototype.init=function(){e.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if(Q(t)){t=this.createDom();var n=this.get("parent");dt(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else dt(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=ot({},n,t):t=n,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var a=this.get("containerClassName");if(a&&JW(n,a)){var i=t[a];Pe(n,i)}}},r.prototype.applyChildrenStyles=function(t,n){B(n,function(a,i){var o=t.getElementsByClassName(i);B(o,function(l){Pe(l,a)})})},r.prototype.applyStyle=function(t,n){var a=this.get("domStyles");Pe(n,a[t])},r.prototype.createDom=function(){var t=this.get("containerTpl");return Yn(t)},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){Qn(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(iC),C6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),n=this.get("html");yv(t);var a=lt(n)?n(t):n;if(R1(a))t.appendChild(a);else if(dt(a)||mt(a)){var i=Yn(""+a);i&&t.appendChild(i)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),a=n.x,i=n.y,o=this.get("alignX"),l=this.get("alignY"),s=this.get("offsetX"),u=this.get("offsetY"),f=Vz(t),c=zz(t),h={x:a,y:i};o==="middle"?h.x-=Math.round(f/2):o==="right"&&(h.x-=Math.round(f)),l==="middle"?h.y-=Math.round(c/2):l==="bottom"&&(h.y-=Math.round(c)),s&&(h.x+=s),u&&(h.y+=u),Pe(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},r}(mv);const A6=Object.freeze(Object.defineProperty({__proto__:null,Arc:g6,DataMarker:x6,DataRegion:b6,Html:C6,Image:m6,Line:d6,Region:y6,RegionFilter:w6,Shape:S6,Text:v6},Symbol.toStringTag,{value:"Module"}));function _o(e,r,t){var n=r+"Style",a=null;return B(t,function(i,o){e[o]&&i[n]&&(a||(a={}),Nt(a,i[n]))}),a}var oC=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Ct.lineColor}},tickLine:{style:{lineWidth:1,stroke:Ct.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Ct.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Ct.textColor,fontFamily:Ct.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Ct.textColor,textBaseline:"middle",fontFamily:Ct.fontFamily,textAlign:"center"},iconStyle:{fill:Ct.descriptionIconFill,stroke:Ct.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Ct.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,n){Nt(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,n,a){t[n]=a,this.updateTickStates(t)},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("tickStates"),a=[];return B(n,function(i,o){t[o]&&a.push(o)}),a},r.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);B(a,function(i){n.setItemState(i,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return Ee(a,function(i){return n.hasState(i,t)})},r.prototype.getSidePoint=function(t,n){var a=this,i=a.getSideVector(n,t);return{x:t.x+i[0],y:t.y+i[1]}},r.prototype.getTextAnchor=function(t){var n;return Ae(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},r.prototype.getTextBaseline=function(t){var n;return Ae(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var n=this.getLinePath(),a=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Nt({path:n},a.style)})},r.prototype.getTickLineItems=function(t){var n=this,a=[],i=this.get("tickLine"),o=i.alignTick,l=i.length,s=1,u=t.length;return u>=2&&(s=t[1].value-t[0].value),B(t,function(f){var c=f.point;o||(c=n.getTickPoint(f.value-s/2));var h=n.getSidePoint(c,l);a.push({startPoint:c,tickValue:f.value,endPoint:h,tickId:f.id,id:"tickline-"+f.id})}),a},r.prototype.getSubTickLineItems=function(t){var n=[],a=this.get("subTickLine"),i=a.count,o=t.length;if(o>=2)for(var l=0;l<o-1;l++)for(var s=t[l],u=t[l+1],f=0;f<i;f++){var c=(f+1)/(i+1),h=(1-c)*s.tickValue+c*u.tickValue,p=this.getTickPoint(h),d=this.getSidePoint(p,a.length);n.push({startPoint:p,endPoint:d,tickValue:h,id:"sub-"+s.id+"-"+f})}return n},r.prototype.getTickLineAttrs=function(t,n,a,i){var o=this.get(n).style,l={points:[t.startPoint,t.endPoint]},s=$(this.get("theme"),["tickLine","style"],{});o=lt(o)?Nt({},s,o(l,a,i)):o;var u=t.startPoint,f=t.endPoint;return T({x1:u.x,y1:u.y,x2:f.x,y2:f.y},o)},r.prototype.drawTick=function(t,n,a,i,o){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+a,attrs:this.getTickLineAttrs(t,a,i,o)})},r.prototype.drawTickLines=function(t){var n=this,a=this.get("ticks"),i=this.get("subTickLine"),o=this.getTickLineItems(a),l=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");if(B(o,function(f,c){if(s.displayWithLabel){var h=n.getElementId("label-"+f.tickId);t.findById(h)&&n.drawTick(f,l,"tickLine",c,o)}else n.drawTick(f,l,"tickLine",c,o)}),i){var u=this.getSubTickLineItems(o);B(u,function(f,c){n.drawTick(f,l,"subTickLine",c,u)})}},r.prototype.processTicks=function(){var t=this,n=this.get("ticks");B(n,function(a){a.point=t.getTickPoint(a.value),Q(a.id)&&(a.id=a.name)})},r.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var a=this.get("ticks");B(a,function(i){n.applyTickStates(i,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var a=me(n);if(a>t.threshold){var i=Math.ceil(a/t.threshold),o=n.filter(function(l,s){return s%i===0});this.set("ticks",o),this.set("originalTicks",n)}}},r.prototype.getLabelAttrs=function(t,n,a){var i=this.get("label"),o=i.offset,l=i.offsetX,s=i.offsetY,u=i.rotate,f=i.formatter,c=this.getSidePoint(t.point,o),h=this.getSideVector(o,c),p=f?f(t.name,t,n):t.name,d=i.style;d=lt(d)?$(this.get("theme"),["label","style"],{}):d;var v=Nt({x:c.x+l,y:c.y+s,text:p,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},d);return u&&(v.matrix=Xa(c,u)),v},r.prototype.drawLabels=function(t){var n=this,a=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});B(a,function(h,p){n.addShape(i,{type:"text",name:"axis-label",id:n.getElementId("label-"+h.id),attrs:n.getLabelAttrs(h,p,a),delegateObject:{tick:h,item:h,index:p}})}),this.processOverlap(i);var o=i.getChildren(),l=$(this.get("theme"),["label","style"],{}),s=this.get("label"),u=s.style,f=s.formatter;if(lt(u)){var c=o.map(function(h){return $(h.get("delegateObject"),"tick")});B(o,function(h,p){var d=h.get("delegateObject").tick,v=f?f(d.name,d,p):d.name,g=Nt({},l,u(v,p,c));h.attr(g)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,a=t.position,i=t.offset,o=t.spacing,l=o===void 0?0:o,s=t.autoRotate,u=n.fontSize,f=.5;a==="start"?f=0:a==="end"&&(f=1);var c=this.getTickPoint(f),h=this.getSidePoint(c,i||l+u/2),p=Nt({x:h.x,y:h.y,text:t.text},n),d=t.rotate,v=d;if(Q(d)&&s){var g=this.getAxisVector(c),y=[1,0];v=rv(g,y,!0)}if(v){var m=Xa(h,v);p.matrix=m}return p},r.prototype.drawTitle=function(t){var n,a=this.getTitleAttrs(),i=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:a});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(t,i,a.matrix)},r.prototype.drawDescriptionIcon=function(t,n,a){var i=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),l=o.maxX,s=o.maxY,u=o.height,f=this.get("title").iconStyle,c=4,h=u/2,p=h/6,d=l+c,v=s-u/2,g=[d+h,v-h],y=g[0],m=g[1],b=[y+h,m+h],x=b[0],w=b[1],S=[y,w+h],A=S[0],I=S[1],k=[d,m+h],E=k[0],M=k[1],O=[d+h,v-u/4],F=O[0],L=O[1],D=[F,L+p],_=D[0],z=D[1],X=[_,z+p],V=X[0],N=X[1],P=[V,N+h*3/4],j=P[0],H=P[1];this.addShape(i,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:T({path:[["M",y,m],["A",h,h,0,0,1,x,w],["A",h,h,0,0,1,A,I],["A",h,h,0,0,1,E,M],["A",h,h,0,0,1,y,m],["M",F,L],["L",_,z],["M",V,N],["L",j,H]],lineWidth:p,matrix:a},f)}),this.addShape(i,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:d,y:v-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:a,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,n){var a=this.getItemStates(t);if(a.length){var i=this.get("tickStates"),o=this.getElementId("label-"+t.id),l=n.findById(o);if(l){var s=_o(t,"label",i);s&&l.attr(s)}var u=this.getElementId("tickline-"+t.id),f=n.findById(u);if(f){var c=_o(t,"tickLine",i);c&&f.attr(c)}}},r.prototype.updateTickStates=function(t){var n=this.getItemStates(t),a=this.get("tickStates"),i=this.get("label"),o=this.getElementByLocalId("label-"+t.id),l=this.get("tickLine"),s=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(o){var u=_o(t,"label",a);u&&o.attr(u)}if(s){var f=_o(t,"tickLine",a);f&&s.attr(f)}}else o&&o.attr(i.style),s&&s.attr(l.style)},r}(Fe);function xv(e,r,t,n){var a=r.getChildren(),i=!1;return B(a,function(o){var l=Zo(e,o,t,n);i=i||l}),i}function T6(){return lC}function I6(e,r,t){return xv(e,r,t,"head")}function lC(e,r,t){return xv(e,r,t,"tail")}function E6(e,r,t){return xv(e,r,t,"middle")}const M6=Object.freeze(Object.defineProperty({__proto__:null,ellipsisHead:I6,ellipsisMiddle:E6,ellipsisTail:lC,getDefault:T6},Symbol.toStringTag,{value:"Module"}));function O6(e){var r=e.attr("matrix");return r&&r[0]!==1}function sC(e){var r=O6(e)?ZW(e.attr("matrix")):0;return r%360}function Jp(e,r,t,n){var a=!1,i=sC(r),o=Math.abs(e?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),l=(e?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(e){var s=Math.abs(Math.cos(i));Ru(s,0,Math.PI/180)?a=l.width+n>o:a=l.height/s+n>o}else{var s=Math.abs(Math.sin(i));Ru(s,0,Math.PI/180)?a=l.width+n>o:a=l.height/s+n>o}return a}function gl(e,r,t,n){var a=(n==null?void 0:n.minGap)||0,i=r.getChildren().slice().filter(function(p){return p.get("visible")});if(!i.length)return!1;var o=!1;t&&i.reverse();for(var l=i.length,s=i[0],u=s,f=1;f<l;f++){var c=i[f];c.getBBox();var h=Jp(e,u,c,a);h?(c.hide(),o=!0):u=c}return o}function uC(e,r,t){var n=(t==null?void 0:t.minGap)||0,a=r.getChildren().slice();if(a.length<2)return!1;var i=!1,o=a[0],l=o.getBBox(),s=a[1],u=a.length,f=sC(o),c=Math.abs(e?s.attr("y")-o.attr("y"):s.attr("x")-o.attr("x")),h=0;if(e){var p=Math.abs(Math.cos(f));if(Ru(p,0,Math.PI/180)){var d=Qp(a);h=(d+n)/c}else h=(l.height/p+n)/c}else{var p=Math.abs(Math.sin(f));if(Ru(p,0,Math.PI/180)){var d=Qp(a);h=(d+n)/c}else h=(l.height/p+n)/c}if(h>1){h=Math.ceil(h);for(var v=0;v<u;v++)v%h!==0&&(a[v].hide(),i=!0)}return i}function k6(){return cC}function F6(e,r,t,n){return gl(e,r,!1,n)}function P6(e,r,t,n){return gl(e,r,!0,n)}function L6(e,r,t,n){var a=(n==null?void 0:n.minGap)||0,i=r.getChildren().slice();if(i.length<=2)return!1;for(var o=!1,l=i.length,s=i[0],u=i[l-1],f=s,c=1;c<l-1;c++){var h=i[c];h.getBBox();var p=Jp(e,f,h,a);p?(h.hide(),o=!0):f=h}var d=Jp(e,f,u,a);return d&&(f.hide(),o=!0),o}function cC(e,r,t,n){var a=uC(e,r,n);return gl(e,r,!1)&&(a=!0),a}function R6(e,r,t,n){var a=r.getChildren().slice(),i=uC(e,r,n);if(a.length>2){var o=a[0],l=a[a.length-1];o.get("visible")||(o.show(),gl(e,r,!1,n)&&(i=!0)),l.get("visible")||(l.show(),gl(e,r,!0,n)&&(i=!0))}return i}const D6=Object.freeze(Object.defineProperty({__proto__:null,equidistance:cC,equidistanceWithReverseBoth:R6,getDefault:k6,reserveBoth:L6,reserveFirst:F6,reserveLast:P6},Symbol.toStringTag,{value:"Module"}));function B6(e,r){B(e,function(t){var n=t.attr("x"),a=t.attr("y"),i=Xa({x:n,y:a},r);t.attr("matrix",i)})}function fC(e,r,t,n){var a=r.getChildren();if(!a.length||!e&&a.length<2)return!1;var i=Qp(a),o=!1;if(e)o=!!t&&i>t;else{var l=Math.abs(a[1].attr("x")-a[0].attr("x"));o=i>l}if(o){var s=n(t,i);B6(a,s)}return o}function _6(){return hC}function hC(e,r,t,n){return fC(e,r,t,function(){return mt(n)?n:e?Ct.verticalAxisRotate:Ct.horizontalAxisRotate})}function N6(e,r,t){return fC(e,r,t,function(n,a){if(!n)return e?Ct.verticalAxisRotate:Ct.horizontalAxisRotate;if(e)return-Math.acos(n/a);var i=0;return n>a?i=Math.PI/4:(i=Math.asin(n/a),i>Math.PI/4&&(i=Math.PI/4)),i})}const $6=Object.freeze(Object.defineProperty({__proto__:null,fixedAngle:hC,getDefault:_6,unfixedAngle:N6},Symbol.toStringTag,{value:"Module"})),pC=Object.freeze(Object.defineProperty({__proto__:null,autoEllipsis:M6,autoHide:D6,autoRotate:$6},Symbol.toStringTag,{value:"Module"}));var j6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),a=[];return a.push(["M",t.x,t.y]),a.push(["L",n.x,n.y]),a},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),a=e.prototype.getInnerLayoutBBox.call(this),i=Math.min(t.x,n.x,a.x),o=Math.min(t.y,n.y,a.y),l=Math.max(t.x,n.x,a.maxX),s=Math.max(t.y,n.y,a.maxY);return{x:i,y:o,minX:i,minY:o,maxX:l,maxY:s,width:l-i,height:s-o}},r.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return Ae(t.x,n.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return Ae(t.y,n.y)},r.prototype.getTickPoint=function(t){var n=this,a=n.get("start"),i=n.get("end"),o=i.x-a.x,l=i.y-a.y;return{x:a.x+o*t,y:a.y+l*t}},r.prototype.getSideVector=function(t){var n=this.getAxisVector(),a=K1([0,0],n),i=this.get("verticalFactor"),o=[a[1],a[0]*-1];return Ne([0,0],o,t*i)},r.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},r.prototype.processOverlap=function(t){var n=this,a=this.isVertical(),i=this.isHorizontal();if(!(!a&&!i)){var o=this.get("label"),l=this.get("title"),s=this.get("verticalLimitLength"),u=o.offset,f=s,c=0,h=0;l&&(c=l.style.fontSize,h=l.spacing),f&&(f=f-u-h-c);var p=this.get("overlapOrder");if(B(p,function(g){o[g]&&n.canProcessOverlap(g)&&n.autoProcessOverlap(g,o[g],t,f)}),l&&Q(l.offset)){var d=t.getCanvasBBox(),v=a?d.width:d.height;l.offset=u+v+h+c/2}}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?Q(n.rotate):!0},r.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,l=this.isVertical(),s=!1,u=pC[t];if(n===!0)this.get("label"),s=u.getDefault()(l,a,i);else if(lt(n))s=n(l,a,i);else if(Bt(n)){var f=n;u[f.type]&&(s=u[f.type](l,a,i,f.cfg))}else u[n]&&(s=u[n](l,a,i));if(t==="autoRotate"){if(s){var c=a.getChildren(),h=this.get("verticalFactor");B(c,function(d){var v=d.attr("textAlign");if(v==="center"){var g=h>0?"end":"start";d.attr("textAlign",g)}})}}else if(t==="autoHide"){var p=a.getChildren().slice(0);B(p,function(d){d.get("visible")||(o.get("isRegister")&&o.unregisterElement(d),d.remove())})}},r}(oC),z6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,a=t.y,i=this.get("radius"),o=i,l=this.get("startAngle"),s=this.get("endAngle"),u=[];if(Math.abs(s-l)===Math.PI*2)u=[["M",n,a-o],["A",i,o,0,1,1,n,a+o],["A",i,o,0,1,1,n,a-o],["Z"]];else{var f=this.getCirclePoint(l),c=this.getCirclePoint(s),h=Math.abs(s-l)>Math.PI?1:0,p=l>s?0:1;u=[["M",n,a],["L",f.x,f.y],["A",i,o,0,h,p,c.x,c.y],["L",n,a]]}return u},r.prototype.getTickPoint=function(t){var n=this.get("startAngle"),a=this.get("endAngle"),i=n+(a-n)*t;return this.getCirclePoint(i)},r.prototype.getSideVector=function(t,n){var a=this.get("center"),i=[n.x-a.x,n.y-a.y],o=this.get("verticalFactor"),l=Si(i);return Ne(i,i,o*t/l),i},r.prototype.getAxisVector=function(t){var n=this.get("center"),a=[t.x-n.x,t.y-n.y];return[a[1],-1*a[0]]},r.prototype.getCirclePoint=function(t,n){var a=this.get("center");return n=n||this.get("radius"),{x:a.x+Math.cos(t)*n,y:a.y+Math.sin(t)*n}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?Q(n.rotate):!0},r.prototype.processOverlap=function(t){var n=this,a=this.get("label"),i=this.get("title"),o=this.get("verticalLimitLength"),l=a.offset,s=o,u=0,f=0;i&&(u=i.style.fontSize,f=i.spacing),s&&(s=s-l-f-u);var c=this.get("overlapOrder");if(B(c,function(p){a[p]&&n.canProcessOverlap(p)&&n.autoProcessOverlap(p,a[p],t,s)}),i&&Q(i.offset)){var h=t.getCanvasBBox().height;i.offset=l+h+f+u/2}},r.prototype.autoProcessOverlap=function(t,n,a,i){var o=this,l=!1,s=pC[t];if(i>0)if(n===!0)l=s.getDefault()(!1,a,i);else if(lt(n))l=n(!1,a,i);else if(Bt(n)){var u=n;s[u.type]&&(l=s[u.type](!1,a,i,u.cfg))}else s[n]&&(l=s[n](!1,a,i));if(t==="autoRotate"){if(l){var f=a.getChildren(),c=this.get("verticalFactor");B(f,function(p){var d=p.attr("textAlign");if(d==="center"){var v=c>0?"end":"start";p.attr("textAlign",v)}})}}else if(t==="autoHide"){var h=a.getChildren().slice(0);B(h,function(p){p.get("visible")||(o.get("isRegister")&&o.unregisterElement(p),p.remove())})}},r}(oC),bv=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Ct.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Ct.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Ct.fontFamily}},textBackground:{padding:5,style:{stroke:Ct.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var n=this.get("text"),a=n.style,i=n.autoRotate,o=n.content;if(!Q(o)){var l=this.getTextPoint(),s=null;if(i){var u=this.getRotateAngle();s=Xa(l,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:T(T(T({},l),{text:o,matrix:s}),a)})}},r.prototype.renderLine=function(t){var n=this.getLinePath(),a=this.get("line"),i=a.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:T({path:n},i)})},r.prototype.renderBackground=function(t){var n=this.getElementId("text"),a=t.findById(n),i=this.get("textBackground");if(i&&a){var o=a.getBBox(),l=Lu(i.padding),s=i.style,u=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:T({x:o.x-l[3],y:o.y-l[0],width:o.width+l[1]+l[3],height:o.height+l[0]+l[2],matrix:a.attr("matrix")},s)});u.toBack()}},r}(Fe),dC=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text").position,o=Math.atan2(a.y-n.y,a.x-n.x),l=i==="start"?o-Math.PI/2:o+Math.PI/2;return l},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,l=i.offset;return aC(n,a,o,l)},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,a=t.end;return[["M",n.x,n.y],["L",a.x,a.y]]},r}(bv),H6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,a=t.endAngle,i=this.get("text").position,o=i==="start"?n+Math.PI/2:a-Math.PI/2;return o},r.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,a=t.offset,i=this.getLocation(),o=i.center,l=i.radius,s=i.startAngle,u=i.endAngle,f=n==="start"?s:u,c=this.getRotateAngle()-Math.PI,h=Oi(o,l,f),p=Math.cos(c)*a,d=Math.sin(c)*a;return{x:h.x+p,y:h.y+d}},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,a=t.radius,i=t.startAngle,o=t.endAngle,l=null;if(o-i===Math.PI*2){var s=n.x,u=n.y;l=[["M",s,u-a],["A",a,a,0,1,1,s,u+a],["A",a,a,0,1,1,s,u-a],["Z"]]}else{var f=Oi(n,a,i),c=Oi(n,a,o),h=Math.abs(o-i)>Math.PI?1:0,p=i>o?0:1;l=[["M",f.x,f.y],["A",a,a,0,h,p,c.x,c.y]]}return l},r}(bv),yl="g2-crosshair",td=yl+"-line",ed=yl+"-text",To;const V6=(To={},To[""+yl]={position:"relative"},To[""+td]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},To[""+ed]={position:"absolute",color:Ct.textColor,fontFamily:Ct.fontFamily},To);var W6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+yl+'"></div>',crosshairTpl:'<div class="'+td+'"></div>',textTpl:'<span class="'+ed+'">{content}</span>',domStyles:null,containerClassName:yl,defaultStyles:V6,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),a=Yn(n);t.appendChild(a),this.applyStyle(td,a),this.set("crosshairEl",a)},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,a=t.end,i=this.get("text"),o=i.position,l=i.offset;return aC(n,a,o,l)},r.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var a=t.content;if(!n){var i=this.getContainer(),o=P1(this.get("textTpl"),t);n=Yn(o),i.appendChild(n),this.applyStyle(ed,n),this.set("textEl",n)}n.innerHTML=a}else n&&n.remove()},r.prototype.isVertical=function(t,n){return t.x===n.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),a=this.get("end"),i=Math.min(n.x,a.x),o=Math.min(n.y,a.y);this.isVertical(n,a)?Pe(t,{width:"1px",height:Ve(Math.abs(a.y-n.y))}):Pe(t,{height:"1px",width:Ve(Math.abs(a.x-n.x))}),Pe(t,{top:Ve(o),left:Ve(i)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,a=t.clientWidth,i=this.getTextPoint();switch(n){case"center":i.x=i.x-a/2;break;case"right":i.x=i.x-a}Pe(t,{top:Ve(i.y),left:Ve(i.x)})}},r.prototype.updateInner=function(t){Qn(t,"text")&&this.resetText(),e.prototype.updateInner.call(this,t)},r}(mv);const ox=Object.freeze(Object.defineProperty({__proto__:null,Base:bv,Circle:H6,Html:W6,Line:dC},Symbol.toStringTag,{value:"Module"}));var vC=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Ct.lineColor}}}})},r.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,n){var a=this.getGridPath(t),i=n.slice(0).reverse(),o=this.getGridPath(i,!0),l=this.get("closed");return l?a=a.concat(o):(o[0][0]="L",a=a.concat(o),a.push(["Z"])),a},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var n=this,a=this.get("line"),i=this.get("items"),o=this.get("alternateColor"),l=null;B(i,function(s,u){var f=s.id||u;if(a){var c=n.getPathStyle();c=lt(c)?c(s,u,i):c;var h=n.getElementId("line-"+f),p=n.getGridPath(s.points);n.addShape(t,{type:"path",name:"grid-line",id:h,attrs:Nt({path:p},c)})}if(o&&u>0){var d=n.getElementId("region-"+f),v=u%2===0;if(dt(o))v&&n.drawAlternateRegion(d,t,l.points,s.points,o);else{var g=v?o[1]:o[0];n.drawAlternateRegion(d,t,l.points,s.points,g)}}l=s})},r.prototype.drawAlternateRegion=function(t,n,a,i,o){var l=this.getAlternatePath(a,i);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:l,fill:o}})},r}(Fe);function G6(e,r,t,n){var a=t-e,i=n-r;return Math.sqrt(a*a+i*i)}var Y6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,n){var a=this.getLineType(),i=this.get("closed"),o=[];if(t.length)if(a==="circle"){var l=this.get("center"),s=t[0],u=G6(l.x,l.y,s.x,s.y),f=n?0:1;i?(o.push(["M",l.x,l.y-u]),o.push(["A",u,u,0,0,f,l.x,l.y+u]),o.push(["A",u,u,0,0,f,l.x,l.y-u]),o.push(["Z"])):B(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["A",u,u,0,0,f,c.x,c.y])})}else B(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["L",c.x,c.y])}),i&&o.push(["Z"]);return o},r}(vC),q6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"line"})},r.prototype.getGridPath=function(t){var n=[];return B(t,function(a,i){i===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},r}(vC),gC=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=e.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),a=this.get("maxHeight"),i=t.width,o=t.height;return n&&(i=Math.min(i,n)),a&&(o=Math.min(o,a)),Oc(t.minX,t.minY,i,o)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+a,y:n+i})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var n=this.get("background"),a=t.getBBox(),i=Lu(n.padding),o=T({x:0,y:0,width:a.width+i[1]+i[3],height:a.height+i[0]+i[2]},n.style),l=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});l.toBack()},r.prototype.drawTitle=function(t){var n=this.get("currentPoint"),a=this.get("title"),i=a.spacing,o=a.style,l=a.text,s=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:T({text:l,x:n.x,y:n.y},o)}),u=s.getBBox();this.set("currentPoint",{x:n.x,y:u.maxY+i})},r.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var a=Lu(t.padding);n.x=a[3],n.y=a[0]}this.set("currentPoint",n)},r}(Fe),ch={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},As={fill:Ct.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Ct.fontFamily,fontWeight:"normal",lineHeight:12},fh="navigation-arrow-right",hh="navigation-arrow-left",lx={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},X6=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var a=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:a},100):n.attr({matrix:a})}},t}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Ct.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Ct.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:ch,itemName:{spacing:16,style:As},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:As,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Ct.uncheckedColor},markerStyle:{fill:Ct.uncheckedColor,stroke:Ct.uncheckedColor}},inactive:{nameStyle:{fill:Ct.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,n){Nt(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,n,a){t[n]=a;var i=this.getElementByLocalId("item-"+t.id);if(i){var o=this.getItems(),l=o.indexOf(t),s=this.createOffScreenGroup(),u=this.drawItem(t,l,this.getItemHeight(),s);this.updateElements(u,i),this.clearUpdateStatus(i)}},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("itemStates"),a=[];return B(n,function(i,o){t[o]&&a.push(o)}),a},r.prototype.clearItemsState=function(t){var n=this,a=this.getItemsByState(t);B(a,function(i){n.setItemState(i,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,a=this.getItems();return Ee(a,function(i){return n.hasState(i,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");B(t,function(n){n.id||(n.id=n.name)})},r.prototype.drawItems=function(t){var n=this,a=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),i=this.addGroup(a,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),l=this.get("itemWidth"),s=this.get("itemSpacing"),u=this.get("itemMarginBottom"),f=this.get("currentPoint"),c=f.x,h=f.y,p=this.get("layout"),d=this.get("items"),v=!1,g=0,y=this.get("maxWidth"),m=this.get("maxHeight");B(d,function(b,x){var w=n.drawItem(b,x,o,i),S=w.getBBox(),A=l||S.width;A>g&&(g=A),p==="horizontal"?(y&&y<f.x+A-c&&(v=!0,f.x=c,f.y+=o+u),n.moveElementTo(w,f),f.x+=A+s):(m&&m<f.y+o+u-h&&(v=!0,f.x+=g+s,f.y=h,g=0),n.moveElementTo(w,f),f.y+=o+u)}),v&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=h,this.adjustNavigation(t,i))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if(lt(n)){var a=this.getItems();a.forEach(function(i,o){var l=T(T({},As),n(i,o,a)).fontSize;t<l&&(t=l)})}else n&&(t=n.fontSize)}return t},r.prototype.drawMarker=function(t,n,a,i){var o=T(T(T({x:0,y:i/2},n.style),{symbol:$(a.marker,"symbol","circle")}),$(a.marker,"style",{})),l=this.addShape(t,{type:"marker",id:this.getElementId("item-"+a.id+"-marker"),name:"legend-item-marker",attrs:o}),s=l.getBBox();l.attr("x",s.width/2);var u=l.attr(),f=u.stroke,c=u.fill;return f&&l.set("isStroke",!0),c&&l.set("isFill",!0),l},r.prototype.drawItemText=function(t,n,a,i,o,l,s){var u=a.formatter,f=a.style,c=T(T({x:l,y:o/2,text:u?u(i[n],i,s):i[n]},As),lt(f)?f(i,s,this.getItems()):f);return this.addShape(t,{type:"text",id:this.getElementId("item-"+i.id+"-"+n),name:"legend-item-"+n,attrs:c})},r.prototype.drawRadio=function(t,n,a,i,o){var l,s,u=n.style||{},f=(l=u.r)!==null&&l!==void 0?l:i/2,c=f*3.6/8,h=[o+f,i/2-f],p=h[0],d=h[1],v=[p+f,d+f],g=v[0],y=v[1],m=[p,y+f],b=m[0],x=m[1],w=[o,d+f],S=w[0],A=w[1],I=a.showRadio,k=T(T({path:[["M",p,d],["A",f,f,0,0,1,g,y],["L",g-c,y],["L",g,y],["A",f,f,0,0,1,b,x],["L",b,x-c],["L",b,x],["A",f,f,0,0,1,S,A],["L",S+c,A],["L",S,A],["A",f,f,0,0,1,p,d],["L",p,d+c]],stroke:"#000000",fill:"#ffffff"},u),{opacity:I?(s=u==null?void 0:u.opacity)!==null&&s!==void 0?s:.45:0}),E=this.addShape(t,{type:"path",id:this.getElementId("item-"+a.id+"-radio"),name:"legend-item-radio",attrs:k});return E.set("tip",n.tip),E},r.prototype.drawItem=function(t,n,a,i){var o="item-"+t.id,l=this.addGroup(i,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:n}}),s=this.addGroup(l,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:n}}),u=this.get("marker"),f=this.get("itemName"),c=this.get("itemValue"),h=this.get("itemBackground"),p=this.get("radio"),d=this.getLimitItemWidth(),v=0;if(u){var g=this.drawMarker(s,u,t,a),y=u.spacing,m=$(t,["marker","spacing"]);mt(m)&&(y=m),v=g.getBBox().maxX+y}if(f){var b=this.drawItemText(s,"name",f,t,a,v,n);d&&Zo(!0,b,Wt(d-v,0,d)),v=b.getBBox().maxX+f.spacing}if(c){var x=this.drawItemText(s,"value",c,t,a,v,n);d&&(c.alignRight?(x.attr({textAlign:"right",x:d}),Zo(!0,x,Wt(d-v,0,d),"head")):Zo(!0,x,Wt(d-v,0,d))),v=x.getBBox().maxX+c.spacing}if(p&&this.drawRadio(s,p,t,a,v),h){var w=s.getBBox(),S=this.addShape(s,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:T({x:0,y:0,width:w.width,height:a},h.style)});S.toBack()}return this.applyItemStates(t,s),s},r.prototype.adjustNavigation=function(t,n){var a=this,i=this.startX,o=this.startY,l=this.get("layout"),s=n.findAll(function(O){return O.get("name")==="legend-item"}),u=this.get("maxWidth"),f=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),p=this.getItemHeight(),d=ot({},ch,this.get("pageNavigator")),v=this.drawNavigation(t,l,"00/00",d),g=v.getBBox(),y={x:i,y:o},m=1,b=0,x=0,w=0,S=this.get("itemMarginBottom");function A(O,F){var L=O.getBBox(),D=c||L.width,_=F.x+D+h+g.width;return _>u}if(l==="horizontal"){var I=this.get("maxRow")||1,k=p+(I===1?0:S),E=u-h-g.width-g.minX;this.pageHeight=k*I,this.pageWidth=E,B(s,function(O){var F=O.getBBox(),L=c||F.width;(b&&b<y.x+L+h||A(O,y))&&(m===1&&(b=y.x+h,a.moveElementTo(v,{x:E,y:y.y+p/2-g.height/2-g.minY})),m+=1,y.x=i,y.y+=k),a.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:L+h,height:p}}),y.x+=L+h})}else{B(s,function(O){var F=O.getBBox();F.width>x&&(x=F.width)}),w=x,x+=h,u&&(x=Math.min(u,x),w=Math.min(u,w)),this.pageWidth=x,this.pageHeight=f-Math.max(g.height,p+S);var M=Math.floor(this.pageHeight/(p+S));B(s,function(O,F){F!==0&&F%M===0&&(m+=1,y.x+=x,y.y=o),a.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:x,height:p}}),y.y+=p+S}),this.totalPagesCnt=m,this.moveElementTo(v,{x:i+w/2-g.width/2-g.minX,y:f-g.height-g.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),l==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(m/this.get("maxRow")):this.totalPagesCnt=m,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(v),n.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,n,a,i){var o={x:0,y:0},l=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),s=$(i.marker,"style",{}),u=s.size,f=u===void 0?12:u,c=_t(s,["size"]),h=this.drawArrow(l,o,hh,n==="horizontal"?"up":"left",f,c);h.on("click",this.onNavigationBack);var p=h.getBBox();o.x+=p.width+2;var d=this.addShape(l,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:T({x:o.x,y:o.y+f/2,text:a,textBaseline:"middle"},$(i.text,"style"))}),v=d.getBBox();o.x+=v.width+2;var g=this.drawArrow(l,o,fh,n==="horizontal"?"down":"right",f,c);return g.on("click",this.onNavigationAfter),l},r.prototype.updateNavigation=function(t){var n=ot({},ch,this.get("pageNavigator")),a=n.marker.style,i=a.fill,o=a.opacity,l=a.inactiveFill,s=a.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,f=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),c=t?t.findById(this.getElementId(hh)):this.getElementByLocalId(hh),h=t?t.findById(this.getElementId(fh)):this.getElementByLocalId(fh);f.attr("text",u),c.attr("opacity",this.currentPageIndex===1?s:o),c.attr("fill",this.currentPageIndex===1?l:i),c.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?s:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?l:i),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var p=c.getBBox().maxX+2;f.attr("x",p),p+=f.getBBox().width+2,this.updateArrowPath(h,{x:p,y:0})},r.prototype.drawArrow=function(t,n,a,i,o,l){var s=n.x,u=n.y,f=this.addShape(t,{type:"path",id:this.getElementId(a),name:a,attrs:T({size:o,direction:i,path:[["M",s+o/2,u],["L",s,u+o],["L",s+o,u+o],["Z"]],cursor:"pointer"},l)});return f.attr("matrix",Xa({x:s+o/2,y:u+o/2},lx[i])),f},r.prototype.updateArrowPath=function(t,n){var a=n.x,i=n.y,o=t.attr(),l=o.size,s=o.direction,u=Xa({x:a+l/2,y:i+l/2},lx[s]);t.attr("path",[["M",a+l/2,i],["L",a,i+l],["L",a+l,i+l],["Z"]]),t.attr("matrix",u)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,a=t.pageWidth,i=t.pageHeight,o=this.get("layout"),l=o==="horizontal"?{x:0,y:i*(1-n)}:{x:a*(1-n),y:0};return vv(l)},r.prototype.applyItemStates=function(t,n){var a=this.getItemStates(t),i=a.length>0;if(i){var o=n.getChildren(),l=this.get("itemStates");B(o,function(s){var u=s.get("name"),f=u.split("-")[2],c=_o(t,f,l);c&&(s.attr(c),f==="marker"&&!(s.get("isStroke")&&s.get("isFill"))&&(s.get("isStroke")&&s.attr("fill",null),s.get("isFill")&&s.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},r}(gC),U6=1.4,sx=.4,K6=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Ct.textColor,textBaseline:"middle",fontFamily:Ct.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Ct.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,n){this.update({min:t,max:n})},r.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var a=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(a),this.delegateEmit("valuechanged",{originValue:n,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),l=o[1];l<i&&(l=i),n.setValue([i,l])}),t.on("legend-handler-max:drag",function(a){var i=n.getValueByCanvasPoint(a.x,a.y),o=n.getCurrentValue(),l=o[0];l>i&&(l=i),n.setValue([l,i])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var n=this,a=null;t.on("legend-track:dragstart",function(i){a={x:i.x,y:i.y}}),t.on("legend-track:drag",function(i){if(a){var o=n.getValueByCanvasPoint(a.x,a.y),l=n.getValueByCanvasPoint(i.x,i.y),s=n.getCurrentValue(),u=s[1]-s[0],f=n.getRange(),c=l-o;c<0?s[0]+c>f.min?n.setValue([s[0]+c,s[1]+c]):n.setValue([f.min,f.min+u]):c>0&&(c>0&&s[1]+c<f.max?n.setValue([s[0]+c,s[1]+c]):n.setValue([f.max-u,f.max])),a={x:i.x,y:i.y}}}),t.on("legend-track:dragend",function(i){a=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,n){var a=this.get("label"),i=a.style,o=a.align,l=a.formatter,s=this.get(t),u=this.getLabelAlignAttrs(t,o),f="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(f),name:"legend-label-"+t,attrs:T(T({x:0,y:0,text:lt(l)?l(s):s},i),u)})},r.prototype.getLabelAlignAttrs=function(t,n){var a=this.isVertical(),i="center",o="middle";return a?(i="start",n!=="rail"?t==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",t==="min"?i="start":i="end"):(i="start",o="middle"),{textAlign:i,textBaseline:o}},r.prototype.getRailPath=function(t,n,a,i){var o=this.get("rail"),l=o.size,s=o.defaultLength,u=o.type,f=this.isVertical(),c=s,h=a,p=i;h||(h=f?l:c),p||(p=f?c:l);var d=[];return u==="color"?(d.push(["M",t,n]),d.push(["L",t+h,n]),d.push(["L",t+h,n+p]),d.push(["L",t,n+p]),d.push(["Z"])):(d.push(["M",t+h,n]),d.push(["L",t+h,n+p]),d.push(["L",t,n+p]),d.push(["Z"])),d},r.prototype.drawRail=function(t){var n=this.get("rail"),a=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:T({path:this.getRailPath(0,0)},a)})},r.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var a;this.isVertical()?a="l(90)":a="l(0)";for(var i=0;i<n;i++){var o=i/(n-1);a+=" "+o+":"+t[i]}return a},r.prototype.getTrackPath=function(t){var n=this.getRailShape(t),a=n.attr("path");return _e(a)},r.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1],o=this.getRailBBox(t),l=this.getPointByValue(a,t),s=this.getPointByValue(i,t),u=this.isVertical(),f,c,h,p;return u?(f=o.minX,c=l.y,h=o.width,p=s.y-l.y):(f=l.x,c=o.minY,h=s.x-l.x,p=o.height),{x:f,y:c,width:h,height:p}},r.prototype.getTrackAttrs=function(t){var n=this.get("track"),a=this.get("colors"),i=this.getTrackPath(t);return Nt({path:i,fill:this.getTrackColor(a)},n.style)},r.prototype.resetTrackClip=function(t){var n=t||this.get("group"),a=this.getElementId("track"),i=n.findById(a),o=i.getClip(),l=this.getClipTrackAttrs(t);o?o.attr(l):i.setClip({type:"rect",attrs:l})},r.prototype.resetTrack=function(t){var n=this.getElementId("track"),a=t.findById(n),i=this.getTrackAttrs(t);a?a.attr(i):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:i})},r.prototype.getPointByValue=function(t,n){var a=this.getRange(),i=a.min,o=a.max,l=(t-i)/(o-i),s=this.getRailBBox(n),u=this.isVertical(),f={x:0,y:0};return u?(f.x=s.minX+s.width/2,f.y=$a(s.minY,s.maxY,l)):(f.x=$a(s.minX,s.maxX,l),f.y=s.minY+s.height/2),f},r.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){var n=this.getRailShape(t),a=n.getBBox();return a},r.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),a=n.getCanvasBBox();return a},r.prototype.isVertical=function(){return this.get("layout")==="vertical"},r.prototype.getValueByCanvasPoint=function(t,n){var a=this.getRange(),i=a.min,o=a.max,l=this.getRailCanvasBBox(),s=this.isVertical(),u=this.get("step"),f;s?f=(n-l.minY)/l.height:f=(t-l.minX)/l.width;var c=$a(i,o,f);if(u){var h=Math.round((c-i)/u);c=i+h*u}return c>o&&(c=o),c<i&&(c=i),c},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,ll(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,ll(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),a=n[0],i=n[1];this.resetHandler(t,"min",a),this.resetHandler(t,"max",i)},r.prototype.getHandlerPath=function(t,n){var a=this.isVertical(),i=[],o=t.size,l=n.x,s=n.y,u=o*U6,f=o/2,c=o/6;if(a){var h=l+u*sx;i.push(["M",l,s]),i.push(["L",h,s+f]),i.push(["L",l+u,s+f]),i.push(["L",l+u,s-f]),i.push(["L",h,s-f]),i.push(["Z"]),i.push(["M",h,s+c]),i.push(["L",l+u-2,s+c]),i.push(["M",h,s-c]),i.push(["L",l+u-2,s-c])}else{var p=s+u*sx;i.push(["M",l,s]),i.push(["L",l-f,p]),i.push(["L",l-f,s+u]),i.push(["L",l+f,s+u]),i.push(["L",l+f,p]),i.push(["Z"]),i.push(["M",l-c,p]),i.push(["L",l-c,s+u-2]),i.push(["M",l+c,p]),i.push(["L",l+c,s+u-2])}return i},r.prototype.resetHandler=function(t,n,a){var i=this.getPointByValue(a,t),o=this.get("handler"),l=this.getHandlerPath(o,i),s=this.getElementId("handler-"+n),u=t.findById(s),f=this.isVertical();u?u.attr("path",l):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:s,attrs:T(T({path:l},o.style),{cursor:f?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),a=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(a,i,n,o):this.fixedHorizontal(a,i,n,o)},r.prototype.fitRailLength=function(t,n,a,i){var o=this.isVertical(),l=o?"height":"width",s=this.get("label"),u=s.align,f=s.spacing,c=this.get("max"+ei(l));if(c){var h=u==="rail"?a[l]+t[l]+n[l]+f*2:a[l],p=h-c;p>0&&this.changeRailLength(i,l,a[l]-p)}},r.prototype.changeRailLength=function(t,n,a){var i=t.getBBox(),o;n==="height"?o=this.getRailPath(i.x,i.y,i.width,a):o=this.getRailPath(i.x,i.y,a,i.height),t.attr("path",o)},r.prototype.changeRailPosition=function(t,n,a){var i=t.getBBox(),o=this.getRailPath(n,a,i.width,i.height);t.attr("path",o)},r.prototype.fixedHorizontal=function(t,n,a,i){var o=this.get("label"),l=o.align,s=o.spacing,u=a.getBBox(),f=t.getBBox(),c=n.getBBox(),h=u.height;this.fitRailLength(f,c,u,a),u=a.getBBox(),l==="rail"?(t.attr({x:i.x,y:i.y+h/2}),this.changeRailPosition(a,i.x+f.width+s,i.y),n.attr({x:i.x+f.width+u.width+s*2,y:i.y+h/2})):l==="top"?(t.attr({x:i.x,y:i.y}),n.attr({x:i.x+u.width,y:i.y}),this.changeRailPosition(a,i.x,i.y+f.height+s)):(this.changeRailPosition(a,i.x,i.y),t.attr({x:i.x,y:i.y+u.height+s}),n.attr({x:i.x+u.width,y:i.y+u.height+s}))},r.prototype.fixedVertail=function(t,n,a,i){var o=this.get("label"),l=o.align,s=o.spacing,u=a.getBBox(),f=t.getBBox(),c=n.getBBox();if(this.fitRailLength(f,c,u,a),u=a.getBBox(),l==="rail")t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x,i.y+f.height+s),n.attr({x:i.x,y:i.y+f.height+u.height+s*2});else if(l==="right")t.attr({x:i.x+u.width+s,y:i.y}),this.changeRailPosition(a,i.x,i.y),n.attr({x:i.x+u.width+s,y:i.y+u.height});else{var h=Math.max(f.width,c.width);t.attr({x:i.x,y:i.y}),this.changeRailPosition(a,i.x+h+s,i.y),n.attr({x:i.x,y:i.y+u.height})}},r}(gC),mn="g2-tooltip",xn="g2-tooltip-title",ml="g2-tooltip-list",Fc="g2-tooltip-list-item",Pc="g2-tooltip-marker",Lc="g2-tooltip-value",yC="g2-tooltip-name",wv="g2-tooltip-crosshair-x",Sv="g2-tooltip-crosshair-y";const Z6=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:mn,CROSSHAIR_X:wv,CROSSHAIR_Y:Sv,LIST_CLASS:ml,LIST_ITEM_CLASS:Fc,MARKER_CLASS:Pc,NAME_CLASS:yC,TITLE_CLASS:xn,VALUE_CLASS:Lc},Symbol.toStringTag,{value:"Module"}));var jr;const Q6=(jr={},jr[""+mn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Ct.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},jr[""+xn]={marginBottom:"4px"},jr[""+ml]={margin:"0px",listStyleType:"none",padding:"0px"},jr[""+Fc]={listStyleType:"none",marginBottom:"4px"},jr[""+Pc]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},jr[""+Lc]={display:"inline-block",float:"right",marginLeft:"30px"},jr[""+wv]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},jr[""+Sv]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},jr);function J6(e,r,t,n,a){var i={left:e<a.x,right:e+t>a.x+a.width,top:r<a.y,bottom:r+n>a.y+a.height};return i}function tG(e,r,t,n,a,i){var o=e,l=r;switch(i){case"left":o=e-n-t,l=r-a/2;break;case"right":o=e+t,l=r-a/2;break;case"top":o=e-n/2,l=r-a-t;break;case"bottom":o=e-n/2,l=r+t;break;default:o=e+t,l=r-a-t;break}return{x:o,y:l}}function eG(e,r,t,n,a,i,o){var l=tG(e,r,t,n,a,i);if(o){var s=J6(l.x,l.y,n,a,o);i==="auto"?(s.right&&(l.x=Math.max(0,e-n-t)),s.top&&(l.y=Math.max(0,r-a-t))):i==="top"||i==="bottom"?(s.left&&(l.x=o.x),s.right&&(l.x=o.x+o.width-n),i==="top"&&s.top&&(l.y=r+t),i==="bottom"&&s.bottom&&(l.y=r-a-t)):(s.top&&(l.y=o.y),s.bottom&&(l.y=o.y+o.height-a),i==="left"&&s.left&&(l.x=e+t),i==="right"&&s.right&&(l.x=e-n-t))}return l}function rG(e,r){var t=!1;return B(r,function(n){if(Qn(e,n))return t=!0,!1}),t}var nG=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+mn+'"><div class="'+xn+'"></div><ul class="'+ml+'"></ul></div>',itemTpl:'<li class="'+Fc+`" data-index={index}>
          <span class="`+Pc+`" style="background:{color}"></span>
          <span class="`+yC+`">{name}</span>:
          <span class="`+Lc+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+wv+'"></div>',yCrosshairTpl:'<div class="'+Sv+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:mn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Q6})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Pe(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Pe(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",a=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");a&&Pe(a,{display:n}),i&&Pe(i,{display:n})},r.prototype.initContainer=function(){if(e.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(rG(t,["title","showTitle"])&&this.resetTitle(),Qn(t,"items")&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){e.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),a=this.get("offset"),i=this.getOffset(),o=i.offsetX,l=i.offsetY,s=this.get("position"),u=this.get("region"),f=this.getContainer(),c=this.getBBox(),h=c.width,p=c.height,d;u&&(d=vl(u));var v=eG(t,n,a,h,p,s,d);Pe(f,{left:Ve(v.x+o),top:Ve(v.y+l)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),a=this.get("container");a&&a.parentNode===n?n.replaceChild(t,a):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var a=n(this.get("title"),this.get("items"));R1(a)?t=a:t=Yn(a)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(xn)[0],a=t.getElementsByClassName(ml)[0];this.set("titleDom",n),this.set("listDom",a)},r.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},r.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var a=vl(t),i=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",a),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",a),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",a),this.resetCrosshair("y",a)),this.setCrossHairsVisible(this.get("visible"))}},r.prototype.resetCrosshair=function(t,n){var a=this.checkCrosshair(t),i=this.get(t);t==="x"?Pe(a,{left:Ve(i),top:Ve(n.y),height:Ve(n.height)}):Pe(a,{top:Ve(i),left:Ve(n.x),width:Ve(n.width)})},r.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",a=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),o=Z6[i],l=this.get(n),s=this.get("parent");return l||(l=Yn(this.get(a)),this.applyStyle(o,l),s.appendChild(l),this.set(n,l)),l},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),a=this.get("listDom");a&&(B(t,function(i){var o=qn.toCSSGradient(i.color),l=T(T({},i),{color:o}),s=P1(n,l),u=Yn(s);a.appendChild(u)}),this.applyChildrenStyles(a,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&yv(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(mv),aG={opacity:0},iG={stroke:"#C5C5C5",strokeOpacity:.85},oG={fill:"#CACED4",opacity:.85};function lG(e){return Gt(e,function(r,t){var n=t===0?"M":"L",a=r[0],i=r[1];return[n,a,i]})}function mC(e){return lG(e)}function sG(e){if(e.length<=2)return mC(e);var r=[];B(e,function(o){Jt(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=x8(r,!1),n=tr(e),a=n[0],i=n[1];return t.unshift(["M",a,i]),t}function uG(e,r,t,n){n===void 0&&(n=!0);var a=new Ec({values:e}),i=new Tc({values:Gt(e,function(l,s){return s})}),o=Gt(e,function(l,s){return[i.scale(s)*r,t-a.scale(l)*t]});return n?sG(o):mC(o)}function cG(e,r){var t=new Ec({values:e}),n=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(n)*r}function fG(e,r,t,n){var a=ll(e),i=cG(n,t);return a.push(["L",r,i]),a.push(["L",0,i]),a.push(["Z"]),a}var hG=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:aG,lineStyle:iG,areaStyle:oG})},r.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.data,l=n.smooth,s=n.isArea,u=n.backgroundStyle,f=n.lineStyle,c=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:T({x:0,y:0,width:a,height:i},u)});var h=uG(o,a,i,l);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:T({path:h},f)}),s){var p=fG(h,a,i,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:T({path:p},c)})}},r.prototype.applyOffset=function(){var t=this.cfg,n=t.x,a=t.y;this.moveElementTo(this.get("group"),{x:n,y:a})},r}(Fe),xC={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ux=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"handler",x:0,y:0,width:10,height:24,style:xC})},r.prototype.renderInner=function(t){var n=this.cfg,a=n.width,i=n.height,o=n.style,l=o.fill,s=o.stroke,u=o.radius,f=o.opacity,c=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:a,height:i,fill:l,stroke:s,radius:u,opacity:f,cursor:c}});var h=1/3*a,p=2/3*a,d=1/4*i,v=3/4*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:d,x2:h,y2:v,stroke:s,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:p,y1:d,x2:p,y2:v,stroke:s,cursor:c}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(Fe),pG={fill:"#416180",opacity:.05},dG={fill:"#5B8FF9",opacity:.15,cursor:"move"},ru=10,vG={width:ru,height:24},gG={textBaseline:"middle",fill:"#000",opacity:.45},yG="sliderchange",mG=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(a){t.currentTarget=n;var i=a.originalEvent;i.stopPropagation(),i.preventDefault(),t.prevX=$(i,"touches.0.pageX",i.pageX),t.prevY=$(i,"touches.0.pageY",i.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var a=t.cfg.width,i=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var o=$(n,"touches.0.pageX",n.pageX),l=$(n,"touches.0.pageY",n.pageY),s=o-t.prevX,u=t.adjustOffsetRange(s/a);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=l,t.draw(),t.emit(yG,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:i,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.get("start"),i=this.get("end"),o=Wt(a,t,n),l=Wt(i,t,n);!this.get("isInit")&&(a!==o||i!==l)&&this.setValue([o,l])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange();if(J(t)&&t.length===2){var a=[this.get("start"),this.get("end")];this.update({start:Wt(t[0],n.min,n.max),end:Wt(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:a,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:pG,foregroundStyle:dG,handlerStyle:vG,textStyle:gG}})},r.prototype.update=function(t){var n=t.start,a=t.end,i=T({},t);Q(n)||(i.start=Wt(n,0,1)),Q(a)||(i.end=Wt(a,0,1)),e.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",Wt(this.get("start"),0,1)),this.set("end",Wt(this.get("end"),0,1)),e.prototype.init.call(this)},r.prototype.render=function(){e.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var n=this.cfg;n.start,n.end;var a=n.width,i=n.height,o=n.trendCfg,l=o===void 0?{}:o,s=n.minText,u=n.maxText,f=n.backgroundStyle,c=f===void 0?{}:f,h=n.foregroundStyle,p=h===void 0?{}:h,d=n.textStyle,v=d===void 0?{}:d,g=ot({},xC,this.cfg.handlerStyle);me($(l,"data"))&&(this.trend=this.addComponent(t,T({component:hG,id:this.getElementId("trend"),x:0,y:0,width:a,height:i},l))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:T({x:0,y:0,width:a,height:i},c)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:T({y:i/2,textAlign:"right",text:s,silent:!1},v)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:T({y:i/2,textAlign:"left",text:u,silent:!1},v)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:T({y:0,height:i},p)});var y=$(g,"width",ru),m=$(g,"height",24);this.minHandler=this.addComponent(t,{component:ux,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(i-m)/2,width:y,height:m,cursor:"ew-resize",style:g}),this.maxHandler=this.addComponent(t,{component:ux,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(i-m)/2,width:y,height:m,cursor:"ew-resize",style:g})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,n,a){var i=this.cfg,o=i.start,l=i.end,s=i.width,u=i.minText,f=i.maxText,c=i.handlerStyle,h=i.height,p=o*s,d=l*s;this.trend&&(this.trend.update({width:s,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",p),t.attr("width",d-p);var v=$(c,"width",ru);n.attr("text",u),a.attr("text",f);var g=this._dodgeText([p,d],n,a),y=g[0],m=g[1];this.minHandler&&(this.minHandler.update({x:p-v/2}),this.get("updateAutoRender")||this.minHandler.render()),B(y,function(b,x){return n.attr(x,b)}),this.maxHandler&&(this.maxHandler.update({x:d-v/2}),this.get("updateAutoRender")||this.maxHandler.render()),B(m,function(b,x){return a.attr(x,b)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":{var o=0-a,l=1-a;return Math.min(l,Math.max(o,t))}case"maxHandler":{var o=0-i,l=1-i;return Math.min(l,Math.max(o,t))}case"foreground":{var o=0-a,l=1-i;return Math.min(l,Math.max(o,t))}}},r.prototype.updateStartEnd=function(t){var n=this.cfg,a=n.start,i=n.end;switch(this.currentTarget){case"minHandler":a+=t;break;case"maxHandler":i+=t;break;case"foreground":a+=t,i+=t;break}this.set("start",a),this.set("end",i)},r.prototype._dodgeText=function(t,n,a){var i,o,l=this.cfg,s=l.handlerStyle,u=l.width,f=2,c=$(s,"width",ru),h=t[0],p=t[1],d=!1;h>p&&(i=[p,h],h=i[0],p=i[1],o=[a,n],n=o[0],a=o[1],d=!0);var v=n.getBBox(),g=a.getBBox(),y=v.width>h-f?{x:h+c/2+f,textAlign:"left"}:{x:h-c/2-f,textAlign:"right"},m=g.width>u-p-f?{x:p-c/2-f,textAlign:"right"}:{x:p+c/2+f,textAlign:"left"};return d?[m,y]:[y,m]},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r}(Fe),xG={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},ph={default:xG,hover:{thumbColor:"rgba(0,0,0,0.2)"}},bG=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.clearEvents=Hn,t.onStartEvent=function(n){return function(a){t.isMobile=n,a.originalEvent.preventDefault();var i=n?$(a.originalEvent,"touches.0.clientX"):a.clientX,o=n?$(a.originalEvent,"touches.0.clientY"):a.clientY;t.startPos=t.cfg.isHorizontal?i:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),a=[];t.isMobile?a=[fi(n,"touchmove",t.onMouseMove),fi(n,"touchend",t.onMouseUp),fi(n,"touchcancel",t.onMouseUp)]:a=[fi(n,"mousemove",t.onMouseMove),fi(n,"mouseup",t.onMouseUp),fi(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){a.forEach(function(i){i.remove()})}},t.onMouseMove=function(n){var a=t.cfg,i=a.isHorizontal,o=a.thumbOffset;n.preventDefault();var l=t.isMobile?$(n,"touches.0.clientX"):n.clientX,s=t.isMobile?$(n,"touches.0.clientY"):n.clientY,u=i?l:s,f=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+f)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var a=t.cfg,i=a.isHorizontal,o=a.x,l=a.y,s=a.thumbLen,u=t.getContainerDOM(),f=u.getBoundingClientRect(),c=n.clientX,h=n.clientY,p=i?c-f.left-o-s/2:h-f.top-l-s/2,d=t.validateRange(p);t.updateThumbOffset(d)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var a=this.getValue(),i=Wt(a,t,n);a!==i&&!this.get("isInit")&&this.setValue(i)},r.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},r.prototype.setValue=function(t){var n=this.getRange(),a=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Wt(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:a,value:this.getValue()})},r.prototype.getValue=function(){return Wt(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return T(T({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:ph})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var n=this.cfg,a=n.trackLen,i=n.theme,o=i===void 0?{default:{}}:i,l=ot({},ph,o).default,s=l.lineCap,u=l.trackColor,f=l.size,c=$(this.cfg,"size",f),h=this.get("isHorizontal")?{x1:0+c/2,y1:c/2,x2:a-c/2,y2:c/2,lineWidth:c,stroke:u,lineCap:s}:{x1:c/2,y1:0+c/2,x2:c/2,y2:a-c/2,lineWidth:c,stroke:u,lineCap:s};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},r.prototype.renderThumbShape=function(t){var n=this.cfg,a=n.thumbOffset,i=n.thumbLen,o=n.theme,l=ot({},ph,o).default,s=l.size,u=l.lineCap,f=l.thumbColor,c=$(this.cfg,"size",s),h=this.get("isHorizontal")?{x1:a+c/2,y1:c/2,x2:a+i-c/2,y2:c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"}:{x1:c/2,y1:a+c/2,x2:c/2,y2:a+i-c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var a=t.findById(this.getElementId("thumb"));a.on("mouseover",this.onThumbMouseOver),a.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r.prototype.validateRange=function(t){var n=this.cfg,a=n.thumbLen,i=n.trackLen,o=t;return t+a>i?o=i-a:t+a<a&&(o=0),o},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.updateThumbOffset=function(t){var n=this.cfg,a=n.thumbOffset,i=n.isHorizontal,o=n.thumbLen,l=n.size,s=this.validateRange(t);if(s!==a){var u=this.getElementByLocalId("thumb");i?u.attr({x1:s+l/2,x2:s+o-l/2}):u.attr({y1:s+l/2,y2:s+o-l/2}),this.emitOffsetChange(s)}},r.prototype.emitOffsetChange=function(t){var n=this.cfg,a=n.thumbOffset,i=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Wt(t/(i-o),0,1)}),this.delegateEmit("valuechange",{originalValue:a,value:t})},r}(Fe),wG=j6,SG=z6,CG=q6,AG=Y6,cx=X6,TG=K6,Rc=nG;function IG(e){if(Ue(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,a=e[0].y;return B(e,function(i){r=r>i.x?i.x:r,t=t<i.x?i.x:t,n=n>i.y?i.y:n,a=a<i.y?i.y:a}),{minX:r,maxX:t,minY:n,maxY:a,centerX:(r+t)/2,centerY:(n+a)/2}}function fx(e){return Array.from(new Set(e)).length===1}function hx(e){return(br(e)+ir(e))/2}function ie(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function Xn(e,r,t,n,a,i){i===void 0&&(i=0);var o=ie(e,r,t,n),l=ie(e,r,t,a),s=ie(e,r,i,n),u=ie(e,r,i,a);if(a-n===Math.PI*2){var f=ie(e,r,t,n+Math.PI),c=ie(e,r,i,n+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,l.x,l.y],["M",s.x,s.y]];return i&&(h.push(["A",i,i,0,1,0,c.x,c.y]),h.push(["A",i,i,0,1,0,u.x,u.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var p=a-n<=Math.PI?0:1,d=[["M",o.x,o.y],["A",t,t,0,p,1,l.x,l.y],["L",u.x,u.y]];return i&&d.push(["A",i,i,0,p,0,s.x,s.y]),d.push(["L",o.x,o.y]),d.push(["Z"]),d}function bC(e,r,t,n,a){var i=ie(e,r,t,n),o=ie(e,r,t,a);if(Ae(a-n,Math.PI*2)){var l=ie(e,r,t,n+Math.PI);return[["M",i.x,i.y],["A",t,t,0,1,1,l.x,l.y],["A",t,t,0,1,1,i.x,i.y],["A",t,t,0,1,0,l.x,l.y],["A",t,t,0,1,0,i.x,i.y],["Z"]]}var s=a-n<=Math.PI?0:1;return[["M",i.x,i.y],["A",t,t,0,s,1,o.x,o.y]]}function xl(e,r){var t=e.points,n=IG(t),a,i,o=r.startAngle,l=r.endAngle,s=l-o;return r.isTransposed?(a=n.maxY*s,i=n.minY*s):(a=n.maxX*s,i=n.minX*s),a+=o,i+=o,{startAngle:i,endAngle:a}}function EG(e,r){if(mt(e)&&mt(r))return[e,r];if(e=e,r=r,fx(e)||fx(r))return[hx(e),hx(r)];for(var t=-1,n=0,a=0,i,o=e.length-1,l,s=0;++t<e.length;)i=o,o=t,s+=l=e[i]*r[o]-e[o]*r[i],n+=(e[i]+e[o])*l,a+=(r[i]+r[o])*l;return s*=3,[n/s,a/s]}function wC(e,r){var t=e.attr(),n=r.attr();return B(t,function(a,i){n[i]===void 0&&(n[i]=void 0)}),n}function Ci(e,r,t){var n=Math.min(r,t),a=Math.max(r,t);return e>=n&&e<=a}function MG(e,r,t){if(dt(e))return e.padEnd(r,t);if(J(e)){var n=e.length;if(n<r)for(var a=r-n,i=0;i<a;i++)e.push(t)}return e}function We(e,r){return typeof e=="object"&&r.forEach(function(t){delete e[t]}),e}function jn(e,r,t){var n,a;r===void 0&&(r=[]),t===void 0&&(t=new Map);try{for(var i=Ft(e),o=i.next();!o.done;o=i.next()){var l=o.value;t.has(l)||(r.push(l),t.set(l,!0))}}catch(s){n={error:s}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return r}var $e=function(){function e(r,t,n,a){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.x=r,this.y=t,this.height=a,this.width=n}return e.fromRange=function(r,t,n,a){return new e(r,t,n-r,a-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return B(r,function(a){n.x=Math.min(a.x,n.x),n.y=Math.min(a.y,n.y),n.width=Math.max(a.maxX,n.maxX)-n.x,n.height=Math.max(a.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return B(r,function(a){n.x=Math.max(a.x,n.x),n.y=Math.max(a.y,n.y),n.width=Math.min(a.maxX,n.maxX)-n.x,n.height=Math.min(a.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,a=r.height;switch(t){case at.TOP:case at.TOP_LEFT:case at.TOP_RIGHT:return e.fromRange(this.minX,this.minY+a,this.maxX,this.maxY);case at.RIGHT:case at.RIGHT_TOP:case at.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case at.BOTTOM:case at.BOTTOM_LEFT:case at.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-a);case at.LEFT:case at.LEFT_TOP:case at.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=ut(r,4),n=t[0],a=t[1],i=t[2],o=t[3];return new e(this.x+o,this.y+n,this.width-o-a,this.height-n-i)},e.prototype.expand=function(r){var t=ut(r,4),n=t[0],a=t[1],i=t[2],o=t[3];return new e(this.x-o,this.y-n,this.width+o+a,this.height+n+i)},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}();function OG(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}function zl(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function kG(e){if(e.isPolar){var r=e.startAngle,t=e.endAngle;return t-r===Math.PI*2}return!1}function Dc(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function FG(e,r){var t=!1;if(e)if(e.type==="theta"){var n=e.start,a=e.end;t=Ci(r.x,n.x,a.x)&&Ci(r.y,n.y,a.y)}else{var i=e.invert(r);t=Ci(i.x,0,1)&&Ci(i.y,0,1)}return t}function Hi(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Cv(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,a=e.getWidth(),i=e.getHeight();if(e.isPolar){var o=e.startAngle,l=e.endAngle,s=e.getCenter(),u=e.getRadius();return{type:"path",startState:{path:Xn(s.x,s.y,u+r,o,o)},endState:function(c){var h=(l-o)*c+o,p=Xn(s.x,s.y,u+r,o,h);return{path:p}},attrs:{path:Xn(s.x,s.y,u+r,o,l)}}}var f;return e.isTransposed?f={height:i+r*2}:f={width:a+r*2},{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?a+r*2:0,height:e.isTransposed?0:i+r*2},endState:f,attrs:{x:t.x-r,y:n.y-r,width:a+r*2,height:i+r*2}}}function PG(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,a=e.getWidth(),i=e.getHeight(),o=Math.min(t.x,n.x),l=Math.min(t.y,n.y);return $e.fromRange(o-r,l-r,o+a+r,l+i+r)}var LG=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function RG(e){var r="linear";return LG.test(e)?r="timeCat":dt(e)&&(r="cat"),r}function SC(e,r,t,n){return r===void 0&&(r={}),r.type?r.type:e.type!=="identity"&&bi.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function DG(e,r,t){var n=r||[];if(mt(e)||Q(pz(n,e))&&Ue(t)){var a=Kp("identity");return new a({field:e.toString(),values:[e]})}var i=Lr(n,e),o=$(t,"type",RG(i[0])),l=Kp(o);return new l(T({field:e,values:i},t))}function BG(e,r){if(e.type!=="identity"&&r.type!=="identity"){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}function bl(e){return e.alias||e.field}function CC(e,r,t){var n=e.values,a=n.length,i;if(a===1)i=[.5,1];else{var o=1,l=0;kG(r)?r.isTransposed?(o=$(t,"widthRatio.multiplePie",1/1.3),l=1/a*o,i=[l/2,1-l/2]):i=[0,1-1/a]:(l=1/a/2,i=[l,1-l])}return i}function _G(e){var r=e.values.filter(function(t){return!Q(t)&&!isNaN(t)});return Math.max.apply(Math,pt(pt([],ut(r),!1),[Q(e.max)?-1/0:e.max],!1))}function NG(e){var r,t;switch(e){case at.TOP:r={x:0,y:1},t={x:1,y:1};break;case at.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case at.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case at.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function $G(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function Ts(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=NG(r):e.isPolar&&(t=$G(e));var n=t.start,a=t.end;return{start:e.convert(n),end:e.convert(a)}}function AC(e){var r=e.start,t=e.end;return r.x===t.x}function px(e,r){var t=e.start,n=e.end,a=AC(e);return a?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function Is(e,r){var t=$(e,["components","axis"],{});return ot({},$(t,["common"],{}),ot({},$(t,[r],{})))}function dx(e,r,t){var n=$(e,["components","axis"],{});return ot({},$(n,["common","title"],{}),ot({},$(n,[r,"title"],{})),t)}function dh(e){var r=e.x,t=e.y,n=e.circleCenter,a=t.start>t.end,i=e.isTransposed?e.convert({x:a?0:1,y:0}):e.convert({x:0,y:a?0:1}),o=[i.x-n.x,i.y-n.y],l=[1,0],s=i.y>n.y?_p(o,l):_p(o,l)*-1,u=s+(r.end-r.start),f=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2));return{center:n,radius:f,startAngle:s,endAngle:u}}function Du(e,r){return Ni(e)?e===!1?!1:{}:$(e,[r])}function vx(e,r){return $(e,"position",r)}function gx(e,r){return $(r,["title","text"],bl(e))}var uo=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=ot({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var t=r.region,n=r.data,a=r.padding,i=a===void 0?this.cfg.padding:a,o=this.view.createView({region:t,padding:i});o.data(n||[]),r.view=o,this.beforeEachView(o,r);var l=this.cfg.eachView;return l&&l(o,r),this.afterEachView(o,r),o},e.prototype.createContainer=function(){var r=this.view.getLayer(re.FORE);return r.addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;B(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height,a=this.cfg.spacing;return a.map(function(i,o){return mt(i)?i/(o===0?t:n):parseFloat(i)/100})},e.prototype.getFieldValues=function(r,t){var n=[],a={};return B(r,function(i){var o=i[t];!Q(o)&&!a[o]&&(n.push(o),a[o]=!0)}),n},e.prototype.getRegion=function(r,t,n,a){var i=ut(this.parseSpacing(),2),o=i[0],l=i[1],s=(1+o)/(t===0?1:t)-o,u=(1+l)/(r===0?1:r)-l,f={x:(s+o)*n,y:(u+l)*a},c={x:f.x+s,y:f.y+u};return{start:f,end:c}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),a=n.coordinate,i=r.geometries,o=$(a,"type","rect");if(o==="rect"&&i.length){Q(n.axes)&&(n.axes={});var l=n.axes,s=ut(i[0].getXYFields(),2),u=s[0],f=s[1],c=Du(l,u),h=Du(l,f);c!==!1&&(n.axes[u]=this.getXAxisOption(u,l,c,t)),h!==!1&&(n.axes[f]=this.getYAxisOption(f,l,h,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return qd(r,function(n){var a=n.field,i=n.value;return!Q(i)&&a?t[a]===i:!0})}},e}(),TC={},jG=function(e){return TC[oo(e)]},co=function(e,r){TC[oo(e)]=r},Ht=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){Nt(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}(),zG=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(Ht),Av={};function HG(e,r){var t=Av[e],n=null;if(t){var a=t.ActionClass,i=t.cfg;n=new a(r,i),n.name=e,n.init()}return n}function Bc(e){var r=Av[e];return $(r,"ActionClass")}function ft(e,r,t){Av[e]={ActionClass:r,cfg:t}}function VG(e,r){var t=new zG(r);return t.callback=e,t.name="callback",t}function WG(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,a=e.length;n<a;n+=1){var i=e[n];t.push(["L",i.x,i.y])}r&&t.push(["Z"])}return t}function rd(e,r){for(var t=[e[0]],n=1,a=e.length;n<a;n=n+2){var i=r.convert({x:e[n],y:e[n+1]});t.push(i.x,i.y)}return t}function IC(e,r){var t=r.isTransposed,n=e[1],a=e[6],i=e[7],o=r.convert({x:a,y:i}),l=t?0:1;return["A",n,n,0,0,l,o.x,o.y]}function GG(e,r,t){var n=t.isTransposed,a=t.startAngle,i=t.endAngle,o=e[0].toLowerCase()==="a"?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},l={x:r[1],y:r[2]},s=[],u=n?"y":"x",f=Math.abs(l[u]-o[u])*(i-a),c=l[u]>=o[u]?1:0,h=f>Math.PI?1:0,p=t.convert(l),d=Dc(t,p);if(d>=.5)if(f===Math.PI*2){var v={x:(l.x+o.x)/2,y:(l.y+o.y)/2},g=t.convert(v);s.push(["A",d,d,0,h,c,g.x,g.y]),s.push(["A",d,d,0,h,c,p.x,p.y])}else s.push(["A",d,d,0,h,c,p.x,p.y]);return s}function YG(e){B(e,function(r,t){var n=r;if(n[0].toLowerCase()==="a"){var a=e[t-1],i=e[t+1];i&&i[0].toLowerCase()==="a"?a&&a[0].toLowerCase()==="l"&&(a[0]="M"):a&&a[0].toLowerCase()==="a"&&i&&i[0].toLowerCase()==="l"&&(i[0]="M")}})}var qG=function(e,r,t,n){var a,i=[],o=!!n,l,s,u,f,c,h,p;if(o){a=ut(n,2),u=a[0],f=a[1];for(var d=0,v=e.length;d<v;d++){var g=e[d];u=Se([0,0],u,g),f=Ce([0,0],f,g)}}for(var d=0,y=e.length;d<y;d++){var g=e[d];if(d===0&&!t)p=g;else if(d===y-1&&!t)h=g,i.push(p),i.push(h);else{l=e[t?d?d-1:y-1:d-1],s=e[t?(d+1)%y:d+1];var m=[0,0];m=Da(m,s,l),m=Ne(m,m,r);var b=$i(g,l),x=$i(g,s),w=b+x;w!==0&&(b/=w,x/=w);var S=Ne([0,0],m,-b),A=Ne([0,0],m,x);h=Yr([0,0],g,S),c=Yr([0,0],g,A),c=Se([0,0],c,Ce([0,0],s,g)),c=Ce([0,0],c,Se([0,0],s,g)),S=Da([0,0],c,g),S=Ne([0,0],S,-b/x),h=Yr([0,0],g,S),h=Se([0,0],h,Ce([0,0],l,g)),h=Ce([0,0],h,Se([0,0],l,g)),A=Da([0,0],g,h),A=Ne([0,0],A,x/b),c=Yr([0,0],g,A),o&&(h=Ce([0,0],h,u),h=Se([0,0],h,f),c=Ce([0,0],c,u),c=Se([0,0],c,f)),i.push(p),i.push(h),p=c}}return t&&i.push(i.shift()),i};function EC(e,r,t){for(var n=!!r,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var l=qG(a,.4,n,t),s=a.length,u=[],f,c,h,i=0;i<s-1;i++)f=l[i*2],c=l[i*2+1],h=a[i+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return n&&(f=l[s],c=l[s+1],h=a[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}function Hl(e,r){return WG(e,r)}function Bu(e,r,t){var n=[],a=e[0],i=null;if(e.length<=2)return Hl(e,r);for(var o=0,l=e.length;o<l;o++){var s=e[o];(!i||!(i.x===s.x&&i.y===s.y))&&(n.push(s.x),n.push(s.y),i=s)}var u=t||[[0,0],[1,1]],f=EC(n,r,u);return f.unshift(["M",a.x,a.y]),f}function XG(e,r){var t=[];return B(r,function(n){var a=n[0];switch(a.toLowerCase()){case"m":case"l":case"c":t.push(rd(n,e));break;case"a":t.push(IC(n,e));break;case"z":default:t.push(n);break}}),t}function UG(e,r){var t=[],n,a,i,o;return B(r,function(l,s){var u=l[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(rd(l,e));break;case"l":n=r[s-1],a=l,i=e.isTransposed,o=i?n[n.length-2]===a[1]:n[n.length-1]===a[2],o?t=t.concat(GG(n,a,e)):t.push(rd(l,e));break;case"a":t.push(IC(l,e));break;case"z":default:t.push(l);break}}),YG(t),t}function MC(e,r){var t=e.event,n=t.target;return kC(n,r)}function OC(e,r){var t=e.getCanvasBBox(),n=t.width,a=t.height;return n>0&&a>0&&(n>=r||a>=r)}function kC(e,r){var t=e.getCanvasBBox();return OC(e,r)?t:null}function FC(e,r){var t=e.event.maskShapes;return t.map(function(n){return kC(n,r)}).filter(function(n){return!!n})}function KG(e,r){var t=e.event,n=t.target;return PC(n,r)}function PC(e,r){return OC(e,r)?e.attr("path"):null}function ZG(e,r){var t=e.event.maskShapes;return t.map(function(n){return PC(n,r)})}function ea(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}function Ua(e){var r=e.event,t=r.target,n;return t&&(n=t.get("delegateObject")),n}function LC(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function wl(e){return e&&e.component&&e.component.isList()}function RC(e){return e&&e.component&&e.component.isSlider()}function Sl(e){var r=e.event,t=r.target;return t&&(t==null?void 0:t.get("name"))==="mask"||_c(e)}function _c(e){var r;return((r=e.event.target)===null||r===void 0?void 0:r.get("name"))==="multi-mask"}function Tv(e,r){var t=e.event.target;if(_c(e))return QG(e,r);if(t.get("type")==="path"){var n=KG(e,r);return n?NC(e.view,n):void 0}var a=MC(e,r);return a?Nc(e.view,a):null}function QG(e,r){var t=e.event.target;if(t.get("type")==="path"){var n=ZG(e,r);return n.length>0?n.flatMap(function(i){return NC(e.view,i)}):null}var a=FC(e,r);return a.length>0?a.flatMap(function(i){return Nc(e.view,i)}):null}function DC(e,r,t){if(_c(e))return JG(e,r,t);var n=MC(e,t);return n?BC(n,e,r):null}function BC(e,r,t){var n=r.view,a=nd(n,t,{x:e.x,y:e.y}),i=nd(n,t,{x:e.maxX,y:e.maxY}),o={minX:a.x,minY:a.y,maxX:i.x,maxY:i.y};return Nc(t,o)}function JG(e,r,t){var n=FC(e,t);return n.length>0?n.flatMap(function(a){return BC(a,e,r)}):null}function Ie(e){var r=e.geometries,t=[];return B(r,function(n){var a=n.elements;t=t.concat(a)}),e.views&&e.views.length&&B(e.views,function(n){t=t.concat(Ie(n))}),t}function tY(e,r,t){var n=Ie(e);return n.filter(function(a){return Rr(a,r)===t})}function _C(e,r){var t=e.geometries,n=[];return B(t,function(a){var i=a.getElementsBy(function(o){return o.hasState(r)});n=n.concat(i)}),n}function Rr(e,r){var t=e.getModel(),n=t.data,a;return J(n)?a=n[0][r]:a=n[r],a}function eY(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function Nc(e,r){var t=Ie(e),n=[];return B(t,function(a){var i=a.shape,o=i.getCanvasBBox();eY(r,o)&&n.push(a)}),n}function yx(e){var r=[];return B(e,function(t){var n=t[0];if(n!=="A")for(var a=1;a<t.length;a=a+2)r.push([t[a],t[a+1]]);else{var i=t.length;r.push([t[i-2],t[i-1]])}}),r}function NC(e,r){var t=Ie(e),n=yx(r),a=t.filter(function(i){var o=i.shape,l;if(o.get("type")==="path")l=yx(o.attr("path"));else{var s=o.getCanvasBBox();l=OG(s)}return O8(n,l)});return a}function $C(e){return e.getComponents().map(function(r){return r.component})}function Iv(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function rY(e,r){if(e.length<=2)return Hl(e,!1);var t=e[0],n=[];B(e,function(i){n.push(i.x),n.push(i.y)});var a=EC(n,r,null);return a.unshift(["M",t.x,t.y]),a}function mx(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function Zr(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function nY(e,r){var t=e.getCoordinate();return t.invert(r)}function nd(e,r,t){var n=nY(e,t);return r.getCoordinate().convert(n)}function jC(e,r,t,n){var a=!1;return B(e,function(i){if(i[t]===r[t]&&i[n]===r[n])return a=!0,!1}),a}function Vi(e,r){var t=e.getScaleByField(r);return!t&&e.views&&B(e.views,function(n){if(t=Vi(n,r),t)return!1}),t}var aY=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(r.clientX,r.clientY);return n}else return{x:r.x,y:r.y};return null},e.prototype.getCurrentShape=function(){return $(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},e.prototype.isInComponent=function(r){var t=$C(this.view),n=this.getCurrentPoint();return n?!!t.find(function(a){var i=a.getBBox();return r?a.get("name")===r&&mx(i,n):mx(i,n)}):!1},e.prototype.destroy=function(){B(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}(),iY=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}();function xx(e,r,t){var n=e.split(":"),a=n[0],i=r.getAction(a)||HG(a,r);if(!i)throw new Error("There is no action named ".concat(a));var o=n[1];return{action:i,methodName:o,arg:t}}function bx(e){var r=e.action,t=e.methodName,n=e.arg;if(r[t])r[t](n);else throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t))}var Je={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},oY=function(e){q(r,e);function r(t,n){var a=e.call(this,t,n)||this;return a.callbackCaches={},a.emitCaches={},a.steps=n,a}return r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;B(this.steps,function(n,a){B(n,function(i){var o=t.getActionCallback(a,i);o&&t.bindEvent(i.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;B(this.steps,function(n,a){B(n,function(i){var o=t.getActionCallback(a,i);o&&t.offEvent(i.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,n=new aY(t);this.context=n;var a=this.steps;B(a,function(i){B(i,function(o){if(lt(o.action))o.actionObject={action:VG(o.action,n),methodName:"execute"};else if(dt(o.action))o.actionObject=xx(o.action,n,o.arg);else if(J(o.action)){var l=o.action,s=J(o.arg)?o.arg:[o.arg];o.actionObject=[],B(l,function(u,f){o.actionObject.push(xx(u,n,s[f]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName,a=this.steps;if(n===t||t===Je.SHOW_ENABLE)return!0;if(t===Je.PROCESSING)return n===Je.START;if(t===Je.START)return n!==Je.PROCESSING;if(t===Je.END)return n===Je.PROCESSING||n===Je.START;if(t===Je.ROLLBACK){if(a[Je.END])return n===Je.END;if(n===Je.START)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var a=this.getKey(t,n);return n.once&&this.emitCaches[a]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){t!==Je.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var a=this.getKey(t,n);this.emitCaches[a]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var a=this,i=this.context,o=this.callbackCaches,l=n.actionObject;if(n.action&&l){var s=this.getKey(t,n);if(!o[s]){var u=function(f){i.event=f,a.isAllowExecute(t,n)?(J(l)?B(l,function(c){i.event=f,bx(c)}):(i.event=f,bx(l)),a.afterExecute(t,n),n.callback&&(i.event=f,n.callback(i))):i.event=null};n.debounce?o[s]=D1(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[s]=Zd(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[s]=u}return o[s]}return null},r.prototype.bindEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.addEventListener(a[1],n):a[0]==="document"?document.addEventListener(a[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var a=t.split(":");a[0]==="window"?window.removeEventListener(a[1],n):a[0]==="document"?document.removeEventListener(a[1],n):this.view.off(t,n)},r}(iY),zC={};function lY(e){return zC[oo(e)]}function xt(e,r){zC[oo(e)]=r}function sY(e,r,t){var n=lY(e);if(!n)return null;if(Ur(n)){var a=Nt(_e(n),t);return new oY(r,a)}else{var i=n;return new i(r,t)}}function uY(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}function cY(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}function HC(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=uY(e),a=cY(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(i){var o=i.geometry.coordinate;if(o.isPolar&&o.isTransposed){var l=xl(i.getModel(),o),s=l.startAngle,u=l.endAngle,f=(s+u)/2,c=7.5,h=c*Math.cos(f),p=c*Math.sin(f);return{matrix:fe(null,[["t",h,p]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:T(T({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:T(T({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:T(T({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:T(T({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:T(T({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:T(T({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:T(T({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:T(T({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:ot({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:ot({},n.grid,{line:{type:"circle"}})}},legend:{common:a,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:a.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(mn)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(xn)]={marginBottom:"12px",marginTop:"12px"},r["".concat(ml)]={margin:0,listStyleType:"none",padding:0},r["".concat(Fc)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(Pc)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(Lc)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var Rt={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},hi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},fY=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],hY=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],pY=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],VC=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?fY:r,n=e.paletteQualitative20,a=n===void 0?hY:n,i=e.brandColor,o=i===void 0?t[0]:i,l={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:pY,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Rt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Rt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:hi[85],axisTickLineBorderColor:Rt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Rt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Rt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Rt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Rt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Rt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Rt[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Rt[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Rt[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Rt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Rt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Rt[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Rt[25],annotationArcBorderColor:Rt[15],annotationArcBorder:1,annotationLineBorderColor:Rt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Rt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Rt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Rt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Rt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Rt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:hi[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Rt[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:hi[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Rt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:hi[100],pointBorderOpacity:1,pointActiveBorderColor:Rt[100],pointSelectedBorder:2,pointSelectedBorderColor:Rt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:hi[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Rt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Rt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Rt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Rt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Rt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Rt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:hi[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Rt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Rt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return T(T({},l),e)};VC();function _u(e){var r=e.styleSheet,t=r===void 0?{}:r,n=_t(e,["styleSheet"]),a=VC(t);return ot({},HC(a),n)}var dY=_u({}),ad={default:dY};function Qo(e){return $(ad,oo(e),ad.default)}function vY(e,r){ad[oo(e)]=_u(r)}function wx(e,r,t){var n=t.translate(e),a=t.translate(r);return Ae(n,a)}function gY(e,r){var t=r.coordinate,n=r.getXScale(),a=n.range,i=a[a.length-1],o=a[0],l=t.invert(e),s=l.x;return t.isPolar&&s>(1+i)/2&&(s=o),n.translate(n.invert(s))}function Sx(e,r,t){var n=t.coordinate,a=t.getYScale(),i=a.field,o=n.invert(r),l=a.invert(o.y),s=kr(e,function(u){var f=u[zt];return f[i][0]<=l&&f[i][1]>=l});return s||e[e.length-1]}var yY=lo(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),a=n,i=0;i<t;i++){var o=r[i],l=e.translate(o);l<n&&(n=l),l>a&&(a=l)}return(a-n)/(t-1)});function mY(e,r,t){var n=r.getAttribute("position"),a=n.getFields(),i=r.scales,o=lt(t)||!t?a[0]:t,l=i[o],s=l?l.getText(e[o]):e[o]||o;return lt(t)?t(s,e):s}function xY(e){var r=sc(e.attributes);return Ee(r,function(t){return Ta(bi,t.type)})}function WC(e){var r,t,n=xY(e),a;try{for(var i=Ft(n),o=i.next();!o.done;o=i.next()){var l=o.value,s=l.getScale(l.type);if(s&&s.isLinear){var u=$(e.scaleDefs,s.field),f=SC(s,u,l.type,e.type);if(f!=="cat"){a=s;break}}}}catch(p){r={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}var c=e.getXScale(),h=e.getYScale();return a||h||c}function bY(e,r){var t=r.field,n=e[t];if(J(n)){var a=n.map(function(i){return r.getText(i)});return a.join("-")}return r.getText(n)}function wY(e,r){var t,n=r.getGroupScales();if(n.length&&(t=n[0]),t){var a=t.field;return t.getText(e[a])}var i=WC(r);return bl(i)}function GC(e,r,t){if(r.length===0)return null;var n=t.type,a=t.getXScale(),i=t.getYScale(),o=a.field,l=i.field,s=null;if(n==="heatmap"||n==="point"){for(var u=t.coordinate,f=u.invert(e),c=a.invert(f.x),h=i.invert(f.y),p=1/0,d=0;d<r.length;d++){var v=r[d],g=v[zt],y=Math.pow(g[o]-c,2)+Math.pow(g[l]-h,2);y<p&&(p=y,s=v)}return s}var m=r[0],b=r[r.length-1],x=gY(e,t),w=m[zt][o],S=m[zt][l],A=b[zt][o],I=i.isLinear&&J(S);if(J(w)){for(var d=0;d<r.length;d++){var k=r[d],g=k[zt];if(a.translate(g[o][0])<=x&&a.translate(g[o][1])>=x)if(I)J(s)||(s=[]),s.push(k);else{s=k;break}}J(s)&&(s=Sx(s,e,t))}else{var E=void 0;if(!a.isLinear&&a.type!=="timeCat"){for(var d=0;d<r.length;d++){var k=r[d],g=k[zt];if(wx(g[o],x,a))if(I)J(s)||(s=[]),s.push(k);else{s=k;break}else a.translate(g[o])<=x&&(b=k,E=r[d+1])}J(s)&&(s=Sx(s,e,t))}else{if((x>a.translate(A)||x<a.translate(w))&&(x>a.max||x<a.min))return null;for(var M=0,O=r.length-1,F=void 0;M<=O;){F=Math.floor((M+O)/2);var L=r[F][zt][o];if(wx(L,x,a))return r[F];a.translate(L)<=a.translate(x)?(M=F+1,b=r[F],E=r[F+1]):(O===0&&(b=r[0]),O=F-1)}}b&&E&&Math.abs(a.translate(b[zt][o])-x)>Math.abs(a.translate(E[zt][o])-x)&&(b=E)}var D=yY(t.getXScale());return!s&&Math.abs(a.translate(b[zt][o])-x)<=D/2&&(s=b),s}function Ev(e,r,t,n){var a,i;t===void 0&&(t=""),n===void 0&&(n=!1);var o=e[zt],l=mY(o,r,t),s=r.tooltipOption,u=r.theme.defaultColor,f=[],c,h;function p(k,E){if(n||!Q(E)&&E!==""){var M={title:l,data:o,mappingData:e,name:k,value:E,color:e.color||u,marker:!0};f.push(M)}}if(Bt(s)){var d=s.fields,v=s.callback;if(v){var g=d.map(function(k){return e[zt][k]}),y=v.apply(void 0,pt([],ut(g),!1)),m=T({data:e[zt],mappingData:e,title:l,color:e.color||u,marker:!0},y);f.push(m)}else{var b=r.scales;try{for(var x=Ft(d),w=x.next();!w.done;w=x.next()){var S=w.value;if(!Q(o[S])){var A=b[S];c=bl(A),h=A.getText(o[S]),p(c,h)}}}catch(k){a={error:k}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}}}else{var I=WC(r);h=bY(o,I),c=wY(o,r),p(c,h)}return f}function Cx(e,r,t,n){var a,i,o=n.showNil,l=[],s=e.dataArray;if(!Ue(s)){e.sort(s);try{for(var u=Ft(s),f=u.next();!f.done;f=u.next()){var c=f.value,h=GC(r,c,e);if(h){var p=e.getElementId(h),d=e.elementsMap[p];if(e.type==="heatmap"||d.visible){var v=Ev(h,e,t,o);v.length&&l.push(v)}}}}catch(g){a={error:g}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}}return l}function Ax(e,r,t,n){var a=n.showNil,i=[],o=e.container,l=o.getShape(r.x,r.y);if(l&&l.get("visible")&&l.get("origin")){var s=l.get("origin").mappingData,u=Ev(s,e,t,a);u.length&&i.push(u)}return i}function id(e,r,t){var n,a,i=[],o=e.geometries,l=t.shared,s=t.title,u=t.reversed;try{for(var f=Ft(o),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.visible&&h.tooltipOption!==!1){var p=h.type,d=void 0;["point","edge","polygon"].includes(p)?d=Ax(h,r,s,t):["area","line","path","heatmap"].includes(p)||l!==!1?d=Cx(h,r,s,t):d=Ax(h,r,s,t),d.length&&(u&&d.reverse(),i.push(d))}}}catch(v){n={error:v}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}return i}function SY(e,r,t){var n,a,i=id(e,r,t);try{for(var o=Ft(e.views),l=o.next();!l.done;l=o.next()){var s=l.value;i=i.concat(id(s,r,t))}}catch(u){n={error:u}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}return i}function CY(e){return!mt(e)&&!J(e)}function Mv(e){e===void 0&&(e=0);var r=J(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=pt(pt([],ut(r),!1),ut(r),!1);break;case 3:r=pt(pt([],ut(r),!1),[r[1]],!1);break;default:r=r.slice(0,4);break}return r}var Ov={};function ri(e,r){Ov[e]=r}function AY(){return Object.keys(Ov)}function TY(e){return Ov[e]}var IY=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){var t=this.option.actions;return lc(t,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,a=n.type,i=n.cfg,o=a==="theta",l=T({start:r,end:t},i),s=KW(o?"polar":a);return this.coordinate=new s(l),this.coordinate.type=a,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return T({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this,n=this.option.actions;B(n,function(a){var i,o=ut(a),l=o[0],s=o.slice(1),u=Q(r)?!0:r.includes(l);u&&(i=t.coordinate)[l].apply(i,pt([],ut(s),!1))})},e}(),qt=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new _l(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}();function EY(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation"),a=e.getController("slider"),i=e.getController("scrollbar");[r,a,i,t,n].forEach(function(o){o&&o.layout()})}var MY=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,a){var i=n,o=this.getScaleMeta(a);if(t.length===0&&o){var l=o.scale,s={type:l.type};l.isCategory&&(s.values=l.values),i=ot(s,o.scaleDef,n)}var u=DG(r,t,i);return this.cacheScale(u,n,a),u},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(a,i){var o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,s=[];B(a,function(u){var f=n.getScale(u);l=mt(f.max)?Math.max(l,f.max):l,o=mt(f.min)?Math.min(o,f.min):o,B(f.values,function(c){s.includes(c)||s.push(c)})}),B(a,function(u){var f=n.getScale(u);if(f.isContinuous)f.change({min:o,max:l,values:s});else if(f.isCategory){var c=f.range,h=n.getScaleMeta(u);s&&!$(h,["scaleDef","range"])&&(c=CC(ot({},f,{values:s}),r,t)),f.change({values:s,range:c})}})})},e.prototype.cacheScale=function(r,t,n){var a=this.getScaleMeta(n);a&&a.scale.type===r.type?(BG(a.scale,r),a.scaleDef=t):(a={key:n,scale:r,scaleDef:t},this.scales.set(n,a));var i=this.getSyncKey(a);if(a.syncKey=i,this.removeFromSyncScales(n),i){var o=this.syncScales.get(i);o||(o=[],this.syncScales.set(i,o)),o.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=he(r.split("-")),a=this.syncScales.get(n);a&&a.length&&(t=this.getScaleMeta(a[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var n=t.syncKey,a=this.syncScales.get(n);if(a&&a.length){var i=a.indexOf(r);i!==-1&&a.splice(i,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,a){var i=n.indexOf(r);if(i!==-1)return n.splice(i,1),n.length===0&&t.syncScales.delete(a),!1})},e.prototype.getSyncKey=function(r){var t=r.scale,n=r.scaleDef,a=t.field,i=$(n,["sync"]);return i===!0?a:i===!1?void 0:i},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),nu=function(){function e(r,t,n,a){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),this.top=r,this.right=t,this.bottom=n,this.left=a}return e.instance=function(r,t,n,a){return r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),a===void 0&&(a=0),new e(r,t,n,a)},e.prototype.max=function(r){var t=ut(r,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,a),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,o),this},e.prototype.shrink=function(r){var t=ut(r,4),n=t[0],a=t[1],i=t[2],o=t[3];return this.top+=n,this.right+=a,this.bottom+=i,this.left+=o,this},e.prototype.inc=function(r,t){var n=r.width,a=r.height;switch(t){case at.TOP:case at.TOP_LEFT:case at.TOP_RIGHT:this.top+=a;break;case at.RIGHT:case at.RIGHT_TOP:case at.RIGHT_BOTTOM:this.right+=n;break;case at.BOTTOM:case at.BOTTOM_LEFT:case at.BOTTOM_RIGHT:this.bottom+=a;break;case at.LEFT:case at.LEFT_TOP:case at.LEFT_BOTTOM:this.left+=n;break}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,pt([void 0],ut(this.getPadding()),!1)))},e}();function OY(e){var r=e.padding;if(!CY(r))return new(nu.bind.apply(nu,pt([void 0],ut(Mv(r)),!1)));var t=e.viewBBox,n=new nu,a=[],i=[],o=[];return B(e.getComponents(),function(l){var s=l.type;s===ye.AXIS?a.push(l):[ye.LEGEND,ye.SLIDER,ye.SCROLLBAR].includes(s)?i.push(l):s!==ye.GRID&&s!==ye.TOOLTIP&&o.push(l)}),B(a,function(l){var s=l.component,u=s.getLayoutBBox(),f=new $e(u.x,u.y,u.width,u.height),c=f.exceed(t);n.max(c)}),B(i,function(l){var s=l.component,u=l.direction,f=s.getLayoutBBox(),c=s.get("padding"),h=new $e(f.x,f.y,f.width,f.height).expand(c);n.inc(h,u)}),B(o,function(l){var s=l.component,u=l.direction,f=s.getLayoutBBox(),c=new $e(f.x,f.y,f.width,f.height);n.inc(c,u)}),n}function kY(e,r,t){var n=t.instance();r.forEach(function(a){a.autoPadding=n.max(a.autoPadding.getPadding())})}var YC=function(e){q(r,e);function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=AY(),n.scalePool=new MY,n.layoutFunc=EY,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(b){var x=b.name;if(!x.includes(":")){var w=n.createViewEvent(b);n.doPlotEvent(w),n.emit(x,w)}},n.onDelegateEvents=function(b){var x=b.name;if(x.includes(":")){var w=n.createViewEvent(b);n.emit(x,w)}};var a=t.id,i=a===void 0?ua("view"):a,o=t.parent,l=t.canvas,s=t.backgroundGroup,u=t.middleGroup,f=t.foregroundGroup,c=t.region,h=c===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:c,p=t.padding,d=t.appendPadding,v=t.theme,g=t.options,y=t.limitInPlot,m=t.syncViewPadding;return n.parent=o,n.canvas=l,n.backgroundGroup=s,n.middleGroup=u,n.foregroundGroup=f,n.region=h,n.padding=p,n.appendPadding=d,n.options=T(T({},n.options),g),n.limitInPlot=y,n.id=i,n.syncViewPadding=m,n.themeObject=Bt(v)?ot({},Qo("default"),_u(v)):Qo(v),n.init(),n}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(wt.BEFORE_RENDER,qt.fromData(this,wt.BEFORE_RENDER,n)),this.paint(t),this.emit(wt.AFTER_RENDER,qt.fromData(this,wt.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(wt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,a=0;a<n.length;a++)n[a].clear(),n[a].container.remove(!0),n[a].labelsContainer.remove(!0);this.geometries=[];for(var i=this.controllers,a=0;a<i.length;a++)i[a].name==="annotation"?i[a].clear(!0):i[a].clear();this.createdScaleKeys.forEach(function(l,s){t.getRootView().scalePool.deleteScale(s)}),this.createdScaleKeys.clear();for(var o=this.views,a=0;a<o.length;a++)o[a].clear();this.emit(wt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(wt.BEFORE_DESTROY);var t=this.interactions;B(t,function(l){l&&l.destroy()}),this.clear();for(var n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}for(var l=this.controllers,a=0,i=l.length;a<i;a++){var s=l[a];s.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return se(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return lt(n)?(se(this.options,["filters",t],n),this):(!n&&$(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return Ni(t)?se(this.options,["axes"],t):se(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return Ni(t)?se(this.options,["legends"],t):dt(t)?(se(this.options,["legends",t],n),Ur(n)&&(n!=null&&n.selected)&&se(this.options,["filters",t],function(a){var i;return(i=n==null?void 0:n.selected[a])!==null&&i!==void 0?i:!0})):se(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var a=this;return dt(t)?se(this.options,["scales",t],n):Bt(t)&&B(t,function(i,o){se(a.options,["scales",o],i)}),this},r.prototype.tooltip=function(t){return se(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return dt(t)?se(this.options,"coordinate",{type:t,cfg:n}):se(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var a=jG(t);if(!a)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new a(this,T(T({},n),{type:t})),this},r.prototype.animate=function(t){return se(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),Nt(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return se(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=Bt(t)?ot({},this.themeObject,_u(t)):Qo(t),this},r.prototype.interaction=function(t,n){var a=this.interactions[t];a&&a.destroy();var i=sY(t,this,n);return i&&(i.init(),this.interactions[t]=i),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this,wt.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.changeData(t)}this.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this,wt.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:_e(this.options.scales),axes:_e(this.options.axes),coordinate:_e(this.coordinateController.getOption()),tooltip:_e(this.options.tooltip),legends:_e(this.options.legends),animate:this.options.animate,visible:this.visible},a=new r(T(T({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ei.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ei.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ei.FORE}),theme:this.themeObject,padding:this.padding},t),{options:T(T({},n),$(t,"options",{}))}));return this.views.push(a),a},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=gz(this.views,function(a){return a===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(a){var i=a.getYScale(),o=i.field;t[o]||(t[o]=!0,n.push(i))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,a={},i=0,o=n.length;i<o;i++){var l=n[i],s=t==="x"?l.getXScale():l.getYScale();s&&!a[s.field]&&(a[s.field]=s)}return a},r.prototype.getScale=function(t,n){var a=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(a)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return Le(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===re.BG?this.backgroundGroup:t===re.MID?this.middleGroup:t===re.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return FG(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return ar(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return jn(ar(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var n=this.getCoordinate(),a=this.getScalesByDim("x"),i=this.getScalesByDim("y"),o,l;if(B(t,function(s,u){a[u]&&(o=a[u].scale(s)),i[u]&&(l=i[u].scale(s))}),!Q(o)&&!Q(l))return n.convert({x:o,y:l})},r.prototype.getController=function(t){return kr(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,a=[],i=0,o=n.length;i<o;i++){var l=n[i],s=l.dataArray;l.sort(s);for(var u=void 0,f=0,c=s.length;f<c;f++){var h=s[f];u=GC(t,h,l),u&&a.push(u)}}for(var p=this.views,i=0,o=p.length;i<o;i++){var d=p[i],v=d.getSnapRecords(t);a=a.concat(v)}return a},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,a=0,i=n.length;a<i;a++){var o=n[a];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var n=this.options.filters;return me(n)===0?t:Ee(t,function(a,i){var o=Object.keys(n);return o.every(function(l){var s=n[l];return s(a[l],a,i)})})},r.prototype.filterFieldData=function(t,n){var a=this.options.filters,i=$(a,t);return Ea(i)?n:n.filter(function(o,l){return i(o[t],o,l)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,a=t.end,i=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(Jt(n,i)&&Jt(a,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(wt.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(wt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=$(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,a=n.x,i=n.y,o=n.width,l=n.height;this.backgroundStyleRectShape.attr({fill:t,x:a,y:i,width:o,height:l})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=OY(this).shrink(Mv(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(s){return s.name==="tooltip"});n.update();for(var a=this.views,i=0,o=a.length;i<o;i++){var l=a[i];l.renderPaddingRecursive(t)}},r.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?kY:lt(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,nu),this.views.forEach(function(s){s.coordinateBBox=s.viewBBox.shrink(s.autoPadding.getPadding()),s.adjustCoordinate()})),this.doLayout();for(var a=this.views,i=0,o=a.length;i<o;i++){var l=a[i];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var a=Cv(this.coordinateInstance),i=a.type,o=a.attrs;n.setClip({type:i,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var l=this.views,s=0,u=l.length;s<u;s++){var f=l[s];f.renderPaintRecursive(t)}},r.prototype.createScale=function(t,n,a,i){var o=$(this.options.scales,[t]),l=T(T({},o),a);return this.parent?this.parent.createScale(t,n,l,i):this.scalePool.createScale(t,n,l,i)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,a=0,i=n.length;a<i;a++){var o=n[a];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,n,a,i;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,a=o.width,i=o.height}else t=0,n=0,a=this.canvas.get("width"),i=this.canvas.get("height");var l=this.region,s=l.start,u=l.end,f=new $e(t+a*s.x,n+i*s.y,a*(u.x-s.x),i*(u.y-s.y));(!this.viewBBox||!this.viewBBox.isEqual(f))&&(this.viewBBox=new $e(t+a*s.x,n+i*s.y,a*(u.x-s.x),i*(u.y-s.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,a=t.length;n<a;n++){var i=t[n],o=TY(i);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,a=t.name,i=n?n.get("origin"):null,o=new qt(this,t,i);return o.type=a,o},r.prototype.doPlotEvent=function(t){var n=t.type,a=t.x,i=t.y,o={x:a,y:i},l=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(l.includes(n)){var s=this.isPointInPlot(o),u=t.clone();if(s){var f="plot:".concat(n);u.type=f,this.emit(f,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!s?(n==="mousemove"&&(u.type=ze.MOUSE_LEAVE,this.emit(ze.MOUSE_LEAVE,u)),u.type=ze.LEAVE,this.emit(ze.LEAVE,u)):!this.isPreMouseInPlot&&s&&(n==="mousemove"&&(u.type=ze.MOUSE_ENTER,this.emit(ze.MOUSE_ENTER,u)),u.type=ze.ENTER,this.emit(ze.ENTER,u)),this.isPreMouseInPlot=s):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=ze.MOUSE_LEAVE,this.emit(ze.MOUSE_LEAVE,u)),u.type=ze.LEAVE,this.emit(ze.LEAVE,u),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),a=$(this.options,"scales",{}),i=this.geometries,o=0,l=i.length;o<l;o++){var s=i[o];s.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:a,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?s.update(u):s.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),a=this.getOptions(),i=a.data,o=a.scales,l=o===void 0?{}:o,s=this.filteredData,u=0,f=t.length;u<f;u++){var c=t[u],h=l[c],p=this.getScaleKey(c);this.createScale(c,n.includes(c)?i:s,h,p),this.createdScaleKeys.set(p,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},a=0;a<t.length;a++){var i=t[a];n[i]=this.getScaleByField(i)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],l=o.getScaleFields();jn(l,t,n)}return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,a=this.geometries,i=0;i<a.length;i++){var o=a[i],l=o.getGroupFields();jn(l,t,n)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=pt([this.getXScale()],ut(this.getYScales()),!1).filter(function(o){return!!o}),a=this.getCoordinate(),i=this.options.scales;B(n,function(o){var l=o.field,s=o.values,u=o.isCategory,f=o.isIdentity;(u||f)&&s&&!$(i,[l,"range"])&&(o.range=CC(o,a,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,a=0;a<n.length;a++){var i=n[a];t?i.update():(i.clear(),i.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,a=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,l=0;l<o.length;l++){var s=o[l];s.coordinate=a,s.canvasRegion=i,n||s.animate(!1),s.paint(t)}},r.prototype.renderComponents=function(t){for(var n=this.getComponents(),a=0;a<n.length;a++){var i=n[a];i.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,a=n.geometries,i=a===void 0?[]:a,o=n.interactions,l=o===void 0?[]:o,s=n.views,u=s===void 0?[]:s,f=n.annotations,c=f===void 0?[]:f,h=n.coordinate,p=n.events,d=n.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new IY(h);for(var v=0;v<i.length;v++){var g=i[v];this.createGeometry(g)}for(var y=0;y<l.length;y++){var m=l[y],b=m.type,x=m.cfg;this.interaction(b,x)}for(var w=0;w<u.length;w++){var S=u[w];this.createView(S)}for(var A=this.getController("annotation"),I=0;I<c.length;I++){var k=c[I];A.annotation(k)}p&&B(p,function(E,M){t.on(M,E)}),d&&B(d,function(E){var M=E.type,O=_t(E,["type"]);t.facet(M,O)})},r.prototype.createGeometry=function(t){var n=t.type,a=t.cfg,i=a===void 0?{}:a;if(this[n]){var o=this[n](i);B(t,function(l,s){lt(o[s])&&o[s](l)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Jd);function an(e,r){YC.prototype[e.toLowerCase()]=function(t){t===void 0&&(t={});var n=T({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),a=new r(n);return this.geometries.push(a),a}}var FY=function(e){q(r,e);function r(t){var n=this,a=t.container,i=t.width,o=t.height,l=t.autoFit,s=l===void 0?!1:l,u=t.padding,f=t.appendPadding,c=t.renderer,h=c===void 0?"canvas":c,p=t.pixelRatio,d=t.localRefresh,v=d===void 0?!0:d,g=t.visible,y=g===void 0?!0:g,m=t.supportCSSTransform,b=m===void 0?!1:m,x=t.defaultInteractions,w=x===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:x,S=t.options,A=t.limitInPlot,I=t.theme,k=t.syncViewPadding,E=dt(a)?document.getElementById(a):a,M=Yn('<div style="position:relative;"></div>');E.appendChild(M);var O=Gm(E,s,i,o),F=Nz(h),L=new F.Canvas(T({container:M,pixelRatio:p,localRefresh:v,supportCSSTransform:b},O));return n=e.call(this,{parent:null,canvas:L,backgroundGroup:L.addGroup({zIndex:Ei.BG}),middleGroup:L.addGroup({zIndex:Ei.MID}),foregroundGroup:L.addGroup({zIndex:Ei.FORE}),padding:u,appendPadding:f,visible:y,options:S,limitInPlot:A,theme:I,syncViewPadding:k})||this,n.onResize=D1(function(){n.forceFit()},300),n.ele=E,n.canvas=L,n.width=O.width,n.height=O.height,n.autoFit=s,n.localRefresh=v,n.renderer=h,n.wrapperElement=M,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(w),n}return r.prototype.initDefaultInteractions=function(t){var n=this;B(t,function(a){n.interaction(a)})},r.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(wt.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(wt.AFTER_CHANGE_SIZE),this)},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Gz(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Gm(this.ele,!0,this.width,this.height),n=t.width,a=t.height;this.changeSize(n,a)}},r.prototype.updateCanvasStyle=function(){Pe(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(YC),fo=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){B(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}();function PY(e){for(var r=[],t=function(a){var i=e[a],o=kr(r,function(l){return l.color===i.color&&l.name===i.name&&l.value===i.value&&l.title===i.title});o||r.push(i)},n=0;n<e.length;n++)t(n);return r}var qC=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,a=this.getTooltipItems(t);if(!a.length){this.hideTooltip();return}var i=this.getTitle(a),o={x:a[0].x,y:a[0].y};n.emit("tooltip:show",qt.fromData(n,"tooltip:show",T({items:a,title:i},t)));var l=this.getTooltipCfg(),s=l.follow,u=l.showMarkers,f=l.showCrosshairs,c=l.showContent,h=l.marker,p=this.items,d=this.title;if(!Jt(d,i)||!Jt(p,a)?(n.emit("tooltip:change",qt.fromData(n,"tooltip:change",T({items:a,title:i},t))),(lt(c)?c(a):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Nt({},l,{items:this.getItemsAfterProcess(a),title:i},s?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(a,h)):(this.tooltip&&s&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=a,this.title=i,f){var v=$(l,["crosshairs","follow"],!1);this.renderCrosshairs(v?t:o,l)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var a=this.xCrosshair,i=this.yCrosshair;a&&a.hide(),i&&i.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",qt.fromData(this.view,"tooltip:hide",{})),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,a=t.xCrosshair,i=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),a&&a.clear(),i&&i.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,a=n.tooltip,i=n.tooltipMarkersGroup,o=n.xCrosshair,l=n.yCrosshair;t?(a&&a.show(),i&&i.show(),o&&o.show(),l&&l.show()):(a&&a.hide(),i&&i.hide(),o&&o.hide(),l&&l.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,a,i,o,l,s,u=this.findItemsFromView(this.view,t);if(u.length){u=ar(u);try{for(var f=Ft(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var p=(i=void 0,Ft(h)),d=p.next();!d.done;d=p.next()){var v=d.value,g=v.mappingData,y=g.x,m=g.y;v.x=J(y)?y[y.length-1]:y,v.y=J(m)?m[m.length-1]:m}}catch(E){i={error:E}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(E){n={error:E}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}var b=this.getTooltipCfg().shared;if(b===!1&&u.length>1){var x=u[0],w=Math.abs(t.y-x[0].y);try{for(var S=Ft(u),A=S.next();!A.done;A=S.next()){var I=A.value,k=Math.abs(t.y-I[0].y);k<=w&&(x=I,w=k)}}catch(E){l={error:E}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(l)throw l.error}}u=[x]}return PY(ar(u))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),a=this.tooltip.get("capture");if(n&&a){var i=n.getBoundingClientRect(),o=i.x,l=i.y,s=i.width,u=i.height;return new $e(o,l,s,u).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,a=this.processCustomContent(n),i=t.getTheme(),o=$(i,["components","tooltip"],{}),l=$(a,"enterable",o.enterable);return ot({},o,a,{capture:!!(l||this.isLocked)})},r.prototype.processCustomContent=function(t){if(Ni(t)||!$(t,"customContent"))return t;var n=t.customContent,a=function(i,o){var l=n(i,o)||"";return dt(l)?'<div class="g2-tooltip">'+l+"</div>":l};return T(T({},t),{customContent:a})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},a=this.getTooltipCfg(),i=new Rc(T(T({parent:t.get("el").parentNode,region:n},a),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},r.prototype.renderTooltipMarkers=function(t,n){var a,i,o=this.getTooltipMarkersGroup(),l=this.view.getRootView(),s=l.limitInPlot;try{for(var u=Ft(t),f=u.next();!f.done;f=u.next()){var c=f.value,h=c.x,p=c.y;if(s||o!=null&&o.getClip()){var d=Cv(l.getCoordinate()),v=d.type,g=d.attrs;o==null||o.setClip({type:v,attrs:g})}else o==null||o.setClip(void 0);var y=this.view.getTheme(),m=$(y,["components","tooltip","marker"],{}),b=T(T({fill:c.color,symbol:"circle",shadowColor:c.color},lt(n)?T(T({},m),n(c)):n),{x:h,y:p});o.addShape("marker",{attrs:b})}}catch(x){a={error:x}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}},r.prototype.renderCrosshairs=function(t,n){var a=$(n,["crosshairs","type"],"x");a==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):a==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):a==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect)a.isTransposed?(i={x:a.start.x,y:t.y},o={x:a.end.x,y:t.y}):(i={x:t.x,y:a.end.y},o={x:t.x,y:a.start.y});else{var l=Hi(a,t),s=a.getCenter(),u=a.getRadius();o=ie(s.x,s.y,u,l),i=s}var f=ot({start:i,end:o,container:this.getTooltipCrosshairsGroup()},$(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete f.type;var c=this.xCrosshair;c?c.update(f):(c=new dC(f),c.init()),c.render(),c.show(),this.xCrosshair=c},r.prototype.renderYCrosshairs=function(t,n){var a=this.getViewWithGeometry(this.view).getCoordinate(),i,o;if(a.isRect){var l=void 0,s=void 0;a.isTransposed?(l={x:t.x,y:a.end.y},s={x:t.x,y:a.start.y}):(l={x:a.start.x,y:t.y},s={x:a.end.x,y:t.y}),i={start:l,end:s},o="Line"}else i={center:a.getCenter(),radius:Dc(a,t),startAngle:a.startAngle,endAngle:a.endAngle},o="Circle";i=ot({container:this.getTooltipCrosshairsGroup()},i,$(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete i.type;var u=this.yCrosshair;u?a.isRect&&u.get("type")==="circle"||!a.isRect&&u.get("type")==="line"?(u=new ox[o](i),u.init()):u.update(i):(u=new ox[o](i),u.init()),u.render(),u.show(),this.yCrosshair=u},r.prototype.getCrosshairsText=function(t,n,a){var i=$(a,["crosshairs","text"]),o=$(a,["crosshairs","follow"]),l=this.items;if(i){var s=this.getViewWithGeometry(this.view),u=l[0],f=s.getXScale(),c=s.getYScales()[0],h=void 0,p=void 0;if(o){var d=this.view.getCoordinate().invert(n);h=f.invert(d.x),p=c.invert(d.y)}else h=u.data[f.field],p=u.data[c.field];var v=t==="x"?h:p;return lt(i)?i=i(t,v,l,n):i.content=v,{text:i}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var a,i;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),l=id(t,n,o);try{for(var s=Ft(t.views),u=s.next();!u.done;u=s.next()){var f=u.value;l=l.concat(this.findItemsFromView(f,n))}}catch(c){a={error:c}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return l},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:kr(t.views,function(a){return n.getViewWithGeometry(a)})},r.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,a=n||function(i){return i};return a(t)},r}(fo),XC={};function UC(e){return XC[e.toLowerCase()]}function ur(e,r){XC[e.toLowerCase()]=r}var Wi={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},LY={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Tx={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function RY(e,r){return{delay:lt(e.delay)?e.delay(r):e.delay,easing:lt(e.easing)?e.easing(r):e.easing,duration:lt(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}function KC(e,r,t){var n=LY[e];return n&&(lt(n)&&(n=n(r)),n=ot({},Wi,n),t)?n[t]:n}function ki(e,r,t){var n=$(e.get("origin"),"data",zt),a=r.animation,i=RY(r,n);if(a){var o=UC(a);o&&o(e,i,t)}else e.animate(t.toAttrs,i)}function DY(e,r,t,n,a){if(Tx[t]){var i=Tx[t](n),o=UC($(i,"animation",""));if(o){var l=T(T(T({},Wi.appear),i),r);e.stopAnimate(),o(e,l,{coordinate:n,minYPoint:a,toAttrs:null})}}}var kv="element-background",ZC=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var a=t.shapeFactory,i=t.container,o=t.offscreenGroup,l=t.elementIndex,s=t.visible,u=s===void 0?!0:s;return n.shapeFactory=a,n.container=i,n.offscreenGroup=o,n.visible=u,n.elementIndex=l,n}return r.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var n=this,a=n.shapeFactory,i=n.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var o=this.getOffscreenGroup(),l=a.drawShape(this.shapeType,t,o);l.cfg.data=this.data,l.cfg.origin=t,l.cfg.element=this,this.syncShapeStyle(i,l,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,n=t.shapeFactory,a=t.shape;if(a){var i=this.getAnimateCfg("leave");i?ki(a,i,{coordinate:n.coordinate,toAttrs:T({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var a=this,i=a.states,o=a.shapeFactory,l=a.model,s=a.shape,u=a.shapeType,f=i.indexOf(t);if(n){if(f>-1)return;i.push(t),(t==="active"||t==="selected")&&(s==null||s.toFront())}else{if(f===-1)return;if(i.splice(f,1),t==="active"||t==="selected"){var c=this.geometry,h=c.sortZIndex,p=c.zIndexReversed,d=p?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?s.setZIndex(d):s.set("zIndex",d)}}var v=o.drawShape(u,l,this.getOffscreenGroup());i.length?this.syncShapeStyle(s,v,i,null):this.syncShapeStyle(s,v,["reset"],null),v.remove(!0);var g={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",g),tC(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,n=this.states;B(n,function(a){t.setState(a,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,n=t.shape,a=t.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(i=n.getCanvasBBox()),a&&a.forEach(function(o){var l=o.getCanvasBBox();i.x=Math.min(l.x,i.x),i.y=Math.min(l.y,i.y),i.minX=Math.min(l.minX,i.minX),i.minY=Math.min(l.minY,i.minY),i.maxX=Math.max(l.maxX,i.maxX),i.maxY=Math.max(l.maxY,i.maxY)}),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,a=t.geometry,i=t.shapeFactory,o=a.stateOption,l=i.defaultShapeType,s=i.theme[n]||i.theme[l];this.statesStyle=ot({},s,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var a=this.getStatesStyle(),i=$(a,[t,"style"],{}),o=i[n]||i;return lt(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var n=this,a=this.animate;if(a){var i=a[t];return i&&T(T({},i),{callback:function(){var o;lt(i.callback)&&i.callback(),(o=n.geometry)===null||o===void 0||o.emit(Gn.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var a;n===void 0&&(n=!1);var i=this,o=i.shapeFactory,l=i.container,s=i.shapeType;if(this.shape=o.drawShape(s,t,l),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?dt(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=n?"enter":"appear",c=this.getAnimateCfg(f);c&&((a=this.geometry)===null||a===void 0||a.emit(Gn.BEFORE_DRAW_ANIMATE),ki(this.shape,c,{coordinate:o.coordinate,toAttrs:T({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var a=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var i=t.get("children");i.forEach(function(o){a.setShapeInfo(o,n)})}},r.prototype.syncShapeStyle=function(t,n,a,i,o){var l=this,s;if(a===void 0&&(a=[]),o===void 0&&(o=0),!(!t||!n)){var u=t.get("clipShape"),f=n.get("clipShape");if(this.syncShapeStyle(u,f,a,i),t.isGroup())for(var c=t.get("children"),h=n.get("children"),p=0;p<c.length;p++)this.syncShapeStyle(c[p],h[p],a,i,o+p);else{if(!Ue(a)&&!Jt(a,["reset"])){var d=t.get("name");J(d)&&(d=d[1]),B(a,function(g){if(n.get("name")!==kv){var y=l.getStateStyle(g,d||o);n.attr(y)}})}var v=wC(t,n);this.animate?i?((s=this.geometry)===null||s===void 0||s.emit(Gn.BEFORE_DRAW_ANIMATE),ki(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model})):Ue(a)?t.attr(v):(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v)}}},r.prototype.getShapeType=function(t){var n=$(t,"shape");return J(n)?n[0]:n},r}(Jd),QC={},JC={};function BY(e){return QC[e.toLowerCase()]}function Vl(e,r){QC[e.toLowerCase()]=r}function _Y(e){return JC[e.toLowerCase()]}function Ze(e,r){JC[e.toLowerCase()]=r}var NY={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return $(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var a=this.theme,i=$(a,[e,"default"],{}),o=t.getMarker(r);return ot({},i,o)},drawShape:function(e,r,t){var n=this.getShape(e);return n.draw(r,t)}},$Y={coordinate:null,parsePath:function(e){var r=this.coordinate,t=TS(e);return r.isPolar?t=UG(r,t):t=XG(r,t),t},parsePoint:function(e){var r=this.coordinate;return r.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},Fv={};function ca(e,r){var t=ei(e),n=T(T(T({},NY),r),{geometryType:e});return Fv[t]=n,n}function Pt(e,r,t){var n=ei(e),a=Fv[n],i=T(T({},$Y),t);return a[r]=i,i}function Ix(e){var r=ei(e);return Fv[r]}function jY(e,r,t){var n,a;if(t===void 0&&(t={}),!r)return[e];var i=k1(e,r),o=[];if(r.length===1&&t[r[0]]){var l=t[r[0]];try{for(var s=Ft(l),u=s.next();!u.done;u=s.next()){var f=u.value,c=i["_".concat(f)];c&&o.push(c)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}}else for(var h in i)if(i.hasOwnProperty(h)){var p=i[h];o.push(p)}return o}function tA(e,r){return lc(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Jt(e[t],r[t])})}function Io(e){return J(e)?e:e.split("*")}function eA(e,r){for(var t=[],n=[],a=[],i=new Map,o=0;o<r.length;o++){var l=r[o];e[l]?n.push(l):t.push(l),i.set(l,!0)}return Object.keys(e).forEach(function(s){i.has(s)||a.push(s)}),{added:t,updated:n,removed:a}}var fa=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var a=t.container,i=t.labelsContainer,o=t.coordinate,l=t.data,s=t.sortable,u=s===void 0?!1:s,f=t.visible,c=f===void 0?!0:f,h=t.theme,p=t.scales,d=p===void 0?{}:p,v=t.scaleDefs,g=v===void 0?{}:v,y=t.intervalPadding,m=t.dodgePadding,b=t.maxColumnWidth,x=t.minColumnWidth,w=t.columnWidthRatio,S=t.roseWidthRatio,A=t.multiplePieWidthRatio,I=t.zIndexReversed,k=t.sortZIndex,E=t.useDeferredLabel;return n.container=a,n.labelsContainer=i,n.coordinate=o,n.data=l,n.sortable=u,n.visible=c,n.userTheme=h,n.scales=d,n.scaleDefs=g,n.intervalPadding=y,n.dodgePadding=m,n.maxColumnWidth=b,n.minColumnWidth=x,n.columnWidthRatio=w,n.roseWidthRatio=S,n.multiplePieWidthRatio=A,n.zIndexReversed=I,n.sortZIndex=k,n.useDeferredLabel=E?typeof E=="number"?E:1/0:null,n}return r.prototype.position=function(t){var n=t;Ur(t)||(n={fields:Io(t)});var a=$(n,"fields");return a.length===1&&(a.unshift("1"),se(n,"fields",a)),se(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return(dt(t)||Ur(t))&&(n=[t]),B(n,function(a,i){Bt(a)||(n[i]={type:a})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if(dt(t)){var a=Io(t);this.styleOption={fields:a,callback:n}}else{var i=t,a=i.fields,o=i.callback,l=i.cfg;a||o||l?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,n){if(dt(t)){var a=Io(t);this.tooltipOption={fields:a,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,a){if(dt(t)){var i={},o=Io(t);i.fields=o,lt(n)?i.callback=n:Ur(n)&&(i.cfg=n),a&&(i.cfg=a),this.labelOption=i}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var n=t.data,a=t.isDataChanged,i=t.isCoordinateChanged,o=this,l=o.attributeOption,s=o.lastAttributeOption;Jt(l,s)?n&&(a||!Jt(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},r.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=ot({},KC(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var a=this.getOffscreenGroup();a.clear();var i=this.beforeMappingData,o=this.beforeMapping(i);this.dataArray=new Array(o.length);for(var l=0;l<o.length;l++){var s=o[l];this.dataArray[l]=this.mapping(s)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,f=this.type,c=this.coordinate,h=$(this.animateOption,"appear"),p=this.getYScale(),d=c.convert({x:0,y:p.scale(this.getYMinValue())});DY(u,h,f,c,d)}if(this.labelOption){var v=this.useDeferredLabel,g=(function(){return n.renderLabels(ar(n.dataArray),t)}).bind(this);if(typeof v=="number"){var y=typeof v=="number"&&v!==1/0?v:0;if(!window.requestIdleCallback)setTimeout(g,y);else{var m=y&&y!==1/0?{timeout:y}:void 0;window.requestIdleCallback(g,m)}}else g()}this.lastAttributeOption=T({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,a=t.geometryLabel,i=t.offscreenGroup;n&&n.clear(),a&&a.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return B(this.attributes,function(n){bi.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,a=this.getAttribute(t);return a&&Ue(a.scales)&&(n=a.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var a=[],i=t.scales,o=0,l=i.length;o<l;o++){var s=i[o],u=s.field;s.isIdentity?a.push(s.values):a.push(n[u])}return t.mapping.apply(t,pt([],ut(a),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){var a=this.getShapeFactory();return a.getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){t=J(t)?t[0]:t;var n=t[zt];if(this.idFields.length){for(var a=n[this.idFields[0]],i=1;i<this.idFields.length;i++)a+="-"+n[this.idFields[i]];return a}var o=this.type,l=this.getXScale(),s=this.getYScale(),u=l.field||"x",f=s.field||"y",c=n[f],h;l.type==="identity"?h=l.values[0]:h=n[u];var p;o==="interval"||o==="schema"?p="".concat(h):o==="line"||o==="area"||o==="path"?p=o:p="".concat(h,"-").concat(c);for(var d=this.groupScales,i=0,v=d.length;i<v;i++){var g=d[i],y=g.field;p="".concat(p,"-").concat(n[y])}var m=this.getAdjust("dodge");if(m){var b=m.dodgeBy;b&&(p="".concat(p,"-").concat(n[b]))}return this.getAdjust("jitter")&&(p="".concat(p,"-").concat(t.x,"-").concat(t.y)),p},r.prototype.getScaleFields=function(){var t=[],n=new Map,a=this,i=a.attributeOption,o=a.labelOption,l=a.tooltipOption;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];u.fields?jn(u.fields,t,n):u.values&&jn(u.values,t,n)}return o&&o.fields&&jn(o.fields,t,n),Bt(l)&&l.fields&&jn(l.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,a=0,i=n.length;a<i;a++){var o=n[a];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(a){var i=(a==null?void 0:a.fields)||[];i.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,a=0,i=bi.length;a<i;a++){var o=bi[a],l=this.attributeOption[o];l&&l.fields&&jn(l.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=ut(this.attributeOption.position.fields,2),n=t[0],a=t[1];return[n,a]},r.prototype.getXField=function(){return $(this.getXYFields(),[0])},r.prototype.getYField=function(){return $(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),a=n.field,i=0;i<t.length;i++){var o=t[i];o.sort(function(l,s){return n.translate(l[zt][a])-n.translate(s[zt][a])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(Ix(t))return this.shapeFactory||(this.shapeFactory=_e(Ix(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),a=this.getYScale(),i=this.normalizeValues(t[n.field],n),o;return a?o=this.normalizeValues(t[a.field],a):o=t.y?t.y:.1,{x:i,y:o,y0:a?a.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,a){a===void 0&&(a=!1);var i=this.container,o=this.getDrawCfg(t),l=this.getShapeFactory(),s=new ZC({shapeFactory:l,container:i,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return s.animate=this.animateOption,s.geometry=this,s.draw(o,a),s},r.prototype.getDrawCfg=function(t){var n=t[zt],a={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),a.shape=i;var o=this.theme.geometries[this.shapeType];a.defaultStyle=$(o,[i,"default"],{}).style,!a.defaultStyle&&this.getShapeFactory()&&(a.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var l=this.styleOption;return l&&(a.style=this.getStyleCfg(l,n)),this.generatePoints&&(a.points=t.points,a.nextPoints=t.nextPoints),a},r.prototype.updateElements=function(t,n){var a,i,o,l,s,u;n===void 0&&(n=!1);for(var f=new Map,c=[],h=new Map,p=0,d=0;d<t.length;d++)for(var v=t[d],g=0;g<v.length;g++){var y=v[g],m=this.getElementId(y),b=f.has(m)?"".concat(m,"-").concat(d,"-").concat(g):m;c.push(b),f.set(b,y),h.set(b,p),p++}this.elements=new Array(p);var x=eA(this.lastElementsMap,c),w=x.added,S=x.updated,A=x.removed;try{for(var I=Ft(w),k=I.next();!k.done;k=I.next()){var m=k.value,y=f.get(m),d=h.get(m),E=this.createElement(y,d,n);this.elements[d]=E,this.elementsMap[m]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(z){a={error:z}}finally{try{k&&!k.done&&(i=I.return)&&i.call(I)}finally{if(a)throw a.error}}try{for(var M=Ft(S),O=M.next();!O.done;O=M.next()){var m=O.value,E=this.lastElementsMap[m],y=f.get(m),F=this.getDrawCfg(y),L=E.getModel(),d=h.get(m);(this.isCoordinateChanged||tA(F,L))&&(E.animate=this.animateOption,E.update(F)),this.elements[d]=E,this.elementsMap[m]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(z){o={error:z}}finally{try{O&&!O.done&&(l=M.return)&&l.call(M)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var D=Ft(A),_=D.next();!_.done;_=D.next()){var m=_.value,E=this.lastElementsMap[m];E.animate=this.animateOption,E.destroy()}}catch(z){s={error:z}}finally{try{_&&!_.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}},r.prototype.getLabelType=function(){var t=this,n=t.labelOption,a=t.coordinate,i=t.type,o=a.type,l=a.isTransposed,s=$(n,["cfg","type"]);return s||(o==="polar"?s=l?"pie":"polar":o==="theta"?s="pie":i==="interval"||i==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,a=t.max,i;return n>=0?i=n:a<=0?i=a:i=0,i},r.prototype.createAttrOption=function(t,n,a){if(Q(n)||Bt(n))Bt(n)&&Jt(Object.keys(n),["values"])?se(this.attributeOption,t,{fields:n.values}):se(this.attributeOption,t,n);else{var i={};mt(n)?i.values=[n]:i.fields=Io(n),a&&(lt(a)?i.callback=a:i.values=a),se(this.attributeOption,t,i)}},r.prototype.initAttributes=function(){var t=this,n=this,a=n.attributes,i=n.attributeOption,o=n.theme,l=n.shapeType;this.groupScales=[];var s={},u=function(h){if(i.hasOwnProperty(h)){var p=i[h];if(!p)return{value:void 0};var d=T({},p),v=d.callback,g=d.values,y=d.fields,m=y===void 0?[]:y,b=m.map(function(w){var S=t.scales[w];if(!s[w]&&bi.includes(h)){var A=SC(S,$(t.scaleDefs,w),h,t.type);A==="cat"&&(t.groupScales.push(S),s[w]=!0)}return S});d.scales=b,h!=="position"&&b.length===1&&b[0].type==="identity"?d.values=b[0].values:!v&&!g&&(h==="size"?d.values=o.sizes:h==="shape"?d.values=o.shapes[l]||[]:h==="color"&&(b.length?d.values=b[0].values.length<=10?o.colors10:o.colors20:d.values=o.colors10));var x=ZS(h);a[h]=new x(d)}};for(var f in i){var c=u(f);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){var n,a;this.hasSorted=!1;for(var i=this.getAttribute("position").scales,o=i.filter(function(A){return A.isCategory}),l=this.groupData(t),s=[],u=0,f=l.length;u<f;u++){for(var c=l[u],h=[],p=0,d=c.length;p<d;p++){var v=c[p],g={};for(var y in v)g[y]=v[y];g[zt]=v;try{for(var m=(n=void 0,Ft(o)),b=m.next();!b.done;b=m.next()){var x=b.value,w=x.field;g[w]=x.translate(g[w])}}catch(A){n={error:A}}finally{try{b&&!b.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}h.push(g)}s.push(h)}var S=this.adjustData(s);return this.beforeMappingData=S,S},r.prototype.adjustData=function(t){var n=this.adjustOption,a=this,i=a.intervalPadding,o=a.dodgePadding,l=a.theme,s=this.maxColumnWidth||l.maxColumnWidth,u=this.minColumnWidth||l.minColumnWidth,f=this.columnWidthRatio||l.columnWidthRatio,c=t;if(n){var h=this.getXScale(),p=this.getYScale(),d=h.field,v=p?p.field:null,g=zl(this.coordinate),y=h.values.length,m=this.getAttribute("size"),b=void 0;m&&(b=m.values[0]);for(var x=0,w=n.length;x<w;x++){var S=n[x],A=T({xField:d,yField:v,intervalPadding:i,dodgePadding:o,xDimensionLength:g,groupNum:y,defaultSize:b,maxColumnWidth:s,minColumnWidth:u,columnWidthRatio:f},S),I=S.type;if(I==="dodge"){var k=[];if(h.isCategory||h.type==="identity")k.push("x");else if(!p)k.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");A.adjustNames=k,A.dodgeRatio=f}else if(I==="stack"){var E=this.coordinate;if(!p){A.height=E.getHeight();var M=this.getDefaultValue("size")||3;A.size=M}!E.isTransposed&&Q(A.reverseOrder)&&(A.reverseOrder=!0)}var O=OS(I);A.dimValuesMap={},h&&h.values&&(A.dimValuesMap[h.field]=h.values.map(function(L){return h.translate(L)}));var F=new O(A);c=F.process(c),this.adjusts[I]=F}}return c},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),a=this.scaleDefs,i={},o=[],l=0;l<n.length;l++){var s=n[l],u=s.field;o.push(u),$(a,[u,"values"])&&(i[u]=a[u].values)}return jY(t,o,i)},r.prototype.updateStackRange=function(t,n){for(var a=ar(n),i=t.field,o=t.min,l=t.max,s=0;s<a.length;s++){var u=a[s],f=Math.min.apply(null,u[i]),c=Math.max.apply(null,u[i]);f<o&&(o=f),c>l&&(l=c)}var h=this.scaleDefs,p={};o<t.min&&!$(h,[i,"min"])&&(p.min=o),l>t.max&&!$(h,[i,"max"])&&(p.max=l),t.change(p)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var a=0,i=n.length;a<i;a++){var o=n[a];this.generateShapePoints(o);var l=n[a+1];l&&(this.generateShapePoints(l),o[0].nextPoints=l[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),a=this.getAttribute("shape"),i=0;i<t.length;i++){var o=t[i],l=this.createShapePointsCfg(o),s=a?this.getAttributeValues(a,o):null,u=n.getShapePoints(s,l);o.points=u}},r.prototype.normalizeValues=function(t,n){var a=[];if(J(t))for(var i=0;i<t.length;i++){var o=t[i];a.push(n.scale(o))}else a=n.scale(t);return a},r.prototype.mapping=function(t){for(var n=this.attributes,a=[],i=0;i<t.length;i++){var o=t[i],l={_origin:o[zt],points:o.points,nextPoints:o.nextPoints};for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],f=u.names,c=this.getAttributeValues(u,o);if(f.length>1)for(var h=0;h<c.length;h+=1){var p=c[h],d=f[h];l[d]=J(p)&&p.length===1?p[0]:p}else l[f[0]]=c.length===1?c[0]:c}this.convertPoint(l),a.push(l)}return a},r.prototype.convertPoint=function(t){var n=t.x,a=t.y,i,o,l,s=this.coordinate;if(J(n)&&J(a)){i=[],o=[];for(var u=0,f=0,c=n.length,h=a.length;u<c&&f<h;u+=1,f+=1)l=s.convert({x:n[u],y:a[f]}),i.push(l.x),o.push(l.y)}else if(J(a)){o=[];for(var p=0;p<a.length;p++){var d=a[p];l=s.convert({x:n,y:d}),i&&i!==l.x?(J(i)||(i=[i]),i.push(l.x)):i=l.x,o.push(l.y)}}else if(J(n)){i=[];for(var p=0;p<n.length;p++){var v=n[p];l=s.convert({x:v,y:a}),o&&o!==l.y?(J(o)||(o=[o]),o.push(l.y)):o=l.y,i.push(l.x)}}else{var g=s.convert({x:n,y:a});i=g.x,o=g.y}t.x=i,t.y=o},r.prototype.getStyleCfg=function(t,n){var a=t.fields,i=a===void 0?[]:a,o=t.callback,l=t.cfg;if(l)return l;var s=i.map(function(u){return n[u]});return o.apply(void 0,pt([],ut(s),!1))},r.prototype.setCfg=function(t){var n=this,a=t.coordinate,i=t.data,o=t.theme,l=t.scaleDefs;a&&(this.coordinate=a),i&&(this.data=i),l&&(this.scaleDefs=l,this.idFields=[],B(l,function(s,u){s&&s.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?ot({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),il(this,void 0,void 0,function(){var a,i,o,l,s,u,f,c,h,p,d,v,g=this;return ol(this,function(y){switch(y.label){case 0:return a=this.geometryLabel,this.emit(Gn.BEFORE_RENDER_LABEL),a||(i=this.getLabelType(),o=BY(i),a=new o(this),this.geometryLabel=a),[4,a.render(t,n)];case 1:y.sent(),l=a.labelsRenderer.shapesMap,s=new Map,B(l,function(m,b){for(var x=m.getChildren()||[],w=0;w<x.length;w++){var S=x[w],A=g.elementsMap[S.get("elementId")||b.split(" ")[0]];if(A){S.cfg.name=["element","label"],S.cfg.element=A;var I=s.get(A)||new Set;I.add(m),s.set(A,I)}}});try{for(u=Ft(s.entries()),f=u.next();!f.done;f=u.next())c=ut(f.value,2),h=c[0],p=c[1],h.labelShape=pt([],ut(p),!1)}catch(m){d={error:m}}finally{try{f&&!f.done&&(v=u.return)&&v.call(u)}finally{if(d)throw d.error}}return this.emit(Gn.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&($(this.animateOption,"appear")===void 0||$(this.animateOption,"appear")&&$(this.animateOption,["appear","animation"])===void 0)},r}(Jd),$c=fe;function Wl(e,r,t){var n=$c(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function zY(e,r){var t=e.attr(),n=t.x,a=t.y,i=$c(e.getMatrix(),[["t",-n,-a],["r",r],["t",n,a]]);return i}function Pv(e,r){var t=zY(e,r);e.setMatrix(t)}function HY(e,r){var t=e.getBBox(),n=(t.minX+t.maxX)/2,a=(t.minY+t.maxY)/2;e.applyToMatrix([n,a,1]);var i=$c(e.getMatrix(),[["t",-n,-a],["s",r,r],["t",n,a]]);e.setMatrix(i)}function ra(e){return e.find(function(r){return r.get("type")==="text"})}function rA(e,r,t){t===void 0&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var a=n.clone();r!=null&&r.rotate&&Pv(a,-r.rotate);var i=a.getCanvasBBox(),o=i.x,l=i.y,s=i.width,u=i.height;a.destroy();var f=t;return Q(f)?f=[2,2,2,2]:mt(f)&&(f=new Array(4).fill(f)),{x:o-f[3],y:l-f[0],width:s+f[1]+f[3],height:u+f[0]+f[2],rotation:(r==null?void 0:r.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function VY(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),a=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*a}function WY(e,r){var t=e.getBBox();return lc(r,function(n){var a=n.getBBox();return VY(t,a,2)>0})}function nA(e,r,t){var n=t.data,a=t.origin,i=t.animateCfg,o=t.coordinate,l=$(i,"update");e.set("data",n),e.set("origin",a),e.set("animateCfg",i),e.set("coordinate",o),e.set("visible",r.get("visible")),(e.getChildren()||[]).forEach(function(s,u){var f=r.getChildByIndex(u);if(!f)e.removeChild(s),s.remove(!0);else{s.set("data",n),s.set("origin",a),s.set("animateCfg",i),s.set("coordinate",o);var c=wC(s,f);l?ki(s,l,{toAttrs:c,coordinate:o}):s.attr(c),f.isGroup()&&nA(s,f,t)}}),B(r.getChildren(),function(s,u){J(e.getChildren())&&u>=e.getCount()&&(s.destroyed||e.add(s))})}var GY=function(){function e(r){this.shapesMap={};var t=r.layout,n=r.container;this.layout=t,this.container=n}return e.prototype.render=function(r,t,n){return n===void 0&&(n=!1),il(this,void 0,void 0,function(){var a,i,o,l,s,u,f,c,h=this;return ol(this,function(p){switch(p.label){case 0:if(a={},i=this.createOffscreenGroup(),!r.length)return[3,2];try{for(o=Ft(r),l=o.next();!l.done;l=o.next())s=l.value,s&&(a[s.id]=this.renderLabel(s,i))}catch(d){f={error:d}}finally{try{l&&!l.done&&(c=o.return)&&c.call(o)}finally{if(f)throw f.error}}return[4,this.doLayout(r,t,a)];case 1:p.sent(),this.renderLabelLine(r,a),this.renderLabelBackground(r,a),this.adjustLabel(r,a),p.label=2;case 2:return u=this.shapesMap,B(a,function(d,v){if(d.destroyed)delete a[v];else{if(u[v]){var g=d.get("data"),y=d.get("origin"),m=d.get("coordinate"),b=d.get("animateCfg"),x=u[v];nA(x,a[v],{data:g,origin:y,animateCfg:b,coordinate:m}),a[v]=x}else{if(h.container.destroyed)return;h.container.add(d);var w=$(d.get("animateCfg"),n?"enter":"appear");w&&ki(d,w,{toAttrs:T({},d.attr()),coordinate:d.get("coordinate")})}delete u[v]}}),B(u,function(d){var v=$(d.get("animateCfg"),"leave");v?ki(d,v,{toAttrs:null,coordinate:d.get("coordinate")}):d.remove(!0)}),this.shapesMap=a,i.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var n=r.id,a=r.elementId,i=r.data,o=r.mappingData,l=r.coordinate,s=r.animate,u=r.content,f=r.capture,c={id:n,elementId:a,capture:f,data:i,origin:T(T({},o),{data:o[zt]}),coordinate:l},h=t.addGroup(T({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:ot({},this.animate,s)},c)),p;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var d=u.getCanvasBBox(),v=d.width,g=d.height,y=$(r,"textAlign","left"),m=r.x,b=r.y-g/2;y==="center"?m=m-v/2:(y==="right"||y==="end")&&(m=m-v),Wl(u,m,b),p=u,h.add(u)}else{var x=$(r,["style","fill"]);p=h.addShape("text",T({attrs:T(T({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:$(r,"textBaseline","middle"),text:r.content},r.style),{fill:Tz(x)?r.color:x})},c))}return r.rotate&&Pv(p,r.rotate),h},e.prototype.doLayout=function(r,t,n){return il(this,void 0,void 0,function(){var a,i=this;return ol(this,function(o){switch(o.label){case 0:return this.layout?(a=J(this.layout)?this.layout:[this.layout],[4,Promise.all(a.map(function(l){var s=_Y($(l,"type",""));if(s){var u=[],f=[];return B(n,function(c,h){u.push(c),f.push(t[c.get("elementId")])}),s(r,u,f,i.region,l.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){B(r,function(n){var a=$(n,"coordinate");if(!(!n||!a)){var i=a.getCenter(),o=a.getRadius();if(n.labelLine){var l=$(n,"labelLine",{}),s=n.id,u=l.path;if(!u){var f=ie(i.x,i.y,o,n.angle);u=[["M",f.x,f.y],["L",n.x,n.y]]}var c=t[s];c.destroyed||c.addShape("path",{capture:!1,attrs:T({path:u,stroke:n.color?n.color:$(n,["style","fill"],"#000"),fill:null},l.style),id:s,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){B(r,function(n){var a=$(n,"coordinate"),i=$(n,"background");if(!(!i||!a)){var o=n.id,l=t[o];if(!l.destroyed){var s=l.getChildren()[0];if(s){var u=rA(l,n,i.padding),f=u.rotation,c=_t(u,["rotation"]),h=l.addShape("rect",{attrs:T(T({},c),i.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(h.setZIndex(-1),f){var p=s.getMatrix();h.setMatrix(p)}}}}})},e.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),n=new t({});return n},e.prototype.adjustLabel=function(r,t){B(r,function(n){if(n){var a=n.id,i=t[a];if(!i.destroyed){var o=i.findAll(function(l){return l.get("type")!=="path"});B(o,function(l){l&&(n.offsetX&&l.attr("x",l.attr("x")+n.offsetX),n.offsetY&&l.attr("y",l.attr("y")+n.offsetY))})}}})},e}();function Ex(e){var r=0;return B(e,function(t){r+=t}),r/e.length}var jc=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],a=this.getLabelCfgs(r);return B(r,function(i,o){var l=a[o];if(!l||Q(i.x)||Q(i.y)){n.push(null);return}var s=J(l.content)?l.content:[l.content];l.content=s;var u=s.length;B(s,function(f,c){if(Q(f)||f===""){n.push(null);return}var h=T(T({},l),t.getLabelPoint(l,i,c));h.textAlign||(h.textAlign=t.getLabelAlign(h,c,u)),h.offset<=0&&(h.labelLine=null),n.push(h)})}),n},e.prototype.render=function(r,t){return t===void 0&&(t=!1),il(this,void 0,void 0,function(){var n,a,i;return ol(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(r),a=this.getLabelsRenderer(),i=this.getGeometryShapes(),[4,a.render(n,i,t)];case 1:return o.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,a=n.type,i=n.theme;return a==="polygon"||a==="interval"&&t==="middle"||r<0&&!["line","point","path"].includes(a)?$(i,"innerLabels",{}):$(i,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),a=t.type,i=t.theme,o;return a==="polygon"||r.offset<0&&!["line","point","path"].includes(a)?o=ot({},n,i.innerLabels,r):o=ot({},n,i.labels,r),o},e.prototype.setLabelPosition=function(r,t,n,a){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var a=r.offset,i=this.getCoordinate(),o=i.isTransposed,l=o?"x":"y",s=o?1:-1,u={x:0,y:0};return t>0||n===1?u[l]=a*s:u[l]=a*s*-1,u},e.prototype.getLabelPoint=function(r,t,n){var a=this.getCoordinate(),i=r.content.length;function o(g,y,m){m===void 0&&(m=!1);var b=g;return J(b)&&(r.content.length===1?m?b=Ex(b):b.length<=2?b=b[g.length-1]:b=Ex(b):b=b[y]),b}var l={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},s=J(t.shape)?t.shape[0]:t.shape,u=s==="funnel"||s==="pyramid";if(this.geometry.type==="polygon"){var f=EG(t.x,t.y);l.x=f[0],l.y=f[1]}else this.geometry.type==="interval"&&!u?(l.x=o(t.x,n,!0),l.y=o(t.y,n)):(l.x=o(t.x,n),l.y=o(t.y,n));if(u){var c=$(t,"nextPoints"),h=$(t,"points");if(c){var p=a.convert(h[1]),d=a.convert(c[1]);l.x=(p.x+d.x)/2,l.y=(p.y+d.y)/2}else if(s==="pyramid"){var p=a.convert(h[1]),d=a.convert(h[2]);l.x=(p.x+d.x)/2,l.y=(p.y+d.y)/2}}r.position&&this.setLabelPosition(l,t,n,r.position);var v=this.getLabelOffsetPoint(r,n,i);return l.start={x:l.x,y:l.y},l.x+=v.x,l.y+=v.y,l.color=t.color,l},e.prototype.getLabelAlign=function(r,t,n){var a="center",i=this.getCoordinate();if(i.isTransposed){var o=r.offset;o<0?a="right":o===0?a="center":a="left",n>1&&t===0&&(a==="right"?a="left":a==="left"&&(a="right"))}return a},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,a=t.getXScale(),i=t.getYScale(),o=r[zt],l=t.getElementId(r);return n==="line"||n==="area"?l+=" ".concat(o[a.field]):n==="path"&&(l+=" ".concat(o[a.field],"-").concat(o[i.field])),l},e.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,n=r.labelOption,a=r.canvasRegion,i=r.animateOption,o=this.geometry.coordinate,l=this.labelsRenderer;return l||(l=new GY({container:t,layout:$(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=l),l.region=a,l.animate=i?KC("label",o):!1,l},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,a=n.labelOption,i=n.scales,o=n.coordinate,l=a,s=l.fields,u=l.callback,f=l.cfg,c=s.map(function(p){return i[p]}),h=[];return B(r,function(p,d){var v=p[zt],g=t.getLabelText(v,c),y;if(u){var m=s.map(function(A){return v[A]});if(y=u.apply(void 0,pt([],ut(m),!1)),Q(y)){h.push(null);return}}var b=T(T({id:t.getLabelId(p),elementId:t.geometry.getElementId(p),data:v,mappingData:p,coordinate:o},f),y);lt(b.position)&&(b.position=b.position(v,p,d));var x=t.getLabelOffset(b.offset||0),w=t.getDefaultLabelCfg(x,b.position);b=ot({},w,b),b.offset=t.getLabelOffset(b.offset||0);var S=b.content;lt(S)?b.content=S(v,p,d):Ea(S)&&(b.content=g[0]),h.push(b)}),h},e.prototype.getLabelText=function(r,t){var n=[];return B(t,function(a){var i=r[a.field];J(i)?i=i.map(function(o){return a.getText(o)}):i=a.getText(i),Q(i)||i===""?n.push(null):n.push(i)}),n},e.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate(),n=0;return mt(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return B(r.elementsMap,function(n,a){t[a]=n.shape}),B(r.getOffscreenGroup().getChildren(),function(n){var a=r.getElementId(n.get("origin").mappingData);t[a]=n}),t},e}();function od(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var a=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,pt([r],ut(a),!1)).join("")}else n=e.mapping(r).join("");return n||t}var Ka={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},YY=["line","cross","tick","plus","hyphen"];function qY(e,r){return lt(r)?r(e):ot({},e,r)}function XY(e,r){var t=e.symbol;if(dt(t)&&YY.indexOf(t)!==-1){var n=$(e,"style",{}),a=$(n,"lineWidth",1),i=n.stroke||n.fill||r;e.style=ot({},e.style,{lineWidth:a,stroke:i,fill:null})}}function aA(e){var r=e.symbol;dt(r)&&Ka[r]&&(e.symbol=Ka[r])}function vh(e){return e.startsWith(at.LEFT)||e.startsWith(at.RIGHT)?"vertical":"horizontal"}function iA(e,r,t,n,a){var i=t.getScale(t.type);if(i.isCategory){var o=i.field,l=r.getAttribute("color"),s=r.getAttribute("shape"),u=e.getTheme().defaultColor,f=r.coordinate.isPolar;return i.getTicks().map(function(c,h){var p,d=c.text,v=c.value,g=d,y=i.invert(v),m=e.filterFieldData(o,[(p={},p[o]=y,p)]).length===0;B(e.views,function(A){var I;A.filterFieldData(o,[(I={},I[o]=y,I)]).length||(m=!0)});var b=od(l,y,u),x=od(s,y,"point"),w=r.getShapeMarker(x,{color:b,isInPolar:f}),S=a;return lt(S)&&(S=S(g,h,T({name:g,value:y},ot({},n,w)))),w=ot({},n,w,We(T({},S),["style"])),XY(w,b),S&&S.style&&(w.style=qY(w.style,S.style)),aA(w),{id:y,name:g,value:y,marker:w,unchecked:m}})}return[]}function UY(e,r,t){return t.map(function(n,a){var i=r;lt(i)&&(i=i(n.name,a,ot({},e,n)));var o=lt(n.marker)?n.marker(n.name,a,ot({},e,n)):n.marker,l=ot({},e,i,o);return aA(l),n.marker=l,n})}function Mx(e,r){var t=$(e,["components","legend"],{});return ot({},$(t,["common"],{}),ot({},$(t,[r],{})))}function gh(e){return e?!1:e==null||isNaN(e)}function Ox(e){if(J(e))return gh(e[1].y);var r=e.y;return J(r)?gh(r[0]):gh(r)}function zc(e,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!e.length||e.length===1&&!t)return[];if(r){for(var n=[],a=0,i=e.length;a<i;a++){var o=e[a];Ox(o)||n.push(o)}return[n]}for(var l=[],s=[],a=0,i=e.length;a<i;a++){var o=e[a];Ox(o)?s.length&&(s.length===1&&!t||l.push(s),s=[]):s.push(o)}return s.length&&l.push(s),l}function oA(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var a=t===0?"M":"L";r.push([a,n.x,n.y])}}var i=e[0];return i&&(r.push(["L",i.x,i.y]),r.push(["z"])),r}function lA(e){for(var r=e.length/2,t=[],n=[],a=0;a<e.length;a++)a<r?t.push(e[a]):n.push(e[a]);var i=Bu(t,!1),o=Bu(n,!1);n.length&&i.push(["L",n[0].x,n[0].y]),o.shift();var l=i.concat(o);return t.length&&l.push(["L",t[0].x,t[0].y]),l.push(["z"]),l}function ae(e,r,t,n){n===void 0&&(n="");var a=e.style,i=a===void 0?{}:a,o=e.defaultStyle,l=e.color,s=e.size,u=T(T({},o),i);return l&&(r&&(i.stroke||(u.stroke=l)),t&&(i.fill||(u.fill=l))),n&&Q(i[n])&&!Q(s)&&(u[n]=s),u}function sA(e){return ot({},{fill:"#CCD6EC",fillOpacity:.3},$(e,["background","style"]))}function Lv(e){var r=e.x,t=J(e.y)?e.y:[e.y];return t.map(function(n,a){return{x:J(r)?r[a]:r,y:n}})}var KY={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function uA(e,r){var t=e.color;return{symbol:KY[r],style:{lineWidth:2,r:6,stroke:t}}}function ZY(e,r,t){for(var n=e.isStack,a=e.connectNulls,i=e.isInCircle,o=e.showSinglePoint,l=ae(e,!0,!1,"lineWidth"),s=zc(e.points,a,o),u=[],f=0,c=s.length;f<c;f++){var h=s[f];u=u.concat(cA(h,i,n,r,t,l))}return l.path=u,l}function ld(e,r,t,n,a){if(e.length===1)return[["M",e[0].x,e[0].y-a.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+a.lineWidth/2]];var i;return t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),i=Bu(e,!1,n)):(i=Hl(e,!1),r&&i.push(["Z"])),i}function QY(e,r,t,n,a,i){var o=[],l=[];B(e,function(f){var c=Lv(f);o.push(c[1]),l.push(c[0])});var s=ld(o,r,n,a,i),u=ld(l,r,n,a,i);return t?s:s.concat(u)}function cA(e,r,t,n,a,i){if(e.length){var o=e[0];return J(o.y)?QY(e,r,t,n,a,i):ld(e,r,n,a,i)}return[]}ca("line",{defaultShapeType:"line"});B(["line","dot","dash","smooth"],function(e){Pt("line",e,{draw:function(r,t){var n=e==="smooth",a;if(n){var i=this.coordinate,o=i.start,l=i.end;a=[[o.x,l.y],[l.x,o.y]]}var s=ZY(r,n,a),u=t.addShape({type:"path",attrs:s,name:"line",capture:!n});return u},getMarker:function(r){return uA(r,e)}})});var Ke={getLegendItems:iA,translate:Wl,rotate:Pv,zoom:HY,transform:$c,getAngle:xl,getSectorPath:Xn,polarToCartesian:ie,getDelegationObject:Ua,getTooltipItems:Ev,getMappingValue:od,getPath:cA,getPathPoints:zc},On={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},jt={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ir=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],JY=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],tq=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],eq=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?Ir:r,n=e.paletteQualitative20,a=n===void 0?JY:n,i=e.brandColor,o=i===void 0?t[0]:i,l={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:tq,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:jt[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:jt[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:On[85],axisTickLineBorderColor:jt[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:jt[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:jt[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:jt[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:jt[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ir[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:jt[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:jt[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:jt[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:jt[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:jt[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:jt[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:On[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:On[25],annotationArcBorderColor:jt[15],annotationArcBorder:1,annotationLineBorderColor:jt[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:jt[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:jt[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:jt[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:jt[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:jt[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:On[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:jt[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:On[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:jt[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Ir[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:On[100],pointBorderOpacity:1,pointActiveBorderColor:jt[100],pointSelectedBorder:2,pointSelectedBorderColor:jt[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ir[0],hollowPointBorderOpacity:.95,hollowPointFillColor:On[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:jt[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:jt[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ir[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ir[0],areaFillOpacity:.25,areaActiveFillColor:Ir[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ir[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ir[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:jt[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:jt[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ir[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:jt[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:jt[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ir[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:On[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:jt[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:jt[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return T(T({},l),e)},rq=eq();function nq(){return window?window.devicePixelRatio:1}function fA(e,r,t,n){var a=e-t,i=r-n;return Math.sqrt(a*a+i*i)}function Oa(e,r,t,n,a,i){return a>=e&&a<=e+t&&i>=r&&i<=r+n}function Cl(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function aq(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function kx(e,r){return e[0]===r[0]&&e[1]===r[1]}var iq=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,oq=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,lq=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,hA=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function pA(e,r){var t=e.match(hA);B(t,function(n){var a=n.split(":");r.addColorStop(a[0],a[1])})}function sq(e,r,t){var n=iq.exec(t),a=parseFloat(n[1])%360*(Math.PI/180),i=n[2],o=r.getBBox(),l,s;a>=0&&a<1/2*Math.PI?(l={x:o.minX,y:o.minY},s={x:o.maxX,y:o.maxY}):1/2*Math.PI<=a&&a<Math.PI?(l={x:o.maxX,y:o.minY},s={x:o.minX,y:o.maxY}):Math.PI<=a&&a<3/2*Math.PI?(l={x:o.maxX,y:o.maxY},s={x:o.minX,y:o.minY}):(l={x:o.minX,y:o.maxY},s={x:o.maxX,y:o.minY});var u=Math.tan(a),f=u*u,c=(s.x-l.x+u*(s.y-l.y))/(f+1)+l.x,h=u*(s.x-l.x+u*(s.y-l.y))/(f+1)+l.y,p=e.createLinearGradient(l.x,l.y,c,h);return pA(i,p),p}function uq(e,r,t){var n=oq.exec(t),a=parseFloat(n[1]),i=parseFloat(n[2]),o=parseFloat(n[3]),l=n[4];if(o===0){var s=l.match(hA);return s[s.length-1].split(":")[1]}var u=r.getBBox(),f=u.maxX-u.minX,c=u.maxY-u.minY,h=Math.sqrt(f*f+c*c)/2,p=e.createRadialGradient(u.minX+f*a,u.minY+c*i,0,u.minX+f/2,u.minY+c/2,o*h);return pA(l,p),p}function cq(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,a,i=lq.exec(t),o=i[1],l=i[2];function s(){n=e.createPattern(a,o),r.set("pattern",n),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return a=new Image,l.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=l,a.complete?s():(a.onload=s,a.src=a.src),n}function fq(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if(dt(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return sq(e,r,t);if(t[0]==="r")return uq(e,r,t);if(t[0]==="p")return cq(e,r,t)}return t}if(t instanceof CanvasPattern)return t}function hq(e){var r=0,t=0,n=0,a=0;return J(e)?e.length===1?r=t=n=a=e[0]:e.length===2?(r=n=e[0],t=a=e[1]):e.length===3?(r=e[0],t=a=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],a=e[3]):r=t=n=a=e,[r,t,n,a]}function Es(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function sd(e,r){return Es(e)*Es(r)?(e[0]*r[0]+e[1]*r[1])/(Es(e)*Es(r)):1}function Fx(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(sd(e,r))}function Nu(e,r){var t=r[1],n=r[2],a=Xd(Ud(r[3]),Math.PI*2),i=r[4],o=r[5],l=e[0],s=e[1],u=r[6],f=r[7],c=Math.cos(a)*(l-u)/2+Math.sin(a)*(s-f)/2,h=-1*Math.sin(a)*(l-u)/2+Math.cos(a)*(s-f)/2,p=c*c/(t*t)+h*h/(n*n);p>1&&(t*=Math.sqrt(p),n*=Math.sqrt(p));var d=t*t*(h*h)+n*n*(c*c),v=d?Math.sqrt((t*t*(n*n)-d)/d):1;i===o&&(v*=-1),isNaN(v)&&(v=0);var g=n?v*t*h/n:0,y=t?v*-n*c/t:0,m=(l+u)/2+Math.cos(a)*g-Math.sin(a)*y,b=(s+f)/2+Math.sin(a)*g+Math.cos(a)*y,x=[(c-g)/t,(h-y)/n],w=[(-1*c-g)/t,(-1*h-y)/n],S=Fx([1,0],x),A=Fx(x,w);return sd(x,w)<=-1&&(A=Math.PI),sd(x,w)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:m,cy:b,rx:kx(e,[u,f])?0:t,ry:kx(e,[u,f])?0:n,startAngle:S,endAngle:S+A,xRotation:a,arcFlag:i,sweepFlag:o}}var $u=Math.sin,ju=Math.cos,Rv=Math.atan2,Ms=Math.PI;function dA(e,r,t,n,a,i,o){var l=r.stroke,s=r.lineWidth,u=t-a,f=n-i,c=Rv(f,u),h=new $v({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ju(Ms/6)+","+10*$u(Ms/6)+" L0,0 L"+10*ju(Ms/6)+",-"+10*$u(Ms/6),stroke:l,lineWidth:s}});h.translate(a,i),h.rotateAtPoint(a,i,c),e.set(o?"startArrowShape":"endArrowShape",h)}function vA(e,r,t,n,a,i,o){var l=r.startArrow,s=r.endArrow,u=r.stroke,f=r.lineWidth,c=o?l:s,h=c.d,p=c.fill,d=c.stroke,v=c.lineWidth,g=_t(c,["d","fill","stroke","lineWidth"]),y=t-a,m=n-i,b=Rv(m,y);h&&(a=a-ju(b)*h,i=i-$u(b)*h);var x=new $v({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:T(T({},g),{stroke:d||u,lineWidth:v||f,fill:p})});x.translate(a,i),x.rotateAtPoint(a,i,b),e.set(o?"startArrowShape":"endArrowShape",x)}function ja(e,r,t,n,a){var i=Rv(n-r,t-e);return{dx:ju(i)*a,dy:$u(i)*a}}function Dv(e,r,t,n,a,i){typeof r.startArrow=="object"?vA(e,r,t,n,a,i,!0):r.startArrow?dA(e,r,t,n,a,i,!0):e.set("startArrowShape",null)}function Bv(e,r,t,n,a,i){typeof r.endArrow=="object"?vA(e,r,t,n,a,i,!1):r.endArrow?dA(e,r,t,n,a,i,!1):e.set("startArrowShape",null)}var Px={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Gi(e,r){var t=r.attr();for(var n in t){var a=t[n],i=Px[n]?Px[n]:n;i==="matrix"&&a?e.transform(a[0],a[1],a[3],a[4],a[6],a[7]):i==="lineDash"&&e.setLineDash?J(a)&&e.setLineDash(a):(i==="strokeStyle"||i==="fillStyle"?a=fq(e,r,a):i==="globalAlpha"&&(a=a*e.globalAlpha),e[i]=a)}}function ud(e,r,t){for(var n=0;n<r.length;n++){var a=r[n];a.cfg.visible?a.draw(e,t):a.skipDraw()}}function pq(e,r,t){var n=e.get("refreshElements");B(n,function(a){if(a!==e)for(var i=a.cfg.parent;i&&i!==e&&!i.cfg.refresh;)i.cfg.refresh=!0,i=i.cfg.parent}),n[0]===e?_v(r):cd(r,t)}function cd(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&_v(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&cd(n.cfg.children,r);else{var a=dq(n,r);n.cfg.refresh=a,a&&n.isGroup()&&cd(n.cfg.children,r)}}}function gA(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&gA(t.cfg.children)}}function _v(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&_v(n.get("children")))}}function dq(e,r){var t=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&t&&Cl(t,r);return n}function yA(e,r,t,n){var a=t.path,i=t.startArrow,o=t.endArrow;if(a){var l=[0,0],s=[0,0],u={dx:0,dy:0};r.beginPath();for(var f=0;f<a.length;f++){var c=a[f],h=c[0];if(f===0&&i&&i.d){var p=e.getStartTangent();u=ja(p[0][0],p[0][1],p[1][0],p[1][1],i.d)}else if(f===a.length-2&&a[f+1][0]==="Z"&&o&&o.d){var d=a[f+1];if(d[0]==="Z"){var p=e.getEndTangent();u=ja(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}}else if(f===a.length-1&&o&&o.d&&a[0]!=="Z"){var p=e.getEndTangent();u=ja(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}var v=u.dx,g=u.dy;switch(h){case"M":r.moveTo(c[1]-v,c[2]-g),s=[c[1],c[2]];break;case"L":r.lineTo(c[1]-v,c[2]-g);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-v,c[4]-g);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-v,c[6]-g);break;case"A":{var y=void 0;n?(y=n[f],y||(y=Nu(l,c),n[f]=y)):y=Nu(l,c);var m=y.cx,b=y.cy,x=y.rx,w=y.ry,S=y.startAngle,A=y.endAngle,I=y.xRotation,k=y.sweepFlag;if(r.ellipse)r.ellipse(m,b,x,w,I,S,A,1-k);else{var E=x>w?x:w,M=x>w?1:x/w,O=x>w?w/x:1;r.translate(m,b),r.rotate(I),r.scale(M,O),r.arc(0,0,E,S,A,1-k),r.scale(1/M,1/O),r.rotate(-I),r.translate(-m,-b)}break}case"Z":r.closePath();break}if(h==="Z")l=s;else{var F=c.length;l=[c[F-2],c[F-1]]}}}}function mA(e,r){var t=e.get("canvas");t&&(r==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}function vq(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),a=e.getCanvasBBox(),i=a&&!!(a.width&&a.height);n&&i?r=aq(t,a):n?r=t:i&&(r=a)}return r}function gq(e){if(!e.length)return null;var r=[],t=[],n=[],a=[];return B(e,function(i){var o=vq(i);o&&(r.push(o.minX),t.push(o.minY),n.push(o.maxX),a.push(o.maxY))}),{minX:br(r),minY:br(t),maxX:ir(n),maxY:ir(a)}}function yq(e,r){return!e||!r||!Cl(e,r)?null:{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}}var Nv=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){mA(this,t)},r.prototype.getShapeBase=function(){return Zu},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),Gi(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],a=[];B(t,function(h){var p=h.cfg.cacheCanvasBBox;p&&h.cfg.isInView&&(n.push(p.minX,p.maxX),a.push(p.minY,p.maxY))});var i=null;if(n.length){var o=br(n),l=ir(n),s=br(a),u=ir(a);i={minX:o,minY:s,x:o,y:s,maxX:l,maxY:u,width:l-o,height:u-s};var f=this.cfg.canvas;if(f){var c=f.getViewRange();this.set("isInView",Cl(i,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},r.prototype.draw=function(t,n){var a=this.cfg.children,i=n?this.cfg.refresh:!0;a.length&&i&&(t.save(),Gi(t,this),this._applyClip(t,this.getClip()),ud(t,a,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(vc),Br=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Zu},r.prototype.getGroupBase=function(){return Nv},r.prototype.onCanvasChange=function(t){mA(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),a=yc(t),i=a(this),o=n/2,l=i.x-o,s=i.y-o,u=i.x+i.width+o,f=i.y+i.height+o;return{x:l,minX:l,y:s,minY:s,width:i.width+n,height:i.height+n,maxX:u,maxY:f}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),Gi(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var a=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var i=this.getCanvasBBox();if(!Cl(n,i)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),Gi(t,this),this._applyClip(t,a),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),a=Cl(n,t);this.set("isInView",a),a?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,l=n.fillOpacity;this.isFill()&&(!Q(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=i):this.fill(t)),this.isStroke()&&a>0&&(!Q(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var a=this.isStroke(),i=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,a,i,o)},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(gc),mq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=l.x,u=l.y,f=l.r,c=o/2,h=fA(s,u,t,n);return i&&a?h<=f+c:i?h<=f:a?h>=f-c&&h<=f+c:!1},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.r;t.beginPath(),t.arc(a,i,o,0,Math.PI*2,!1),t.closePath()},r}(Br);function Os(e,r,t,n){return e/(t*t)+r/(n*n)}var xq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=o/2,u=l.x,f=l.y,c=l.rx,h=l.ry,p=(t-u)*(t-u),d=(n-f)*(n-f);return i&&a?Os(p,d,c+s,h+s)<=1:i?Os(p,d,c,h)<=1:a?Os(p,d,c-s,h-s)>=1&&Os(p,d,c+s,h+s)<=1:!1},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.rx,l=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(a,i,o,l,0,0,Math.PI*2,!1);else{var s=o>l?o:l,u=o>l?1:o/l,f=o>l?l/o:1;t.save(),t.translate(a,i),t.scale(u,f),t.arc(0,0,s,0,Math.PI*2),t.restore(),t.closePath()}},r}(Br);function Lx(e){return e instanceof HTMLElement&&dt(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var bq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,a=this.attrs;if(dt(t)){var i=new Image;i.onload=function(){if(n.destroyed)return!1;n.attr("img",i),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(a.width||(a.width=t.width),a.height||(a.height=t.height)):Lx(t)&&(a.width||(a.width=Number(t.getAttribute("width"))),a.height||(a.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t==="img"&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),a=n.x,i=n.y,o=n.width,l=n.height,s=n.sx,u=n.sy,f=n.swidth,c=n.sheight,h=n.img;(h instanceof Image||Lx(h))&&(!Q(s)&&!Q(u)&&!Q(f)&&!Q(c)?t.drawImage(h,s,u,f,c,a,i,o,l):t.drawImage(h,a,i,o,l))},r}(Br);function Vn(e,r,t,n,a,i,o){var l=Math.min(e,t),s=Math.max(e,t),u=Math.min(r,n),f=Math.max(r,n),c=a/2;return i>=l-c&&i<=s+c&&o>=u-c&&o<=f+c?Te.pointToLine(e,r,t,n,i,o)<=a/2:!1}var wq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.startArrow,s=t.endArrow;l&&Dv(this,t,i,o,n,a),s&&Bv(this,t,n,a,i,o)},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var l=this.attr(),s=l.x1,u=l.y1,f=l.x2,c=l.y2;return Vn(s,u,f,c,o,t,n)},r.prototype.createPath=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2,s=n.startArrow,u=n.endArrow,f={dx:0,dy:0},c={dx:0,dy:0};s&&s.d&&(f=ja(a,i,o,l,n.startArrow.d)),u&&u.d&&(c=ja(a,i,o,l,n.endArrow.d)),t.beginPath(),t.moveTo(a+f.dx,i+f.dy),t.lineTo(o-c.dx,l-c.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return Te.length(n,a,i,o)},r.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2;return Te.pointAt(a,i,o,l,t)},r}(Br),Sq={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},Cq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return Q(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.symbol||"circle",o=this._getR(t),l,s;if(lt(i))l=i,s=l(n,a,o),s=IS(s);else{if(l=r.Symbols[i],!l)return console.warn(i+" marker is not supported."),null;s=l(n,a,o)}return s},r.prototype.createPath=function(t){var n=this._getPath(),a=this.get("paramsCache");yA(this,t,{path:n},a)},r.Symbols=Sq,r}(Br);function xA(e,r,t){var n=xc();return e.createPath(n),n.isPointInPath(r,t)}var Aq=1e-6;function yh(e){return Math.abs(e)<Aq?0:e<0?-1:1}function Tq(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function bA(e,r,t){var n=!1,a=e.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=e[i],l=e[(i+1)%a];if(Tq(o,l,[r,t]))return!0;yh(o[1]-t)>0!=yh(l[1]-t)>0&&yh(r-(t-o[1])*(o[0]-l[0])/(o[1]-l[1])-o[0])<0&&(n=!n)}return n}function No(e,r,t,n,a,i,o,l){var s=(Math.atan2(l-r,o-e)+Math.PI*2)%(Math.PI*2);if(s<n||s>a)return!1;var u={x:e+t*Math.cos(s),y:r+t*Math.sin(s)};return fA(u.x,u.y,o,l)<=i/2}var Iq=fe;function Eq(e){for(var r=!1,t=e.length,n=0;n<t;n++){var a=e[n],i=a[0];if(i==="C"||i==="A"||i==="Q"){r=!0;break}}return r}function Mq(e,r,t,n,a){for(var i=!1,o=r/2,l=0;l<e.length;l++){var s=e[l],u=s.currentPoint,f=s.params,c=s.prePoint,h=s.box;if(!(h&&!Oa(h.x-o,h.y-o,h.width+r,h.height+r,t,n))){switch(s.command){case"L":case"Z":i=Vn(c[0],c[1],u[0],u[1],r,t,n);break;case"Q":var p=wS.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],t,n);i=p<=r/2;break;case"C":var d=qo.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],f[5],f[6],t,n,a);i=d<=r/2;break;case"A":var v=s.arcParams,g=v.cx,y=v.cy,m=v.rx,b=v.ry,x=v.startAngle,w=v.endAngle,S=v.xRotation,A=[t,n,1],I=m>b?m:b,k=m>b?1:m/b,E=m>b?b/m:1,M=Iq(null,[["t",-g,-y],["r",-S],["s",1/k,1/E]]);ul(A,A,M),i=No(0,0,I,x,w,r,A[0],A[1]);break}if(i)break}}return i}function Oq(e){for(var r=e.length,t=[],n=[],a=[],i=0;i<r;i++){var o=e[i],l=o[0];l==="M"?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):l==="Z"?a.length&&(t.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:t,polylines:n}}const ks=T({hasArc:Eq,extractPolygons:Oq,isPointInStroke:Mq},tv);function Rx(e,r,t){for(var n=!1,a=0;a<e.length;a++){var i=e[a];if(n=bA(i,r,t),n)break}return n}var $v=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t==="path"&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=IS(t);var n=ks.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=ES(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,a=t.endArrow;if(n){var i=this.getStartTangent();Dv(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(a){var i=this.getEndTangent();Bv(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.getSegments(),s=this.get("hasArc"),u=!1;if(a){var f=this.getTotalLength();u=ks.isPointInStroke(l,o,t,n,f)}if(!u&&i)if(s)u=xA(this,t,n);else{var c=this.attr("path"),h=ks.extractPolygons(c);u=Rx(h.polygons,t,n)||Rx(h.polylines,t,n)}return u},r.prototype.createPath=function(t){var n=this.attr(),a=this.get("paramsCache");yA(this,t,n,a)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return Q(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a,i,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;B(n,function(f,c){t>=f[0]&&t<=f[1]&&(a=(t-f[0])/(f[1]-f[0]),i=c)});var l=o[i];if(Q(l)||Q(i))return null;var s=l.length,u=o[i+1];return qo.pointAt(l[s-2],l[s-1],u[1],u[2],u[3],u[4],u[5],u[6],a)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",ks.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,n=0,a=[],i,o,l,s,u=this.get("curve");if(u){if(B(u,function(f,c){l=u[c+1],s=f.length,l&&(t+=qo.length(f[s-2],f[s-1],l[1],l[2],l[3],l[4],l[5],l[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}B(u,function(f,c){l=u[c+1],s=f.length,l&&(i=[],i[0]=n/t,o=qo.length(f[s-2],f[s-1],l[1],l[2],l[3],l[4],l[5],l[6]),n+=o||0,i[1]=n/t,a.push(i))}),this.set("tCache",a)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var a=t[0].currentPoint,i=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([a[0]-o[0],a[1]-o[1]]),n.push([a[0],a[1]])):(n.push([i[0],i[1]]),n.push([a[0],a[1]]))}return n},r.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,a;if(n>1){var i=t[n-2].currentPoint,o=t[n-1].currentPoint,l=t[n-1].endTangent;a=[],l?(a.push([o[0]-l[0],o[1]-l[1]]),a.push([o[0],o[1]])):(a.push([i[0],i[1]]),a.push([o[0],o[1]]))}return a},r}(Br);function wA(e,r,t,n,a){var i=e.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var l=e[o][0],s=e[o][1],u=e[o+1][0],f=e[o+1][1];if(Vn(l,s,u,f,r,t,n))return!0}if(a){var c=e[0],h=e[i-1];if(Vn(c[0],c[1],h[0],h[1],r,t,n))return!0}return!1}var kq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr().points,s=!1;return a&&(s=wA(l,o,t,n,!0)),!s&&i&&(s=bA(l,t,n)),s},r.prototype.createPath=function(t){var n=this.attr(),a=n.points;if(!(a.length<2)){t.beginPath();for(var i=0;i<a.length;i++){var o=a[i];i===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Br),Fq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,a=n.points,i=n.startArrow,o=n.endArrow,l=a.length,s=a[0][0],u=a[0][1],f=a[l-1][0],c=a[l-1][1];i&&Dv(this,t,a[1][0],a[1][1],s,u),o&&Bv(this,t,a[l-2][0],a[l-2][1],f,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){if(!a||!o)return!1;var l=this.attr().points;return wA(l,o,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),a=n.points,i=n.startArrow,o=n.endArrow,l=a.length;if(!(a.length<2)){var s=a[0][0],u=a[0][1],f=a[l-1][0],c=a[l-1][1];if(i&&i.d){var h=ja(s,u,a[1][0],a[1][1],i.d);s+=h.dx,u+=h.dy}if(o&&o.d){var h=ja(a[l-2][0],a[l-2][1],f,c,o.d);f-=h.dx,c-=h.dy}t.beginPath(),t.moveTo(s,u);for(var p=0;p<l-1;p++){var d=a[p];t.lineTo(d[0],d[1])}t.lineTo(f,c)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),a=this.get("endArrowShape");n&&n.draw(t),a&&a.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return Q(n)?(this.set("totalLength",AS.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return B(a,function(l,s){t>=l[0]&&t<=l[1]&&(i=(t-l[0])/(l[1]-l[0]),o=s)}),Te.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,l;B(t,function(s,u){t[u+1]&&(o=[],o[0]=a/n,l=Te.length(s[0],s[1],t[u+1][0],t[u+1][1]),a+=l,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},r}(Br);function Pq(e,r,t,n,a,i,o){var l=a/2;return Oa(e-l,r-l,t,a,i,o)||Oa(e+t-l,r-l,a,n,i,o)||Oa(e+l,r+n-l,t,a,i,o)||Oa(e-l,r+l,a,n,i,o)}function Lq(e,r,t,n,a,i,o,l){return Vn(e+a,r,e+t-a,r,i,o,l)||Vn(e+t,r+a,e+t,r+n-a,i,o,l)||Vn(e+t-a,r+n,e+a,r+n,i,o,l)||Vn(e,r+n-a,e,r+a,i,o,l)||No(e+t-a,r+a,a,1.5*Math.PI,2*Math.PI,i,o,l)||No(e+t-a,r+n-a,a,0,.5*Math.PI,i,o,l)||No(e+a,r+n-a,a,.5*Math.PI,Math.PI,i,o,l)||No(e+a,r+a,a,Math.PI,1.5*Math.PI,i,o,l)}var Rq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,a,i,o){var l=this.attr(),s=l.x,u=l.y,f=l.width,c=l.height,h=l.radius;if(h){var d=!1;return a&&(d=Lq(s,u,f,c,h,o,t,n)),!d&&i&&(d=xA(this,t,n)),d}else{var p=o/2;if(i&&a)return Oa(s-p,u-p,f+p,c+p,t,n);if(i)return Oa(s,u,f,c,t,n);if(a)return Pq(s,u,f,c,o,t,n)}},r.prototype.createPath=function(t){var n=this.attr(),a=n.x,i=n.y,o=n.width,l=n.height,s=n.radius;if(t.beginPath(),s===0)t.rect(a,i,o,l);else{var u=hq(s),f=u[0],c=u[1],h=u[2],p=u[3];t.moveTo(a+f,i),t.lineTo(a+o-c,i),c!==0&&t.arc(a+o-c,i+c,c,-Math.PI/2,0),t.lineTo(a+o,i+l-h),h!==0&&t.arc(a+o-h,i+l-h,h,0,Math.PI/2),t.lineTo(a+p,i+l),p!==0&&t.arc(a+p,i+l-p,p,Math.PI/2,Math.PI),t.lineTo(a,i+f),f!==0&&t.arc(a+f,i+f,f,Math.PI,Math.PI*1.5),t.closePath()}},r}(Br),Dq=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=wc(t)},r.prototype._setText=function(t){var n=null;dt(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,a=t.fontSize*1;return n?n-a:a*.14},r.prototype._drawTextArr=function(t,n,a){var i=this.attrs,o=i.textBaseline,l=i.x,s=i.y,u=i.fontSize*1,f=this._getSpaceingY(),c=bc(i.text,i.fontSize,i.lineHeight),h;B(n,function(p,d){h=s+d*(f+u)-c+u,o==="middle"&&(h+=c-u-(c-u)/2),o==="top"&&(h+=c-u),Q(p)||(a?t.fillText(p,l,h):t.strokeText(p,l,h))})},r.prototype._drawText=function(t,n){var a=this.attr(),i=a.x,o=a.y,l=this.get("textArr");if(l)this._drawTextArr(t,l,n);else{var s=a.text;Q(s)||(n?t.fillText(s,i,o):t.strokeText(s,i,o))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,a=n.lineWidth,i=n.opacity,o=n.strokeOpacity,l=n.fillOpacity;this.isStroke()&&a>0&&(!Q(o)&&o!==1&&(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(!Q(l)&&l!==1?(t.globalAlpha=l,this.fill(t),t.globalAlpha=i):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Br);function Bq(e,r){if(r){var t=hc(r);return fn(t,e)}return e}function SA(e,r,t){var n=e.getTotalMatrix();if(n){var a=Bq([r,t,1],n),i=a[0],o=a[1];return[i,o]}return[r,t]}function Dx(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!sl(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=SA(e,r,t),a=n[0],i=n[1];if(e.isClipped(a,i))return!1}var o=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function CA(e,r,t){if(!Dx(e,r,t))return null;for(var n=null,a=e.getChildren(),i=a.length,o=i-1;o>=0;o--){var l=a[o];if(l.isGroup())n=CA(l,r,t);else if(Dx(l,r,t)){var s=l,u=SA(l,r,t),f=u[0],c=u[1];s.isInShape(f,c)&&(n=l)}if(n)break}return n}var _q=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Zu},r.prototype.getGroupBase=function(){return Nv},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||nq();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var a=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*t,i.height=o*n,o>1&&a.scale(o,o)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){var a;return this.get("quickHit")?a=CA(this,t,n):a=e.prototype.getShape.call(this,t,n,null),a},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),a;if(t.length&&t[0]===this)a=n;else if(a=gq(t),a){a.minX=Math.floor(a.minX),a.minY=Math.floor(a.minY),a.maxX=Math.ceil(a.maxX),a.maxY=Math.ceil(a.maxY),a.maxY+=1;var i=this.get("clipView");i&&(a=yq(a,n))}return a},r.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Oz(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),a=this.getChildren();t.clearRect(0,0,n.width,n.height),Gi(t,this),ud(t,a),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),a=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Gi(t,this),pq(this,a,i),ud(t,a,i),t.restore()):n.length&&gA(n),B(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame"),a=this.get("drawFrameCallback");n||(n=Mz(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),a&&a()}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(dc),Nq="0.5.12";const $q=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:dc,AbstractGroup:vc,AbstractShape:gc,Base:cc,Canvas:_q,Event:_l,Group:Nv,PathUtil:tv,Shape:Zu,assembleFont:wc,getArcParams:Nu,getBBoxMethod:yc,getOffScreenContext:xc,getTextHeight:bc,invert:hc,isAllowCapture:sl,multiplyVec2:fn,registerBBox:Sr,registerEasing:vS,version:Nq},Symbol.toStringTag,{value:"Module"}));var fd={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Ot={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function wr(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function AA(e){var r=fd[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=wr(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var a=t.get("el");a||(a=t.createDom(),t.set("el",a)),a.appendChild(n)}return n}function TA(e,r){var t=e.get("el"),n=Dz(t.children).sort(r),a=document.createDocumentFragment();n.forEach(function(i){a.appendChild(i)}),t.appendChild(a)}function jq(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(l){return l.nodeType===1&&l.nodeName.toLowerCase()!=="defs"}),a=n[r],i=n.indexOf(e);if(a){if(i>r)t.insertBefore(e,a);else if(i<r){var o=n[r+1];o?t.insertBefore(e,o):t.appendChild(e)}}else t.appendChild(e)}function zq(e,r){var t=e.cfg.el,n=e.attr(),a={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!a.dx&&!a.dy&&!a.blur&&!a.color)t.removeAttribute("filter");else{var i=r.find("filter",a);i||(i=r.addShadow(a)),t.setAttribute("filter","url(#"+i+")")}}function Gl(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],a=0;a<9;a+=3)n.push(r[a]+","+r[a+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function Al(e,r){var t=e.getClip(),n=e.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){AA(t),t.createPath(r);var a=r.addClip(t);n.setAttribute("clip-path","url(#"+a+")")}}function IA(e,r){r.forEach(function(t){t.draw(e)})}function EA(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),a=e.getParent(),i=a?a.getChildren():[t],o=e.get("el");if(r==="remove"){var l=e.get("isClipShape");if(l){var s=o&&o.parentNode,u=s&&s.parentNode;s&&u&&u.removeChild(s)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")jq(o,i.indexOf(e));else if(r==="sort"){var f=e.get("children");f&&f.length&&TA(e,function(c,h){return f.indexOf(c)-f.indexOf(h)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Gl(e):r==="clip"?Al(e,n):r==="attr"||r==="add"&&e.draw(n)}}var jv=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=wr("g");this.set("el",t);var n=this.getParent();if(n){var a=n.get("el");a||(a=n.createDom(),n.set("el",a)),a.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.createPath(a,t)}},r.prototype.onCanvasChange=function(t){EA(this,t)},r.prototype.getShapeBase=function(){return Qu},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||this.createDom(),Al(this,t),this.createPath(t),n.length&&IA(t,n))},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){Ot[l]&&i.setAttribute(Ot[l],o)}),Gl(this)},r}(vc),Cr=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context");this.draw(a,t)}},r.prototype.getShapeBase=function(){return Qu},r.prototype.getGroupBase=function(){return jv},r.prototype.onCanvasChange=function(t){EA(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var a=yc(this.get("type"));a&&(n=a(this))}if(n){var i=n.x,o=n.y,l=n.width,s=n.height,u=this.getHitLineWidth(),f=u/2,c=i-f,h=o-f,p=i+l+f,d=o+s+f;return{x:c,y:h,minX:c,minY:h,maxX:p,maxY:d,width:l+u,height:s+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),n=t.fill,a=t.fillStyle;return(n||a||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,a=t.strokeStyle;return(n||a)&&this.canStroke},r.prototype.draw=function(t,n){var a=this.get("el");this.get("destroyed")?a&&a.parentNode.removeChild(a):(a||AA(this),Al(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var a=n||this.attr(),i=a.fill,o=a.fillStyle,l=a.stroke,s=a.strokeStyle,u=a.fillOpacity,f=a.strokeOpacity,c=a.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in a?this._setColor(t,"fill",i):"fillStyle"in a&&this._setColor(t,"fill",o):this._setColor(t,"fill",i||o),u&&h.setAttribute(Ot.fillOpacity,u)),this.canStroke&&c>0&&(n?"stroke"in a?this._setColor(t,"stroke",l):"strokeStyle"in a&&this._setColor(t,"stroke",s):this._setColor(t,"stroke",l||s),f&&h.setAttribute(Ot.strokeOpacity,f),c&&h.setAttribute(Ot.lineWidth,c))},r.prototype._setColor=function(t,n,a){var i=this.get("el");if(!a){i.setAttribute(Ot[n],"none");return}if(a=a.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(a)){var o=t.find("gradient",a);o||(o=t.addGradient(a)),i.setAttribute(Ot[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(a)){var o=t.find("pattern",a);o||(o=t.addPattern(a)),i.setAttribute(Ot[n],"url(#"+o+")")}else i.setAttribute(Ot[n],a)},r.prototype.shadow=function(t,n){var a=this.attr(),i=n||a,o=i.shadowOffsetX,l=i.shadowOffsetY,s=i.shadowBlur,u=i.shadowColor;(o||l||s||u)&&zq(this,t)},r.prototype.transform=function(t){var n=this.attr(),a=(t||n).matrix;a&&Gl(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var a=this.get("el"),i=this.get("canvas"),o=i.get("el").getBoundingClientRect(),l=t+o.left,s=n+o.top,u=document.elementFromPoint(l,s);return!!(u&&u.isEqualNode(a))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,a=t.lineAppendWidth;return this.isStroke()?n+a:0},r}(gc),Hq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){l==="x"||l==="y"?i.setAttribute("c"+l,o):Ot[l]&&i.setAttribute(Ot[l],o)})},r}(Cr),Vq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");if(B(n||a,function(u,f){Ot[f]&&i.setAttribute(Ot[f],u)}),typeof a.html=="function"){var o=a.html.call(this,a);if(o instanceof Element||o instanceof HTMLDocument){for(var l=i.childNodes,s=l.length-1;s>=0;s--)i.removeChild(l[s]);i.appendChild(o)}else i.innerHTML=o}else i.innerHTML=a.html},r}(Cr),Wq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){l==="x"||l==="y"?i.setAttribute("c"+l,o):Ot[l]&&i.setAttribute(Ot[l],o)})},r}(Cr),Gq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");B(n||i,function(l,s){s==="img"?a._setImage(i.img):Ot[s]&&o.setAttribute(Ot[s],l)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),a=this.get("el");if(dt(t))a.setAttribute("href",t);else if(t instanceof window.Image)n.width||(a.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",t.height),this.attr("height",t.height)),a.setAttribute("href",t.src);else if(t instanceof HTMLElement&&dt(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")a.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),n.width||(a.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(a.setAttribute("height",""+t.height),this.attr("height",t.height)),a.setAttribute("href",i.toDataURL())}},r}(Cr),Yq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){if(l==="startArrow"||l==="endArrow")if(o){var s=Bt(o)?t.addArrow(a,Ot[l]):t.getDefaultArrow(a,Ot[l]);i.setAttribute(Ot[l],"url(#"+s+")")}else i.removeAttribute(Ot[l]);else Ot[l]&&i.setAttribute(Ot[l],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,a=t.y1,i=t.x2,o=t.y2;return Te.length(n,a,i,o)},r.prototype.getPoint=function(t){var n=this.attr(),a=n.x1,i=n.y1,o=n.x2,l=n.y2;return Te.pointAt(a,i,o,l,t)},r}(Cr),Fs={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}};const Bx={get:function(e){return Fs[e]},register:function(e,r){Fs[e]=r},remove:function(e){delete Fs[e]},getAll:function(){return Fs}};var qq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return J(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),n=t.x,a=t.y,i=t.r||t.radius,o=t.symbol||"circle",l;return lt(o)?l=o:l=Bx.get(o),l?l(n,a,i):(console.warn(l+" symbol is not exist."),null)},r.symbolsFactory=Bx,r}(Cr),Xq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");B(n||i,function(l,s){if(s==="path"&&J(l))o.setAttribute("d",a._formatPath(l));else if(s==="startArrow"||s==="endArrow")if(l){var u=Bt(l)?t.addArrow(i,Ot[s]):t.getDefaultArrow(i,Ot[s]);o.setAttribute(Ot[s],"url(#"+u+")")}else o.removeAttribute(Ot[s]);else Ot[s]&&o.setAttribute(Ot[s],l)})},r.prototype._formatPath=function(t){var n=t.map(function(a){return a.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),a=this.getTotalLength();if(a===0)return null;var i=n?n.getPointAtLength(t*a):null;return i?{x:i.x,y:i.y}:null},r}(Cr),Uq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){l==="points"&&J(o)&&o.length>=2?i.setAttribute("points",o.map(function(s){return s[0]+","+s[1]}).join(" ")):Ot[l]&&i.setAttribute(Ot[l],o)})},r}(Cr),Kq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,a){e.prototype.onAttrChange.call(this,t,n,a),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var a=this.attr(),i=this.get("el");B(n||a,function(o,l){l==="points"&&J(o)&&o.length>=2?i.setAttribute("points",o.map(function(s){return s[0]+","+s[1]}).join(" ")):Ot[l]&&i.setAttribute(Ot[l],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return Q(n)?(this.set("totalLength",AS.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,a=this.get("tCache");a||(this._setTcache(),a=this.get("tCache"));var i,o;return B(a,function(l,s){t>=l[0]&&t<=l[1]&&(i=(t-l[0])/(l[1]-l[0]),o=s)}),Te.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],i)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var a=0,i=[],o,l;B(t,function(s,u){t[u+1]&&(o=[],o[0]=a/n,l=Te.length(s[0],s[1],t[u+1][0],t[u+1][1]),a+=l,o[1]=a/n,i.push(o))}),this.set("tCache",i)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,a=[];return a.push([t[n-1][0],t[n-1][1]]),a.push([t[n][0],t[n][1]]),a},r}(Cr);function Zq(e){var r=0,t=0,n=0,a=0;return J(e)?e.length===1?r=t=n=a=e[0]:e.length===2?(r=n=e[0],t=a=e[1]):e.length===3?(r=e[0],t=a=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],a=e[3]):r=t=n=a=e,{r1:r,r2:t,r3:n,r4:a}}var Qq=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el"),l=!1,s=["x","y","width","height","radius"];B(n||i,function(u,f){s.indexOf(f)!==-1&&!l?(o.setAttribute("d",a._assembleRect(i)),l=!0):s.indexOf(f)===-1&&Ot[f]&&o.setAttribute(Ot[f],u)})},r.prototype._assembleRect=function(t){var n=t.x,a=t.y,i=t.width,o=t.height,l=t.radius;if(!l)return"M "+n+","+a+" l "+i+",0 l 0,"+o+" l"+-i+" 0 z";var s=Zq(l);J(l)?l.length===1?s.r1=s.r2=s.r3=s.r4=l[0]:l.length===2?(s.r1=s.r3=l[0],s.r2=s.r4=l[1]):l.length===3?(s.r1=l[0],s.r2=s.r4=l[1],s.r3=l[2]):(s.r1=l[0],s.r2=l[1],s.r3=l[2],s.r4=l[3]):s.r1=s.r2=s.r3=s.r4=l;var u=[["M "+(n+s.r1)+","+a],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(o-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-o)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]];return u.join(" ")},r}(Cr),_x=.3,Jq={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},t9={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},e9={left:"left",start:"left",center:"middle",right:"end",end:"end"},r9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return T(T({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var a=this,i=this.attr(),o=this.get("el");this._setFont(),B(n||i,function(l,s){s==="text"?a._setText(""+l):s==="matrix"&&l?Gl(a):Ot[s]&&o.setAttribute(Ot[s],l)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),a=n.textBaseline,i=n.textAlign,o=X1();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",t9[a]||"alphabetic"):t.setAttribute("alignment-baseline",Jq[a]||"baseline"),t.setAttribute("text-anchor",e9[i]||"left")},r.prototype._setText=function(t){var n=this.get("el"),a=this.attr(),i=a.x,o=a.textBaseline,l=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var s=t.split(`
`),u=s.length-1,f="";B(s,function(c,h){h===0?l==="alphabetic"?f+='<tspan x="'+i+'" dy="'+-u+'em">'+c+"</tspan>":l==="top"?f+='<tspan x="'+i+'" dy="0.9em">'+c+"</tspan>":l==="middle"?f+='<tspan x="'+i+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":l==="bottom"?f+='<tspan x="'+i+'" dy="-'+(u+_x)+'em">'+c+"</tspan>":l==="hanging"&&(f+='<tspan x="'+i+'" dy="'+(-(u-1)-_x)+'em">'+c+"</tspan>"):f+='<tspan x="'+i+'" dy="1em">'+c+"</tspan>"}),n.innerHTML=f}else n.innerHTML=t},r}(Cr),n9=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a9=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,i9=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function MA(e){var r=e.match(i9);if(!r)return"";var t="";return r.sort(function(n,a){return n=n.split(":"),a=a.split(":"),Number(n[0])-Number(a[0])}),B(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function o9(e,r){var t=n9.exec(e),n=Xd(Ud(parseFloat(t[1])),Math.PI*2),a=t[2],i,o;n>=0&&n<.5*Math.PI?(i={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(i={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(i={x:1,y:1},o={x:0,y:0}):(i={x:0,y:1},o={x:1,y:0});var l=Math.tan(n),s=l*l,u=(o.x-i.x+l*(o.y-i.y))/(s+1)+i.x,f=l*(o.x-i.x+l*(o.y-i.y))/(s+1)+i.y;r.setAttribute("x1",i.x),r.setAttribute("y1",i.y),r.setAttribute("x2",u),r.setAttribute("y2",f),r.innerHTML=MA(a)}function l9(e,r){var t=a9.exec(e),n=parseFloat(t[1]),a=parseFloat(t[2]),i=parseFloat(t[3]),o=t[4];r.setAttribute("cx",n),r.setAttribute("cy",a),r.setAttribute("r",i),r.innerHTML=MA(o)}var s9=function(){function e(r){this.cfg={};var t=null,n=ua("gradient_");return r.toLowerCase()[0]==="l"?(t=wr("linearGradient"),o9(r,t)):(t=wr("radialGradient"),l9(r,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),u9={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},c9={x:"-40%",y:"-40%",width:"200%",height:"200%"},f9=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=wr("filter");return B(c9,function(n,a){t.setAttribute(a,n)}),this.el=t,this.id=ua("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,a=this.cfg;return B(Object.keys(a),function(i){if(a[i]!==t[i])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[u9[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){var n=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=n},e}(),Nx=function(){function e(r,t){this.cfg={};var n=wr("marker"),a=ua("marker_");n.setAttribute("id",a);var i=wr("path");i.setAttribute("stroke",r.stroke||"none"),i.setAttribute("fill",r.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=a;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,i):(this.cfg=o,this._setMarker(r.lineWidth,i)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},e.prototype._setMarker=function(r,t){var n=this.el,a=this.cfg.path,i=this.cfg.d;J(a)&&(a=a.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",a),n.appendChild(t),i&&n.setAttribute("refX",""+i/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}(),h9=function(){function e(r){this.type="clip",this.cfg={};var t=wr("clipPath");this.el=t,this.id=ua("clip_"),t.id=this.id;var n=r.cfg.el;return t.appendChild(n),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}(),p9=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,d9=function(){function e(r){this.cfg={};var t=wr("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=wr("image");t.appendChild(n);var a=ua("pattern_");t.id=a,this.el=t,this.id=a,this.cfg=r;var i=p9.exec(r),o=i[2];n.setAttribute("href",o);var l=new Image;o.match(/^data:/i)||(l.crossOrigin="Anonymous"),l.src=o;function s(){t.setAttribute("width",""+l.width),t.setAttribute("height",""+l.height)}return l.complete?s():(l.onload=s,l.src=l.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),v9=function(){function e(r){var t=wr("defs"),n=ua("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,a=null,i=0;i<n.length;i++)if(n[i].match(r,t)){a=n[i].id;break}return a},e.prototype.findById=function(r){for(var t=this.children,n=null,a=0;a<t.length;a++)if(t[a].id===r){n=t[a];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var a=new Nx(r,t);return this.defaultArrow[n]=a,this.el.appendChild(a.el),this.add(a),a.id},e.prototype.addGradient=function(r){var t=new s9(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new Nx(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new f9(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new d9(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new h9(r);return this.el.appendChild(t.el),this.add(t),t.id},e}(),g9=function(e){q(r,e);function r(t){return e.call(this,T(T({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return Qu},r.prototype.getGroupBase=function(){return jv},r.prototype.getShape=function(t,n,a){var i=a.target||a.srcElement;if(!fd[i.tagName]){for(var o=i.parentNode;o&&!fd[o.tagName];)o=o.parentNode;i=o}return this.find(function(l){return l.get("el")===i})},r.prototype.createDom=function(){var t=wr("svg"),n=new v9(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),a=this.get("el");if(t==="sort"){var i=this.get("children");i&&i.length&&TA(this,function(l,s){return i.indexOf(l)-i.indexOf(s)?1:0})}else if(t==="clear"){if(a){a.innerHTML="";var o=n.el;o.innerHTML="",a.appendChild(o)}}else t==="matrix"?Gl(this):t==="clip"?Al(this,n):t==="changeSize"&&(a.setAttribute("width",""+this.get("width")),a.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();Al(this,t),n.length&&IA(t,n)},r}(dc),y9="0.5.6";const m9=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:dc,AbstractGroup:vc,AbstractShape:gc,Base:cc,Canvas:g9,Event:_l,Group:jv,PathUtil:tv,Shape:Qu,assembleFont:wc,getBBoxMethod:yc,getOffScreenContext:xc,getTextHeight:bc,invert:hc,isAllowCapture:sl,multiplyVec2:fn,registerBBox:Sr,registerEasing:vS,version:y9},Symbol.toStringTag,{value:"Module"}));var zv=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var a=t.connectNulls,i=a===void 0?!1:a,o=t.showSinglePoint,l=o===void 0?!0:o;return n.connectNulls=i,n.showSinglePoint=l,n}return r.prototype.updateElements=function(t,n){var a,i,o,l,s,u;n===void 0&&(n=!1);for(var f=new Map,c=new Map,h=[],p=0,d=0;d<t.length;d++){var v=t[d],g=this.getElementId(v);h.push(g),f.set(g,v),c.set(g,p),p++}this.elements=new Array(p);var y=eA(this.lastElementsMap,h),m=y.added,b=y.updated,x=y.removed;try{for(var w=Ft(m),S=w.next();!S.done;S=w.next()){var g=S.value,v=f.get(g),A=this.getShapeFactory(),I=this.getShapeInfo(v),d=c.get(g),k=new ZC({shapeFactory:A,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:d});k.geometry=this,k.animate=this.animateOption,k.draw(I,n),this.elementsMap[g]=k,this.elements[d]=k}}catch(D){a={error:D}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(a)throw a.error}}try{for(var E=Ft(b),M=E.next();!M.done;M=E.next()){var g=M.value,v=f.get(g),k=this.lastElementsMap[g],d=c.get(g),I=this.getShapeInfo(v),O=k.getModel();(this.isCoordinateChanged||tA(O,I))&&(k.animate=this.animateOption,k.update(I)),this.elementsMap[g]=k,this.elements[d]=k}}catch(D){o={error:D}}finally{try{M&&!M.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}try{for(var F=Ft(x),L=F.next();!L.done;L=F.next()){var g=L.value,k=this.lastElementsMap[g];k.animate=this.animateOption,k.destroy()}}catch(D){s={error:D}}finally{try{L&&!L.done&&(u=F.return)&&u.call(F)}finally{if(s)throw s.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var l=t[i];n.push({x:l.x,y:l.y}),a.push(l[zt])}return{points:n,data:a}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=this.getPointsAndData(t),i=a.points,o=a.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=i,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(fa);function x9(e,r,t,n,a){var i=[];if(e.length){for(var o=[],l=[],s=0,u=e.length;s<u;s++){var f=e[s];o.push(f[1]),l.push(f[0])}l=l.reverse(),B([o,l],function(c,h){var p=[],d=n.parsePoints(c),v=d[0];o.length===1&&l.length===1?p=h===0?[["M",v.x-.5,v.y],["L",v.x+.5,v.y]]:[["L",v.x+.5,v.y],["L",v.x-.5,v.y]]:(r&&d.push({x:v.x,y:v.y}),t?p=Bu(d,!1,a):p=Hl(d,!1),h>0&&(p[0][0]="L")),i=i.concat(p)}),i.push(["Z"])}return i}function Hc(e,r,t,n,a){for(var i=ae(e,r,!r,"lineWidth"),o=e.connectNulls,l=e.isInCircle,s=e.points,u=e.showSinglePoint,f=zc(s,o,u),c=[],h=0,p=f.length;h<p;h++){var d=f[h];c=c.concat(x9(d,l,t,n,a))}return i.path=c,i}function OA(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}ca("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0,n=J(e.y)?e.y:[t,e.y];return n.map(function(a){return{x:r,y:a}})}});Pt("area","area",{draw:function(e,r){var t=Hc(e,!1,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}});var b9=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var a=t.startOnZero,i=a===void 0?!0:a,o=t.sortable,l=o===void 0?!1:o,s=t.showSinglePoint,u=s===void 0?!1:s;return n.startOnZero=i,n.sortable=l,n.showSinglePoint=u,n}return r.prototype.getPointsAndData=function(t){for(var n=[],a=[],i=0,o=t.length;i<o;i++){var l=t[i];n.push(l.points),a.push(l[zt])}return{points:n,data:a}},r.prototype.getYMinValue=function(){if(this.startOnZero)return e.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(zv);ca("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return Lv(e)}});Pt("edge","line",{draw:function(e,r){var t=ae(e,!0,!1,"lineWidth"),n=Hl(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:T(T({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var w9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(fa),S9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.updateElements=function(t,n){for(var a=0;a<t.length;a++){var i=t[a],o=this.prepareRange(i),l=this.prepareSize(),s=$(this.styleOption,["cfg","shadowBlur"]);mt(s)||(s=l/2),this.prepareGreyScaleBlurredCircle(l,s),this.drawWithRange(i,o,l,s)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var n=this.getAttribute("color"),a=n.getFields()[0],i=1/0,o=-1/0;return t.forEach(function(l){var s=l[zt][a];s>o&&(o=s),s<i&&(i=s)}),i===o&&(i=o-1),[i,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return mt(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var a=this.getGrayScaleBlurredCanvas(),i=t+n,o=a.getContext("2d");a.width=a.height=i*2,o.clearRect(0,0,a.width,a.height),o.shadowOffsetX=o.shadowOffsetY=i*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-i,-i,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,n,a,i){var o,l,s=this.coordinate,u=s.start,f=s.end,c=this.coordinate.getWidth(),h=this.coordinate.getHeight(),p=this.getAttribute("color"),d=p.getFields()[0];this.clearShadowCanvasCtx();var v=this.getShadowCanvasCtx();n&&(t=t.filter(function(E){return E[zt][d]<=n[1]&&E[zt][d]>=n[0]}));var g=this.scales[d];try{for(var y=Ft(t),m=y.next();!m.done;m=y.next()){var b=m.value,x=this.getDrawCfg(b),w=x.x,S=x.y,A=g.scale(b[zt][d]);this.drawGrayScaleBlurredCircle(w-u.x,S-f.y,a+i,A,v)}}catch(E){o={error:E}}finally{try{m&&!m.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}var I=v.getImageData(0,0,c,h);this.clearShadowCanvasCtx(),this.colorize(I),v.putImageData(I,0,0);var k=this.getImageShape();k.attr("x",u.x),k.attr("y",f.y),k.attr("width",c),k.attr("height",h),k.attr("img",v.canvas),k.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,a,i,o){var l=this.getGrayScaleBlurredCanvas();o.globalAlpha=i,o.drawImage(l,t-a,n-a)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),a=t.data,i=this.paletteCache,o=3;o<a.length;o+=4){var l=a[o];if(mt(l)){var s=i[l]?i[l]:qn.rgb2arr(n.gradient(l/256));a[o-3]=s[0],a[o-2]=s[1],a[o-1]=s[2],a[o]=l}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),a=t.map(function(i){return i[zt]});return T(T({},n),{mappingData:t,data:a})},r}(fa);function Hv(e){var r,t,n=e.x,a=e.y,i=e.y0,o=e.size,l,s;J(a)?(r=ut(a,2),l=r[0],s=r[1]):(l=i,s=a);var u,f;J(n)?(t=ut(n,2),u=t[0],f=t[1]):(u=n-o/2,f=n+o/2);var c=[{x:u,y:l},{x:u,y:s}];return c.push({x:f,y:s},{x:f,y:l}),c}function Vv(e,r){r===void 0&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var a=1,i=e.length;a<i;a++)t.push(["L",e[a].x,e[a].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function kA(e,r){var t=0,n=0,a=0,i=0;return J(e)?e.length===1?t=n=a=i=e[0]:e.length===2?(t=a=e[0],n=i=e[1]):e.length===3?(t=e[0],n=i=e[1],a=e[2]):(t=e[0],n=e[1],a=e[2],i=e[3]):t=n=a=i=e,t+n>r&&(t=t?r/(1+n/t):0,n=r-t),a+i>r&&(a=a?r/(1+i/a):0,i=r-a),[t||0,n||0,a||0,i||0]}function FA(e,r,t){var n=[];if(t.isRect){var a=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},i=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=$(e,["background","style","radius"]);if(o){var l=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,s=t.isTransposed?t.getWidth():t.getHeight(),u=ut(kA(o,Math.min(l,s)),4),f=u[0],c=u[1],h=u[2],p=u[3],d=t.isTransposed&&t.isReflect("y"),v=d?0:1,g=function(S){return d?-S:S};n.push(["M",a.x,i.y+g(f)]),f!==0&&n.push(["A",f,f,0,0,v,a.x+f,i.y]),n.push(["L",i.x-c,i.y]),c!==0&&n.push(["A",c,c,0,0,v,i.x,i.y+g(c)]),n.push(["L",i.x,a.y-g(h)]),h!==0&&n.push(["A",h,h,0,0,v,i.x-h,a.y]),n.push(["L",a.x+p,a.y]),p!==0&&n.push(["A",p,p,0,0,v,a.x,a.y-g(p)])}else n.push(["M",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]);n.push(["z"])}if(t.isPolar){var y=t.getCenter(),m=xl(e,t),b=m.startAngle,x=m.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=Xn(y.x,y.y,t.getRadius(),b,x);else{var w=function(I){return Math.pow(I,2)},f=Math.sqrt(w(y.x-r[0].x)+w(y.y-r[0].y)),c=Math.sqrt(w(y.x-r[2].x)+w(y.y-r[2].y));n=Xn(y.x,y.y,f,t.startAngle,t.endAngle,c)}}return n}function C9(e,r,t){var n=t.getWidth(),a=t.getHeight(),i=t.type==="rect",o=[],l=(e[2].x-e[1].x)/2,s=t.isTransposed?l*a/n:l*n/a;return r==="round"?(i?(o.push(["M",e[0].x,e[0].y+s]),o.push(["L",e[1].x,e[1].y-s]),o.push(["A",l,l,0,0,1,e[2].x,e[2].y-s]),o.push(["L",e[3].x,e[3].y+s]),o.push(["A",l,l,0,0,1,e[0].x,e[0].y+s])):(o.push(["M",e[0].x,e[0].y]),o.push(["L",e[1].x,e[1].y]),o.push(["A",l,l,0,0,1,e[2].x,e[2].y]),o.push(["L",e[3].x,e[3].y]),o.push(["A",l,l,0,0,1,e[0].x,e[0].y])),o.push(["z"])):o=Vv(e),o}function PA(e,r,t){var n=[];return Q(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function Eo(e,r){return[r,e]}function A9(e,r,t){var n,a,i,o,l,s,u,f=ut(pt([],ut(e),!1),4),c=f[0],h=f[1],p=f[2],d=f[3],v=ut(typeof t=="number"?Array(4).fill(t):t,4),g=v[0],y=v[1],m=v[2],b=v[3];r.isTransposed&&(n=ut(Eo(h,d),2),h=n[0],d=n[1]),r.isReflect("y")&&(a=ut(Eo(c,h),2),c=a[0],h=a[1],i=ut(Eo(p,d),2),p=i[0],d=i[1]),r.isReflect("x")&&(o=ut(Eo(c,d),2),c=o[0],d=o[1],l=ut(Eo(h,p),2),h=l[0],p=l[1]);var x=[],w=function(S){return Math.abs(S)};return s=ut(kA([g,y,m,b],Math.min(w(d.x-c.x),w(h.y-c.y))).map(function(S){return w(S)}),4),g=s[0],y=s[1],m=s[2],b=s[3],r.isTransposed&&(u=ut([b,g,y,m],4),g=u[0],y=u[1],m=u[2],b=u[3]),c.y<h.y?(x.push(["M",d.x,d.y+m]),m!==0&&x.push(["A",m,m,0,0,0,d.x-m,d.y]),x.push(["L",c.x+b,c.y]),b!==0&&x.push(["A",b,b,0,0,0,c.x,c.y+b]),x.push(["L",h.x,h.y-g]),g!==0&&x.push(["A",g,g,0,0,0,h.x+g,h.y]),x.push(["L",p.x-y,p.y]),y!==0&&x.push(["A",y,y,0,0,0,p.x,p.y-y]),x.push(["L",d.x,d.y+m]),x.push(["z"])):d.x<c.x?(x.push(["M",p.x+y,p.y]),y!==0&&x.push(["A",y,y,0,0,0,p.x,p.y+y]),x.push(["L",d.x,d.y-m]),m!==0&&x.push(["A",m,m,0,0,0,d.x+m,d.y]),x.push(["L",c.x-b,c.y]),b!==0&&x.push(["A",b,b,0,0,0,c.x,c.y-b]),x.push(["L",h.x,h.y+g]),g!==0&&x.push(["A",g,g,0,0,0,h.x-g,h.y]),x.push(["L",p.x+y,p.y]),x.push(["z"])):(x.push(["M",h.x,h.y+g]),g!==0&&x.push(["A",g,g,0,0,1,h.x+g,h.y]),x.push(["L",p.x-y,p.y]),y!==0&&x.push(["A",y,y,0,0,1,p.x,p.y+y]),x.push(["L",d.x,d.y-m]),m!==0&&x.push(["A",m,m,0,0,1,d.x-m,d.y]),x.push(["L",c.x+b,c.y]),b!==0&&x.push(["A",b,b,0,0,1,c.x,c.y-b]),x.push(["L",h.x,h.y+g]),x.push(["z"])),x}ca("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return Hv(e)}});Pt("interval","rect",{draw:function(e,r){var t=ae(e,!1,!0),n=r,a=e==null?void 0:e.background;if(a){n=r.addGroup({name:"interval-group"});var i=sA(e),o=FA(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:T(T({},i),{path:o}),capture:!1,zIndex:-1,name:kv})}var l;t.radius&&this.coordinate.isRect?l=A9(this.parsePoints(e.points),this.coordinate,t.radius):l=this.parsePath(C9(e.points,t.lineCap,this.coordinate));var s=n.addShape("path",{attrs:T(T({},t),{path:l}),name:"interval"});return a?n:s},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});function T9(e,r){var t=e.length,n=e;dt(n[0])&&(n=e.map(function(l){return r.translate(l)}));for(var a=n[1]-n[0],i=2;i<t;i++){var o=n[i]-n[i-1];a>o&&(a=o)}return a}function I9(e,r){if(r){var t=ar(e),n=Lr(t,r);return n.length}return e.length}function Wv(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),a=n.values,i=e.beforeMappingData,o=a.length,l=zl(e.coordinate),s=e.intervalPadding,u=e.dodgePadding,f=e.maxColumnWidth||r.maxColumnWidth,c=e.minColumnWidth||r.minColumnWidth,h=e.columnWidthRatio||r.columnWidthRatio,p=e.multiplePieWidthRatio||r.multiplePieWidthRatio,d=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&a.length>1){a.sort();var v=T9(a,n);o=(n.max-n.min)/v,a.length>o&&(o=a.length)}var g=n.range,y=1/o,m=1;if(t.isPolar?t.isTransposed&&o>1?m=p:m=d:(n.isLinear&&(y*=g[1]-g[0]),m=h),!Q(s)&&s>=0){var b=s/l;y=(1-(o-1)*b)/o}else y*=m;if(e.getAdjust("dodge")){var x=e.getAdjust("dodge"),w=x.dodgeBy,S=I9(i,w);if(!Q(u)&&u>=0){var A=u/l;y=(y-A*(S-1))/S}else!Q(s)&&s>=0&&(y*=m),y=y/S;y=y>=0?y:0}if(!Q(f)&&f>=0){var I=f/l;y>I&&(y=I)}if(!Q(c)&&c>=0){var k=c/l;y<k&&(y=k)}return y}var E9=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var a=t.background;return n.background=a,n}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=zl(o);a=a/l}else this.defaultSize||(this.defaultSize=Wv(this)),a=this.defaultSize;return n.size=a,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:_G(t)});else{var n=this.scaleDefs,a=t.field,i=t.min,o=t.max,l=t.type;l!=="time"&&(i>0&&!$(n,[a,"min"])&&t.change({min:0}),o<=0&&!$(n,[a,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(fa),M9=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;n.type="line";var a=t.sortable,i=a===void 0?!1:a;return n.sortable=i,n}return r}(zv),LA=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],O9=["cross","tick","plus","hyphen","line"];function Gv(e,r,t,n,a){var i,o,l=ae(r,a,!a,"r"),s=e.parsePoints(r.points),u=s[0];if(r.isStack)u=s[1];else if(s.length>1){var f=t.addGroup();try{for(var c=Ft(s),h=c.next();!h.done;h=c.next()){var p=h.value;f.addShape({type:"marker",attrs:T(T(T({},l),{symbol:Ka[n]||n}),p)})}}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return f}return t.addShape({type:"marker",attrs:T(T(T({},l),{symbol:Ka[n]||n}),u)})}ca("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return Lv(e)}});B(LA,function(e){Pt("point","hollow-".concat(e),{draw:function(r,t){return Gv(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:Ka[e]||e,style:{r:4.5,stroke:t,fill:null}}}})});var k9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return T(T({},n),{isStack:!!this.getAdjust("stack")})},r}(fa);function F9(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var a=e[t];(a.x!==e[t-1].x||a.y!==e[t-1].y)&&(n.push(["L",a.x,a.y]),a.x===r.x&&a.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return Jt(he(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}ca("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return B(e.x,function(t,n){var a=e.y[n];r.push({x:t,y:a})}),r}});Pt("polygon","polygon",{draw:function(e,r){if(!Ue(e.points)){var t=ae(e,!0,!0),n=this.parsePath(F9(e.points));return r.addShape("path",{attrs:T(T({},t),{path:n}),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});var P9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),a=n.x,i=n.y,o;if(!(J(a)&&J(i))){var l=this.getXScale(),s=this.getYScale(),u=l.values.length,f=s.values.length,c=.5*1/u,h=.5*1/f;l.isCategory&&s.isCategory?(a=[a-c,a-c,a+c,a+c],i=[i-h,i+h,i+h,i-h]):J(a)?(o=a,a=[o[0],o[0],o[1],o[1]],i=[i-h/2,i+h/2,i+h/2,i-h/2]):J(i)&&(o=i,i=[o[0],o[1],o[1],o[0]],a=[a-c/2,a-c/2,a+c/2,a+c/2]),n.x=a,n.y=i}return n},r}(fa);ca("schema",{defaultShapeType:""});var L9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=zl(o);a=a/l}else this.defaultSize||(this.defaultSize=Wv(this)),a=this.defaultSize;return n.size=a,n},r}(fa);function R9(e){if(!J(e))return[];var r=ir(e);return Gt(e,function(t){return t/r})}ca("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=R9(e._size);return B(e.y,function(a,i){var o=n[i]*r,l=i===0,s=i===e.y.length-1;t.push({isMin:l,isMax:s,x:e.x-o,y:a}),t.unshift({isMin:l,isMax:s,x:e.x+o,y:a})}),t}});Pt("violin","violin",{draw:function(e,r){var t=ae(e,!0,!0),n=this.parsePath(oA(e.points));return r.addShape("path",{attrs:T(T({},t),{path:n}),name:"violin"})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:r}}}});var D9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),a,i=this.getAttribute("size");if(i){a=this.getAttributeValues(i,t)[0];var o=this.coordinate,l=zl(o);a=a/l}else this.defaultSize||(this.defaultSize=Wv(this)),a=this.defaultSize;return n.size=a,n._size=$(t[zt],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,e.prototype.initAttributes.call(this)},r}(fa);Pt("area","line",{draw:function(e,r){var t=Hc(e,!0,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});Pt("area","smooth",{draw:function(e,r){var t=this.coordinate,n=Hc(e,!1,!0,this,OA(t)),a=r.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}});Pt("area","smooth-line",{draw:function(e,r){var t=this.coordinate,n=Hc(e,!0,!0,this,OA(t)),a=r.addShape({type:"path",attrs:n,name:"area"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return a===void 0&&(a=5.5),[["M",t-a,n-4],["L",t+a,n-4],["L",t+a,n+4],["L",t-a,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function hd(e,r){return["C",e.x*1/2+r.x*1/2,e.y,e.x*1/2+r.x*1/2,r.y,r.x,r.y]}function pd(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return B(t,function(a){n.push(a.x,a.y)}),n}function B9(e,r,t){var n=pd(r,t),a=[["M",e.x,e.y]];return a.push(n),a}function _9(e,r){var t=pd(e[1],r),n=pd(e[3],r),a=[["M",e[0].x,e[0].y]];return a.push(n),a.push(["L",e[3].x,e[3].y]),a.push(["L",e[2].x,e[2].y]),a.push(t),a.push(["L",e[1].x,e[1].y]),a.push(["L",e[0].x,e[0].y]),a.push(["Z"]),a}Pt("edge","arc",{draw:function(e,r){var t=ae(e,!0,!1,"lineWidth"),n=e.points,a=n.length>2?"weight":"normal",i;if(e.isInCircle){var o={x:0,y:1};return a==="normal"?i=B9(n[0],n[1],o):(t.fill=t.stroke,i=_9(n,o)),i=this.parsePath(i),r.addShape("path",{attrs:T(T({},t),{path:i})})}else{if(a==="normal")return n=this.parsePoints(n),i=bC((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:T(T({},t),{path:i})});var l=hd(n[1],n[3]),s=hd(n[2],n[0]);return i=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],l,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],s,["Z"]],i=this.parsePath(i),t.fill=t.stroke,r.addShape("path",{attrs:T(T({},t),{path:i})})}},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});function N9(e,r){var t=hd(e,r),n=[["M",e.x,e.y]];return n.push(t),n}Pt("edge","smooth",{draw:function(e,r){var t=ae(e,!0,!1,"lineWidth"),n=e.points,a=this.parsePath(N9(n[0],n[1]));return r.addShape("path",{attrs:T(T({},t),{path:a})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var Ps=1/3;function $9(e,r){var t=[];t.push({x:e.x,y:e.y*(1-Ps)+r.y*Ps}),t.push({x:r.x,y:e.y*(1-Ps)+r.y*Ps}),t.push(r);var n=[["M",e.x,e.y]];return B(t,function(a){n.push(["L",a.x,a.y])}),n}Pt("edge","vhv",{draw:function(e,r){var t=ae(e,!0,!1,"lineWidth"),n=e.points,a=this.parsePath($9(n[0],n[1]));return r.addShape("path",{attrs:T(T({},t),{path:a})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});Pt("interval","funnel",{getPoints:function(e){return e.size=e.size*2,Hv(e)},draw:function(e,r){var t=ae(e,!1,!0),n=this.parsePath(PA(e.points,e.nextPoints,!1)),a=r.addShape("path",{attrs:T(T({},t),{path:n}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});Pt("interval","hollow-rect",{draw:function(e,r){var t=ae(e,!0,!1),n=r,a=e==null?void 0:e.background;if(a){n=r.addGroup();var i=sA(e),o=FA(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:T(T({},i),{path:o}),capture:!1,zIndex:-1,name:kv})}var l=this.parsePath(Vv(e.points)),s=n.addShape("path",{attrs:T(T({},t),{path:l}),name:"interval"});return a?n:s},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function j9(e){var r=e.x,t=e.y,n=e.y0;return J(t)?t.map(function(a,i){return{x:J(r)?r[i]:r,y:a}}):[{x:r,y:n},{x:r,y:t}]}Pt("interval","line",{getPoints:function(e){return j9(e)},draw:function(e,r){var t=ae(e,!0,!1,"lineWidth"),n=We(T({},t),["fill"]),a=this.parsePath(Vv(e.points,!1)),i=r.addShape("path",{attrs:T(T({},n),{path:a}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return[["M",t,n-a],["L",t,n+a]]},style:{r:5,stroke:r}}}});Pt("interval","pyramid",{getPoints:function(e){return e.size=e.size*2,Hv(e)},draw:function(e,r){var t=ae(e,!1,!0),n=this.parsePath(PA(e.points,e.nextPoints,!0)),a=r.addShape("path",{attrs:T(T({},t),{path:n}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});function z9(e){var r,t=e.x,n=e.y,a=e.y0,i=e.size,o,l;J(n)?(r=ut(n,2),o=r[0],l=r[1]):(o=a,l=n);var s=t+i/2,u=t-i/2;return[{x:t,y:o},{x:t,y:l},{x:u,y:o},{x:s,y:o},{x:u,y:l},{x:s,y:l}]}function H9(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}Pt("interval","tick",{getPoints:function(e){return z9(e)},draw:function(e,r){var t=ae(e,!0,!1),n=this.parsePath(H9(e.points)),a=r.addShape("path",{attrs:T(T({},t),{path:n}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){return[["M",t-a/2,n-a],["L",t+a/2,n-a],["M",t,n-a],["L",t,n+a],["M",t-a/2,n+a],["L",t+a/2,n+a]]},style:{r:5,stroke:r}}}});var V9=function(e,r,t){var n=e.x,a=e.y,i=r.x,o=r.y,l;switch(t){case"hv":l=[{x:i,y:a}];break;case"vh":l=[{x:n,y:o}];break;case"hvh":var s=(i+n)/2;l=[{x:s,y:a},{x:s,y:o}];break;case"vhv":var u=(a+o)/2;l=[{x:n,y:u},{x:i,y:u}];break}return l};function W9(e,r){var t=[];return B(e,function(n,a){var i=e[a+1];if(t.push(n),i){var o=V9(n,i,r);t=t.concat(o)}}),t}function G9(e){return e.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function Y9(e,r){var t=zc(e.points,e.connectNulls,e.showSinglePoint),n=[];return B(t,function(a){var i=W9(a,r);n=n.concat(G9(i))}),T(T({},ae(e,!0,!1,"lineWidth")),{path:n})}B(["hv","vh","hvh","vhv"],function(e){Pt("line",e,{draw:function(r,t){var n=Y9(r,e),a=t.addShape({type:"path",attrs:n,name:"line"});return a},getMarker:function(r){return uA(r,e)}})});B(O9,function(e){Pt("point",e,{draw:function(r,t){return Gv(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:Ka[e],style:{r:4.5,stroke:t,fill:null}}}})});Pt("point","image",{draw:function(e,r){var t,n,a=ae(e,!1,!1,"r").r,i=this.parsePoints(e.points),o=i[0];if(e.isStack)o=i[1];else if(i.length>1){var l=r.addGroup();try{for(var s=Ft(i),u=s.next();!u.done;u=s.next()){var f=u.value;l.addShape("image",{attrs:{x:f.x-a/2,y:f.y-a,width:a,height:a,img:e.shape[1]}})}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return l}return r.addShape("image",{attrs:{x:o.x-a/2,y:o.y-a,width:a,height:a,img:e.shape[1]}})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});B(LA,function(e){Pt("point",e,{draw:function(r,t){return Gv(this,r,t,e,!1)},getMarker:function(r){var t=r.color;return{symbol:Ka[e]||e,style:{r:4.5,fill:t}}}})});function $x(e){var r=J(e)?e:[e],t=r[0],n=r[r.length-1],a=r.length>1?r[1]:t,i=r.length>3?r[3]:n,o=r.length>2?r[2]:a;return{min:t,max:n,min1:a,max1:i,median:o}}function jx(e,r,t){var n=t/2,a;if(J(r)){var i=$x(r),o=i.min,l=i.max,s=i.median,u=i.min1,f=i.max1,c=e-n,h=e+n;a=[[c,l],[h,l],[e,l],[e,f],[c,u],[c,f],[h,f],[h,u],[e,u],[e,o],[c,o],[h,o],[c,s],[h,s]]}else{r=Q(r)?.5:r;var p=$x(e),o=p.min,l=p.max,s=p.median,u=p.min1,f=p.max1,d=r-n,v=r+n;a=[[o,d],[o,v],[o,r],[u,r],[u,d],[u,v],[f,v],[f,d],[f,r],[l,r],[l,d],[l,v],[s,d],[s,v]]}return a.map(function(g){return{x:g[0],y:g[1]}})}function q9(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}Pt("schema","box",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return jx(r,t,n)},draw:function(e,r){var t=ae(e,!0,!1),n=this.parsePath(q9(e.points)),a=r.addShape("path",{attrs:T(T({},t),{path:n,name:"schema"})});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){var i=[n-6,n-3,n,n+3,n+6],o=jx(t,i,a);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function X9(e){var r=J(e)?e:[e],t=r.sort(function(n,a){return a-n});return MG(t,4,t[t.length-1])}function zx(e,r,t){var n=X9(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function U9(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}Pt("schema","candle",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return zx(r,t,n)},draw:function(e,r){var t=ae(e,!0,!0),n=this.parsePath(U9(e.points)),a=r.addShape("path",{attrs:T(T({},t),{path:n,name:"schema"})});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,a){var i=[n+7.5,n+3,n-3,n-7.5],o=zx(t,i,a);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function K9(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),a=Math.min(t,n);r&&(a=Wt(r,0,Math.min(t,n))),a=a/2;var i=(e[0].x+e[2].x)/2,o=(e[0].y+e[2].y)/2;return{x:i-a,y:o-a,width:a*2,height:a*2}}Pt("polygon","square",{draw:function(e,r){if(!Ue(e.points)){var t=ae(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:T(T({},t),K9(n,e.size)),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});Pt("violin","smooth",{draw:function(e,r){var t=ae(e,!0,!0),n=this.parsePath(lA(e.points));return r.addShape("path",{attrs:T(T({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{stroke:null,r:4,fill:r}}}});Pt("violin","hollow",{draw:function(e,r){var t=ae(e,!0,!1),n=this.parsePath(oA(e.points));return r.addShape("path",{attrs:T(T({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});Pt("violin","hollow-smooth",{draw:function(e,r){var t=ae(e,!0,!1),n=this.parsePath(lA(e.points));return r.addShape("path",{attrs:T(T({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});var Z9=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelValueDir=function(t){var n="y",a=t.points;return a[0][n]<=a[2][n]?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,a,i){var o,l=e.prototype.getLabelOffsetPoint.call(this,t,n,a),s=this.getCoordinate(),u=s.isTransposed,f=u?"x":"y",c=this.getLabelValueDir(t.mappingData);return l=T(T({},l),(o={},o[f]=l[f]*c,o)),s.isReflect("x")&&(l=T(T({},l),{x:l.x*-1})),s.isReflect("y")&&(l=T(T({},l),{y:l.y*-1})),l},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,a=this.getDefaultLabelCfg(),i=n.theme;return ot({},a,i.labels,t.position==="middle"?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,a,i){var o=this.getCoordinate(),l=o.isTransposed,s=n.points,u=o.convert(s[0]),f=o.convert(s[2]),c=this.getLabelValueDir(n),h,p,d,v,g=J(n.shape)?n.shape[0]:n.shape;if(g==="funnel"||g==="pyramid"){var y=$(n,"nextPoints"),m=$(n,"points");if(y){var b=o.convert(m[0]),x=o.convert(m[1]),w=o.convert(y[0]),S=o.convert(y[1]);l?(h=Math.min(w.y,b.y),d=Math.max(w.y,b.y),p=(x.x+S.x)/2,v=(b.x+w.x)/2):(h=Math.min((x.y+S.y)/2,(b.y+w.y)/2),d=Math.max((x.y+S.y)/2,(b.y+w.y)/2),p=S.x,v=b.x)}else h=Math.min(f.y,u.y),d=Math.max(f.y,u.y),p=f.x,v=u.x}else h=Math.min(f.y,u.y),d=Math.max(f.y,u.y),p=f.x,v=u.x;switch(i){case"right":t.x=p,t.y=(h+d)/2,t.textAlign=$(t,"textAlign",c>0?"left":"right");break;case"left":t.x=v,t.y=(h+d)/2,t.textAlign=$(t,"textAlign",c>0?"left":"right");break;case"bottom":l&&(t.x=(p+v)/2),t.y=d,t.textAlign=$(t,"textAlign","center"),t.textBaseline=$(t,"textBaseline",c>0?"bottom":"top");break;case"middle":l&&(t.x=(p+v)/2),t.y=(h+d)/2,t.textAlign=$(t,"textAlign","center"),t.textBaseline=$(t,"textBaseline","middle");break;case"top":l&&(t.x=(p+v)/2),t.y=h,t.textAlign=$(t,"textAlign","center"),t.textBaseline=$(t,"textBaseline",c>0?"bottom":"top");break}},r}(jc),Ls=Math.PI/2,RA=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),a=0;if(mt(t))a=t;else if(dt(t)&&t.indexOf("%")!==-1){var i=n.getRadius();n.innerRadius>0&&(i=i*(1-n.innerRadius)),a=parseFloat(t)*.01*i}return a},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),a=this.geometry.getYScale();return Gt(n,function(i){if(i&&a){var o=a.scale($(i.data,a.field));return T(T({},i),{percent:o})}return i})},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a;if(t.labelEmit)a=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)a="center";else{var i=n.getCenter(),o=t.offset;Math.abs(t.x-i.x)<1?a="center":t.angle>Math.PI||t.angle<=0?a=o>0?"left":"right":a=o>0?"right":"left"}return a},r.prototype.getLabelPoint=function(t,n,a){var i=1,o,l=t.content[a];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&a===0?a=1:a===0&&(i=-1),o=this.getArcPoint(n,a));var s=t.offset*i,u=this.getPointAngle(o),f=t.labelEmit,c=this.getCirclePoint(u,s,o,f);return c.r===0?c.content="":(c.content=l,c.angle=u,c.color=n.color),c.rotate=t.autoRotate?this.getLabelRotate(u,s,f):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!J(t.x)&&!J(t.y)?{x:t.x,y:t.y}:{x:J(t.x)?t.x[n]:t.x,y:J(t.y)?t.y[n]:t.y}},r.prototype.getPointAngle=function(t){return Hi(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,a,i){var o=this.getCoordinate(),l=o.getCenter(),s=Dc(o,a);if(s===0)return T(T({},l),{r:s});var u=t;if(o.isTransposed&&s>n&&!i){var f=Math.asin(n/(2*s));u=t+f*2}else s=s+n;return{x:l.x+s*Math.cos(u),y:l.y+s*Math.sin(u),r:s}},r.prototype.getLabelRotate=function(t,n,a){var i=t+Ls;return a&&(i-=Ls),i&&(i>Ls?i=i-Math.PI:i<-Ls&&(i=i+Math.PI)),i},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),a=t.length,i={x:0,y:0};return B(t,function(o){i.x+=o.x,i.y+=o.y}),i.x/=a,i.y/=a,i=n.convert(i),i},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(jc),Q9=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return r.prototype.getDefaultLabelCfg=function(t,n){var a=e.prototype.getDefaultLabelCfg.call(this,t,n);return ot({},a,$(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,a){var i;return n<0&&(i=t,i>Math.PI/2&&(i=i-Math.PI),i<-Math.PI/2&&(i=i+Math.PI)),i},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),a=n.getCenter(),i;return t.angle<=Math.PI/2&&t.x>=a.x?i="left":i="right",t.offset<=0&&(i==="right"?i="left":i="right"),i},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var n=this.getCoordinate(),a={x:J(t.x)?t.x[0]:t.x,y:t.y[0]},i={x:J(t.x)?t.x[1]:t.x,y:t.y[1]},o,l=Hi(n,a);if(t.points&&t.points[0].y===t.points[1].y)o=l;else{var s=Hi(n,i);l>=s&&(s=s+Math.PI*2),o=l+(s-l)/2}return o},r.prototype.getCirclePoint=function(t,n){var a=this.getCoordinate(),i=a.getCenter(),o=a.getRadius()+n;return T(T({},ie(i.x,i.y,o,t)),{angle:t,r:o})},r}(RA),Hx=4;function J9(e,r,t,n,a,i){var o,l,s=!0,u=n.start,f=n.end,c=Math.min(u.y,f.y),h=Math.abs(u.y-f.y),p,d=0,v=Number.MIN_VALUE,g=r.map(function(A){return A.y>d&&(d=A.y),A.y<v&&(v=A.y),{size:t,targets:[A.y-c]}});for(v-=c,d-c>h&&(h=d-c);s;)for(g.forEach(function(A){var I=(Math.min.apply(v,A.targets)+Math.max.apply(v,A.targets))/2;A.pos=Math.min(Math.max(v,I-A.size/2),h-A.size)}),s=!1,p=g.length;p--;)if(p>0){var y=g[p-1],m=g[p];y.pos+y.size>m.pos&&(y.size+=m.size,y.targets=y.targets.concat(m.targets),y.pos+y.size>h&&(y.pos=h-y.size),g.splice(p,1),s=!0)}p=0,g.forEach(function(A){var I=c+t/2;A.targets.forEach(function(){r[p].y=A.pos+I,I+=t,p++})});var b={};try{for(var x=Ft(e),w=x.next();!w.done;w=x.next()){var S=w.value;b[S.get("id")]=S}}catch(A){o={error:A}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}r.forEach(function(A){var I=A.r*A.r,k=Math.pow(Math.abs(A.y-a.y),2);if(I<k)A.x=a.x;else{var E=Math.sqrt(I-k);i?A.x=a.x+E:A.x=a.x-E}var M=b[A.id];M.attr("x",A.x),M.attr("y",A.y);var O=kr(M.getChildren(),function(F){return F.get("type")==="text"});O&&(O.attr("y",A.y),O.attr("x",A.x))})}function tX(e,r,t,n){if(!(!e.length||!r.length)){var a=e[0]?e[0].offset:0,i=r[0].get("coordinate"),o=i.getRadius(),l=i.getCenter();if(a>0){var s=14,u=o+a,f=u*2+s*2,c={start:i.start,end:i.end},h=[[],[]];e.forEach(function(p){p&&(p.textAlign==="right"?h[0].push(p):h[1].push(p))}),h.forEach(function(p,d){var v=f/s;p.length>v&&(p.sort(function(g,y){return y["..percent"]-g["..percent"]}),p.splice(v,p.length-v)),p.sort(function(g,y){return g.y-y.y}),J9(r,p,s,c,l,d)})}B(e,function(p){if(p&&p.labelLine){var d=p.offset,v=p.angle,g=ie(l.x,l.y,o,v),y=ie(l.x,l.y,o+d/2,v),m=p.x+$(p,"offsetX",0),b=p.y+$(p,"offsetY",0),x={x:m-Math.cos(v)*Hx,y:b-Math.sin(v)*Hx};Bt(p.labelLine)||(p.labelLine={}),p.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(y.x),"".concat(y.y," ").concat(x.x),x.y].join(",")}})}}function DA(e,r,t){var n=e.filter(function(d){return!d.invisible});n.sort(function(d,v){return d.y-v.y});var a=!0,i=t.minY,o=t.maxY,l=Math.abs(i-o),s,u=0,f=Number.MIN_VALUE,c=n.map(function(d){return d.y>u&&(u=d.y),d.y<f&&(f=d.y),{content:d.content,size:r,targets:[d.y-i],pos:null}});for(f-=i,u-i>l&&(l=u-i);a;)for(c.forEach(function(d){var v=(Math.min.apply(f,d.targets)+Math.max.apply(f,d.targets))/2;d.pos=Math.min(Math.max(f,v-d.size/2),l-d.size),d.pos=Math.max(0,d.pos)}),a=!1,s=c.length;s--;)if(s>0){var h=c[s-1],p=c[s];h.pos+h.size>p.pos&&(h.size+=p.size,h.targets=h.targets.concat(p.targets),h.pos+h.size>l&&(h.pos=l-h.size),c.splice(s,1),a=!0)}s=0,c.forEach(function(d){var v=i+r/2;d.targets.forEach(function(){n[s].y=d.pos+v,v+=r,s++})})}var Vx=4;function eX(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var a=e.angle,i=e.offset,o=ie(t.x,t.y,n,a),l=e.x+$(e,"offsetX",0)*(Math.cos(a)>0?1:-1),s=e.y+$(e,"offsetY",0)*(Math.sin(a)>0?1:-1),u={x:l-Math.cos(a)*Vx,y:s-Math.sin(a)*Vx},f=e.labelLine.smooth,c=[],h=u.x-t.x,p=u.y-t.y,d=Math.atan(p/h);if(h<0&&(d+=Math.PI),f===!1){Bt(e.labelLine)||(e.labelLine={});var v=0;(a<0&&a>-Math.PI/2||a>Math.PI*1.5)&&u.y>o.y&&(v=1),a>=0&&a<Math.PI/2&&u.y>o.y&&(v=1),a>=Math.PI/2&&a<Math.PI&&o.y>u.y&&(v=1),(a<-Math.PI/2||a>=Math.PI&&a<Math.PI*1.5)&&o.y>u.y&&(v=1);var g=i/2>4?4:Math.max(i/2-1,0),y=ie(t.x,t.y,n+g,a),m=ie(t.x,t.y,n+i/2,d),b=0;c.push("M ".concat(o.x," ").concat(o.y)),c.push("L ".concat(y.x," ").concat(y.y)),c.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(b," ").concat(v," ").concat(m.x," ").concat(m.y)),c.push("L ".concat(u.x," ").concat(u.y))}else{var y=ie(t.x,t.y,n+(i/2>4?4:Math.max(i/2-1,0)),a),x=o.x<t.x?1:-1;c.push("M ".concat(u.x," ").concat(u.y));var w=(o.y-t.y)/(o.x-t.x),S=(u.y-t.y)/(u.x-t.x);Math.abs(w-S)>Math.pow(Math.E,-16)&&c.push.apply(c,["C",u.x+x*4,u.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),c.push("L ".concat(o.x," ").concat(o.y))}e.labelLine.path=c.join(" ")}}function rX(e,r,t,n){var a,i,o=Ee(e,function(I){return!Q(I)}),l=r[0]&&r[0].get("coordinate");if(l){var s=l.getCenter(),u=l.getRadius(),f={};try{for(var c=Ft(r),h=c.next();!h.done;h=c.next()){var p=h.value;f[p.get("id")]=p}}catch(I){a={error:I}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}var d=$(o[0],"labelHeight",14),v=$(o[0],"offset",0);if(!(v<=0)){var g="left",y="right",m=er(o,function(I){return I.x<s.x?g:y}),b=l.start,x=l.end,w=Math.min((u+v+d)*2,l.getHeight()),S=w/2,A={minX:b.x,maxX:x.x,minY:s.y-S,maxY:s.y+S};B(m,function(I,k){var E=Math.floor(w/d);I.length>E&&(I.sort(function(M,O){return O.percent-M.percent}),B(I,function(M,O){O+1>E&&(f[M.id].set("visible",!1),M.invisible=!0)})),DA(I,d,A)}),B(m,function(I,k){B(I,function(E){var M=k===y,O=f[E.id],F=O.getChildByIndex(0);if(F){var L=u+v,D=E.y-s.y,_=Math.pow(L,2),z=Math.pow(D,2),X=_-z>0?_-z:0,V=Math.sqrt(X),N=Math.abs(Math.cos(E.angle)*L);M?E.x=s.x+Math.max(V,N):E.x=s.x-Math.max(V,N)}F&&(F.attr("y",E.y),F.attr("x",E.x)),eX(E,l)})})}}}var dd=4,nX=4,Wx=4;function aX(e,r,t){var n=r.getCenter(),a=r.getRadius(),i={x:e.x-(t?Wx:-Wx),y:e.y},o=ie(n.x,n.y,a+dd,e.angle),l={x:i.x,y:i.y},s={x:o.x,y:o.y},u=ie(n.x,n.y,a,e.angle),f="";if(i.y!==o.y){var c=t?4:-4;l.y=i.y,e.angle<0&&e.angle>=-Math.PI/2&&(l.x=Math.max(o.x,i.x-c),i.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-c))),e.angle>0&&e.angle<Math.PI/2&&(l.x=Math.max(o.x,i.x-c),i.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-c))),e.angle>Math.PI/2&&(l.x=Math.min(o.x,i.x-c),i.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-c))),e.angle<-Math.PI/2&&(l.x=Math.min(o.x,i.x-c),i.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-c)))}f=["M ".concat(i.x,",").concat(i.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),e.labelLine=ot({},e.labelLine,{path:f})}function iX(e,r,t,n){var a,i,o=r[0]&&r[0].get("coordinate");if(o){var l=o.getCenter(),s=o.getRadius(),u={};try{for(var f=Ft(r),c=f.next();!c.done;c=f.next()){var h=c.value;u[h.get("id")]=h}}catch(I){a={error:I}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(a)throw a.error}}var p=$(e[0],"labelHeight",14),d=Math.max($(e[0],"offset",0),dd);B(e,function(I){if(I){var k=$(u,[I.id]);if(k){var E=I.x>l.x||I.x===l.x&&I.y>l.y,M=Q(I.offsetX)?nX:I.offsetX,O=ie(l.x,l.y,s+dd,I.angle),F=d+M;I.x=l.x+(E?1:-1)*(s+F),I.y=O.y}}});var v=o.start,g=o.end,y="left",m="right",b=er(e,function(I){return I.x<l.x?y:m}),x=(s+d)*2+p;B(b,function(I){var k=I.length*p;k>x&&(x=Math.min(k,Math.abs(v.y-g.y)))});var w={minX:v.x,maxX:g.x,minY:l.y-x/2,maxY:l.y+x/2};B(b,function(I,k){var E=x/p;I.length>E&&(I.sort(function(M,O){return O.percent-M.percent}),B(I,function(M,O){O>E&&(u[M.id].set("visible",!1),M.invisible=!0)})),DA(I,p,w)});var S=w.minY,A=w.maxY;B(b,function(I,k){var E=k===m;B(I,function(M){var O=$(u,M&&[M.id]);if(O){if(M.y<S||M.y>A){O.set("visible",!1);return}var F=O.getChildByIndex(0),L=F.getCanvasBBox(),D={x:E?L.x:L.maxX,y:L.y+L.height/2};Wl(F,M.x-D.x,M.y-D.y),M.labelLine&&aX(M,o,E)}})})}}function oX(e,r,t,n){B(r,function(a){var i=n.minX,o=n.minY,l=n.maxX,s=n.maxY,u=a.getCanvasBBox(),f=u.minX,c=u.minY,h=u.maxX,p=u.maxY,d=u.x,v=u.y,g=u.width,y=u.height,m=d,b=v;(f<i||h<i)&&(m=i),(c<o||p<o)&&(b=o),f>l?m=l-g:h>l&&(m=m-(h-l)),c>s?b=s-y:p>s&&(b=b-(p-s)),(m!==d||b!==v)&&Wl(a,m-d,b-v)})}function lX(e,r,t,n){B(r,function(a,i){var o=a.getCanvasBBox(),l=t[i].getBBox();(o.minX<l.minX||o.minY<l.minY||o.maxX>l.maxX||o.maxY>l.maxY)&&a.remove(!0)})}var sX=100,BA=function(){function e(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,n=t===void 0?1:t,a=r.yGap,i=a===void 0?8:a;this.xGap=n,this.yGap=i}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,a=Math.round(r.minX),i=Math.round(r.maxX),o=Math.round(r.minY),l=Math.round(r.maxY),s=a;s<=i;s+=1){if(!n[s]){n[s]={};continue}if(s===a||s===i){for(var u=o;u<=l;u++)if(n[s][u]){t=!1;break}}else if(n[s][o]||n[s][l]){t=!1;break}}return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),i=Math.round(r.minY),o=Math.round(r.maxY),l=n;l<=a;l+=1)t[l]||(t[l]={});for(var l=n;l<=a;l+=this.xGap){for(var s=i;s<=o;s+=this.yGap)t[l][s]=!0;t[l][o]=!0}if(this.yGap!==1)for(var l=i;l<=o;l+=1)t[n][l]=!0,t[a][l]=!0;if(this.xGap!==1)for(var l=n;l<=a;l+=1)t[l][i]=!0,t[l][o]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function uX(e,r,t){t===void 0&&(t=sX);var n=-1,a=e.attr(),i=a.x,o=a.y,l=e.getCanvasBBox(),s=Math.sqrt(l.width*l.width+l.height*l.height),u,f=-n,c=0,h=0,p=function(y){var m=y*.1;return[m*Math.cos(m),m*Math.sin(m)]};if(r.hasGap(l))return r.fillGap(l),!0;for(var d=!1,v=0,g={};Math.min(Math.abs(c),Math.abs(h))<s&&v<t;)if(u=p(f+=n),c=~~u[0],h=~~u[1],!(!c&&!h||g["".concat(c,"-").concat(h)])&&(e.attr({x:i+c,y:o+h}),c+h<0&&e.attr("textAlign","right"),v++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),d=!0,g["".concat(c,"-").concat(h)]=!0;break}return d}function cX(e,r,t,n){var a=e.getCanvasBBox(),i=a.width,o=a.height,l={x:r,y:t,textAlign:"center"};switch(n){case 0:l.y-=o+1,l.x+=1,l.textAlign="left";break;case 1:l.y-=o+1,l.x-=1,l.textAlign="right";break;case 2:l.y+=o+1,l.x-=1,l.textAlign="right";break;case 3:l.y+=o+1,l.x+=1,l.textAlign="left";break;case 5:l.y-=o*2+2;break;case 6:l.y+=o*2+2;break;case 7:l.x+=i+1,l.textAlign="left";break;case 8:l.x-=i+1,l.textAlign="right";break}return e.attr(l),e.getCanvasBBox()}function fX(e,r,t,n){var a=new BA;B(r,function(i){var o=i.find(function(l){return l.get("type")==="text"});uX(o,a)||i.remove(!0)}),a.destroy()}function hX(e,r,t,n){var a=new BA;B(r,function(i){for(var o=i.find(function(p){return p.get("type")==="text"}),l=o.attr(),s=l.x,u=l.y,f=!1,c=0;c<=8;c++){var h=cX(o,s,u,c);if(a.hasGap(h)){a.fillGap(h),f=!0;break}}f||i.remove(!0)}),a.destroy()}function pX(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}function Gx(e){if(e.length>4)return[];var r=function(a,i){return[i.x-a.x,i.y-a.y]},t=r(e[0],e[1]),n=r(e[1],e[2]);return[t,n]}function Rs(e,r,t){r===void 0&&(r=0),t===void 0&&(t={x:0,y:0});var n=e.x,a=e.y;return{x:(n-t.x)*Math.cos(-r)+(a-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(a-t.y)*Math.cos(-r)+t.y}}function Yx(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[Rs(r[0],t,r[0]),Rs(r[1],t,r[0]),Rs(r[2],t,r[0]),Rs(r[3],t,r[0])]:r}function qx(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(pX([n.x,n.y],r))}),{min:Math.min.apply(Math,pt([],ut(t),!1)),max:Math.max.apply(Math,pt([],ut(t),!1))}}function dX(e,r){return e.max>r.min&&e.min<r.max}function vX(e){return typeof e=="number"&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}function Xx(e){return["x","y","width","height"].every(function(r){return vX(e[r])})}function gX(e,r,t){return t===void 0&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}function yX(e,r,t){if(t===void 0&&(t=0),!Xx(e)||!Xx(r))return!1;if(!e.rotation&&!r.rotation)return gX(e,r,t);for(var n=Yx(e),a=Yx(r),i=Gx(n).concat(Gx(a)),o=0;o<i.length;o++){var l=i[o],s=qx(n,l),u=qx(a,l);if(!dX(s,u))return!1}return!0}var mX=function(){function e(r){var t=this;this.queue=[],this.worker=new Worker(r),this.worker.onmessage=function(n){var a;(a=t.queue.shift())===null||a===void 0||a.resolve(n)},this.worker.onmessageerror=function(n){var a;console.warn("[AntV G2] Web worker is not available"),(a=t.queue.shift())===null||a===void 0||a.reject(n)}}return e.prototype.post=function(r,t){var n=this;return new Promise(function(a,i){n.queue.push({resolve:a,reject:i});try{n.worker.postMessage(r)}catch{console.warn("[AntV G2] Web worker is not available"),lt(t)&&t()}})},e.prototype.destroy=function(){this.worker.terminate()},e}();function xX(e){if(!(typeof window>"u")){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch{r=new window.BlobBuilder,r.append(e.toString()),r=r.getBlob()}return new mX(URL.createObjectURL(r))}}var bX=function(e){function r(){function u(b,x){return(b[0]||0)*(x[0]||0)+(b[1]||0)*(x[1]||0)+(b[2]||0)*(x[2]||0)}function f(b){if(b.length>4)return[];var x=function(A,I){return[I.x-A.x,I.y-A.y]},w=x(b[0],b[1]),S=x(b[1],b[2]);return[w,S]}function c(b,x,w){x===void 0&&(x=0),w===void 0&&(w={x:0,y:0});var S=b.x,A=b.y;return{x:(S-w.x)*Math.cos(-x)+(A-w.y)*Math.sin(-x)+w.x,y:(w.x-S)*Math.sin(-x)+(A-w.y)*Math.cos(-x)+w.y}}function h(b){var x=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}],w=b.rotation;return w?[c(x[0],w,x[0]),c(x[1],w,x[0]),c(x[2],w,x[0]),c(x[3],w,x[0])]:x}function p(b,x){if(b.length>4)return{min:0,max:0};var w=[];return b.forEach(function(S){w.push(u([S.x,S.y],x))}),{min:Math.min.apply(null,w),max:Math.max.apply(null,w)}}function d(b,x){return b.max>x.min&&b.min<x.max}function v(b){return typeof b=="number"&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0}function g(b){return["x","y","width","height"].every(function(x){return v(b[x])})}function y(b,x,w){return w===void 0&&(w=0),!(x.x>b.x+b.width+w||x.x+x.width<b.x-w||x.y>b.y+b.height+w||x.y+x.height<b.y-w)}function m(b,x,w){if(w===void 0&&(w=0),!g(b)||!g(x))return!1;if(!b.rotation&&!x.rotation)return y(b,x,w);for(var S=h(b),A=h(x),I=f(S).concat(f(A)),k=0;k<I.length;k++){var E=I[k],M=p(S,E),O=p(A,E);if(!d(M,O))return!1}return!0}return{intersect:m}}var t=r().intersect;function n(u){for(var f=u.slice(),c=0;c<f.length;c++){var h=f[c];if(h.visible)for(var p=c+1;p<f.length;p++){var d=f[p];h!==d&&d.visible&&t(h,d)&&(d.visible=!1)}}return f}var a={"hide-overlap":n};try{var i=JSON.parse(e.data);if(!i||!i.type||!a[i.type])return;var o=i.type,l=i.items,s=a[o](l);self.postMessage(s)}catch(u){throw u}},wX=`
   self.onmessage = `.concat(bX.toString(),`
`),mh=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var a=t+1;a<r.length;a++){var i=r[a];n!==i&&i.visible&&yX(n,i)&&(i.visible=!1)}}return r},xh=new Map,Ux=xX(wX);function SX(e,r,t,n){return il(this,void 0,void 0,function(){var a,i,o,l,s,u;return ol(this,function(f){switch(f.label){case 0:return a=r.map(function(c,h){return T(T({},rA(c,e[h],$(e[h],"background.padding"))),{visible:!0})}),i=JSON.stringify(a),o=function(c){return xh.set(i,c),B(c,function(h,p){var d=h.visible,v=r[p];d?v==null||v.show():v==null||v.hide()}),c},xh.get(i)?(o(xh.get(i)),[3,7]):[3,1];case 1:if(!Ux)return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),l=JSON.stringify({type:"hide-overlap",items:a}),[4,Ux.post(l,function(){return o(mh(a))})];case 3:return s=f.sent(),o(Array.isArray(s.data)?s.data:[]),[3,5];case 4:return u=f.sent(),console.error(u),o(mh(a)),[3,5];case 5:return[3,7];case 6:o(mh(a)),f.label=7;case 7:return[2]}})})}var Kx={"#5B8FF9":!0},CX=function(e){var r=qn.toRGB(e).toUpperCase();if(Kx[r])return Kx[r];var t=ut(qn.rgb2arr(r),3),n=t[0],a=t[1],i=t[2],o=(n*299+a*587+i*114)/1e3<128;return o};function AX(e,r,t){if(t.length!==0){var n=t[0].get("element"),a=n.geometry.theme,i=a.labels||{},o=i.fillColorLight,l=i.fillColorDark;t.forEach(function(s,u){var f=r[u],c=f.find(function(y){return y.get("type")==="text"}),h=$e.fromObject(s.getBBox()),p=$e.fromObject(c.getCanvasBBox()),d=!h.contains(p),v=s.attr("fill"),g=CX(v);d?c.attr(a.overflowLabels.style):g?o&&c.attr("fill",o):l&&c.attr("fill",l)})}}function TX(e,r,t){var n=e.coordinate,a=ra(r),i=$e.fromObject(a.getCanvasBBox()),o=$e.fromObject(t.getBBox());return n.isTransposed?o.height>=i.height:o.width>=i.width}function IX(e,r,t){var n=!!e.getAdjust("stack");return n||r.every(function(a,i){var o=t[i];return TX(e,a,o)})}function EX(e,r,t){var n=e.coordinate,a=$e.fromObject(t.getBBox()),i=ra(r);n.isTransposed?i.attr({x:a.minX+a.width/2,textAlign:"center"}):i.attr({y:a.minY+a.height/2,textBaseline:"middle"})}function MX(e,r,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=IX(i,r,t);o&&t.forEach(function(l,s){var u=r[s];EX(i,u,l)})}}}function OX(e){var r=500,t=[],n=Math.max(Math.floor(e.length/r),1);return B(e,function(a,i){i%n===0?t.push(a):a.set("visible",!1)}),t}function kX(e,r,t){var n;if(t.length!==0){var a=(n=t[0])===null||n===void 0?void 0:n.get("element"),i=a==null?void 0:a.geometry;if(!(!i||i.type!=="interval")){var o=OX(r),l=ut(i.getXYFields(),1),s=l[0],u=[],f=[],c=er(o,function(g){return g.get("data")[s]}),h=Ya(Gt(o,function(g){return g.get("data")[s]})),p;o.forEach(function(g){g.set("visible",!0)});var d=function(g){g&&(g.length&&f.push(g.pop()),f.push.apply(f,pt([],ut(g),!1)))};for(me(h)>0&&(p=h.shift(),d(c[p])),me(h)>0&&(p=h.pop(),d(c[p])),B(h.reverse(),function(g){d(c[g])});f.length>0;){var v=f.shift();v.get("visible")&&(WY(v,u)?v.set("visible",!1):u.push(v))}}}}function FX(e,r){var t=e.getXYFields()[1],n=[],a=r.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,pt([],ut(a),!1)),n}function _A(e,r,t){return e.some(function(n){return t(n,r)})}function PX(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),a=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*a}function Zx(e,r){return _A(e,r,function(t,n){var a=ra(t),i=ra(n);return PX(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function LX(e,r,t,n,a){var i,o;if(t.length!==0){var l=(i=t[0])===null||i===void 0?void 0:i.get("element"),s=l==null?void 0:l.geometry;if(!(!s||s.type!=="point")){var u=ut(s.getXYFields(),2),f=u[0],c=u[1],h=er(r,function(v){return v.get("data")[f]}),p=[],d=a&&a.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;Gt(io(h).reverse(),function(v){for(var g=FX(s,h[v]);g.length;){var y=g.shift(),m=ra(y);if(_A(p,y,function(w,S){return w.get("data")[f]===S.get("data")[f]&&w.get("data")[c]===S.get("data")[c]})){m.set("visible",!1);continue}var b=Zx(p,y),x=!1;if(b&&(m.attr("y",m.attr("y")+2*d),x=Zx(p,y)),x){m.set("visible",!1);continue}p.push(y)}})}}}function RX(e,r){var t=e.getXYFields()[1],n=[],a=r.sort(function(i,o){return i.get("data")[t]-i.get("data")[t]});return a.length>0&&n.push(a.shift()),a.length>0&&n.push(a.pop()),n.push.apply(n,pt([],ut(a),!1)),n}function NA(e,r,t){return e.some(function(n){return t(n,r)})}function DX(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),a=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*a}function Qx(e,r){return NA(e,r,function(t,n){var a=ra(t),i=ra(n);return DX(a.getCanvasBBox(),i.getCanvasBBox(),2)>0})}function BX(e,r,t,n,a){var i,o;if(t.length!==0){var l=(i=t[0])===null||i===void 0?void 0:i.get("element"),s=l==null?void 0:l.geometry;if(!(!s||["path","line","area"].indexOf(s.type)<0)){var u=ut(s.getXYFields(),2),f=u[0],c=u[1],h=er(r,function(v){return v.get("data")[f]}),p=[],d=a&&a.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;Gt(io(h).reverse(),function(v){for(var g=RX(s,h[v]);g.length;){var y=g.shift(),m=ra(y);if(NA(p,y,function(w,S){return w.get("data")[f]===S.get("data")[f]&&w.get("data")[c]===S.get("data")[c]})){m.set("visible",!1);continue}var b=Qx(p,y),x=!1;if(b&&(m.attr("y",m.attr("y")+2*d),x=Qx(p,y)),x){m.set("visible",!1);continue}p.push(y)}})}}}var bh;function _X(){return bh||(bh=document.createElement("canvas").getContext("2d")),bh}var Ds=lo(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,a=r.fontWeight,i=r.fontStyle,o=r.fontVariant,l=_X();return l.font=[i,o,a,"".concat(t,"px"),n].join(" "),l.measureText(dt(e)?e:"").width},function(e,r){return r===void 0&&(r={}),pt([e],ut(sc(r)),!1).join("")}),NX=function(e,r,t){var n=16,a=Ds("...",t),i;dt(e)?i=e:i=Bl(e);var o=r,l=[],s,u;if(Ds(e,t)<=r)return e;for(;s=i.substr(0,n),u=Ds(s,t),!(u+a>o&&u>o);)if(l.push(s),o-=u,i=i.substr(n),!i)return l.join("");for(;s=i.substr(0,1),u=Ds(s,t),!(u+a>o);)if(l.push(s),o-=u,i=i.substr(1),!i)return l.join("");return"".concat(l.join(""),"...")};function $X(e,r,t,n,a){if(!(r.length<=0)){var i=(a==null?void 0:a.direction)||["top","right","bottom","left"],o=(a==null?void 0:a.action)||"translate",l=(a==null?void 0:a.margin)||0,s=r[0].get("coordinate");if(s){var u=PG(s,l),f=u.minX,c=u.minY,h=u.maxX,p=u.maxY;B(r,function(d){var v=d.getCanvasBBox(),g=v.minX,y=v.minY,m=v.maxX,b=v.maxY,x=v.x,w=v.y,S=v.width,A=v.height,I=x,k=w;if(i.indexOf("left")>=0&&(g<f||m<f)&&(I=f),i.indexOf("top")>=0&&(y<c||b<c)&&(k=c),i.indexOf("right")>=0&&(g>h?I=h-S:m>h&&(I=I-(m-h))),i.indexOf("bottom")>=0&&(y>p?k=p-A:b>p&&(k=k-(b-p))),I!==x||k!==w){var E=I-x;if(o==="translate")Wl(d,E,k-w);else if(o==="ellipsis"){var M=d.findAll(function(O){return O.get("type")==="text"});M.forEach(function(O){var F=Kd(O.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),L=O.getCanvasBBox(),D=NX(O.attr("text"),L.width-Math.abs(E),F);O.attr("text",D)})}else d.hide()}})}}}function jX(e,r,t){var n={fillOpacity:Q(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:Q(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:Q(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}function zX(e,r,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},a=r.easing,i=r.duration,o=r.delay;e.animate(n,i,a,function(){e.remove(!0)},o)}function HX(e,r,t){var n,a=ut(r,2),i=a[0],o=a[1];return e.applyToMatrix([i,o,1]),t==="x"?(e.setMatrix(fe(e.getMatrix(),[["t",-i,-o],["s",.01,1],["t",i,o]])),n=fe(e.getMatrix(),[["t",-i,-o],["s",100,1],["t",i,o]])):t==="y"?(e.setMatrix(fe(e.getMatrix(),[["t",-i,-o],["s",1,.01],["t",i,o]])),n=fe(e.getMatrix(),[["t",-i,-o],["s",1,100],["t",i,o]])):t==="xy"&&(e.setMatrix(fe(e.getMatrix(),[["t",-i,-o],["s",.01,.01],["t",i,o]])),n=fe(e.getMatrix(),[["t",-i,-o],["s",100,100],["t",i,o]])),n}function Yv(e,r,t,n,a){var i=t.start,o=t.end,l=t.getWidth(),s=t.getHeight(),u,f;a==="y"?(u=i.x+l/2,f=n.y<i.y?n.y:i.y):a==="x"?(u=n.x>i.x?n.x:i.x,f=i.y+s/2):a==="xy"&&(t.isPolar?(u=t.getCenter().x,f=t.getCenter().y):(u=(i.x+o.x)/2,f=(i.y+o.y)/2));var c=HX(e,[u,f],a);e.animate({matrix:c},r)}function VX(e,r,t){var n=t.coordinate,a=t.minYPoint;Yv(e,r,n,a,"x")}function WX(e,r,t){var n=t.coordinate,a=t.minYPoint;Yv(e,r,n,a,"y")}function GX(e,r,t){var n=t.coordinate,a=t.minYPoint;Yv(e,r,n,a,"xy")}function YX(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(a){return{lineDashOffset:(1-a)*n}},r)}function qX(e,r,t){var n=t.toAttrs,a=n.x,i=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:a,y:i},r)}function XX(e,r,t){var n=e.getBBox(),a=e.get("origin").mappingData,i=a.points,o=i[0].y-i[1].y>0?n.maxX:n.minX,l=(n.minY+n.maxY)/2;e.applyToMatrix([o,l,1]);var s=fe(e.getMatrix(),[["t",-o,-l],["s",.01,1],["t",o,l]]);e.setMatrix(s),e.animate({matrix:fe(e.getMatrix(),[["t",-o,-l],["s",100,1],["t",o,l]])},r)}function UX(e,r,t){var n=e.getBBox(),a=e.get("origin").mappingData,i=(n.minX+n.maxX)/2,o=a.points,l=o[0].y-o[1].y<=0?n.maxY:n.minY;e.applyToMatrix([i,l,1]);var s=fe(e.getMatrix(),[["t",-i,-l],["s",1,.01],["t",i,l]]);e.setMatrix(s),e.animate({matrix:fe(e.getMatrix(),[["t",-i,-l],["s",1,100],["t",i,l]])},r)}function Jx(e,r){var t,n=Nu(e,r),a=n.startAngle,i=n.endAngle;return!Ae(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),!Ae(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),r[5]===0&&(t=ut([i,a],2),a=t[0],i=t[1]),Ae(a,Math.PI*1.5)&&(a=Math.PI*-.5),Ae(i,Math.PI*-.5)&&!Ae(a,i)&&(i=Math.PI*1.5),{startAngle:a,endAngle:i}}function tb(e){var r;return e[0]==="M"||e[0]==="L"?r=[e[1],e[2]]:(e[0]==="a"||e[0]==="A"||e[0]==="C")&&(r=[e[e.length-2],e[e.length-1]]),r}function eb(e){var r,t,n,a=e.filter(function(b){return b[0]==="A"||b[0]==="a"});if(a.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var i=a[0],o=a.length>1?a[1]:a[0],l=e.indexOf(i),s=e.indexOf(o),u=tb(e[l-1]),f=tb(e[s-1]),c=Jx(u,i),h=c.startAngle,p=c.endAngle,d=Jx(f,o),v=d.startAngle,g=d.endAngle;Ae(h,v)&&Ae(p,g)?(t=h,n=p):(t=Math.min(h,v),n=Math.max(p,g));var y=i[1],m=a[a.length-1][1];return y<m?(r=ut([m,y],2),y=r[0],m=r[1]):y===m&&(m=0),{startAngle:t,endAngle:n,radius:y,innerRadius:m}}function KX(e,r,t){var n=t.toAttrs,a=t.coordinate,i=n.path||[],o=i.map(function(m){return m[0]});if(!(i.length<1)){var l=eb(i),s=l.startAngle,u=l.endAngle,f=l.radius,c=l.innerRadius,h=eb(e.attr("path")),p=h.startAngle,d=h.endAngle,v=a.getCenter(),g=s-p,y=u-d;if(g===0&&y===0){e.attr(n);return}e.animate(function(m){var b=p+m*g,x=d+m*y;return T(T({},n),{path:Jt(o,["M","A","A","Z"])?bC(v.x,v.y,f,b,x):Xn(v.x,v.y,f,b,x,c)})},T(T({},r),{callback:function(){e.attr("path",i),lt(r.callback)&&r.callback()}}))}}function ZX(e,r,t){var n=Cv(t.coordinate,20),a=n.type,i=n.startState,o=n.endState,l=e.setClip({type:a,attrs:i});t.toAttrs&&e.attr(t.toAttrs),l.animate(o,T(T({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),l.remove(!0),lt(r.callback)&&r.callback()}}))}function qv(e,r,t){if(e.isGroup())B(e.getChildren(),function(l){qv(l,r,t)});else{var n=e.getBBox(),a=(n.minX+n.maxX)/2,i=(n.minY+n.maxY)/2;if(e.applyToMatrix([a,i,1]),t==="zoomIn"){var o=fe(e.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]]);e.setMatrix(o),e.animate({matrix:fe(e.getMatrix(),[["t",-a,-i],["s",100,100],["t",a,i]])},r)}else e.animate({matrix:fe(e.getMatrix(),[["t",-a,-i],["s",.01,.01],["t",a,i]])},T(T({},r),{callback:function(){e.remove(!0),lt(r.callback)&&r.callback()}}))}}function QX(e,r,t){qv(e,r,"zoomIn")}function JX(e,r,t){qv(e,r,"zoomOut")}function bn(e){return[at.TOP,at.BOTTOM].includes(e)?{offsetX:0,offsetY:e===at.TOP?-8:8,style:{textAlign:"center",textBaseline:e===at.TOP?"bottom":"top"}}:[at.LEFT,at.RIGHT].includes(e)?{offsetX:e===at.LEFT?-8:8,offsetY:0,style:{textAlign:e===at.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function wh(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var t7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var a=.5,i={x:.5,y:.5},o=Math.PI*2/t,l=-1*Math.PI/2+o*n,s=a/(1+1/Math.sin(o/2)),u=wh(i,a-s,l),f=Math.PI*5/4,c=Math.PI*1/4;return{start:wh(u,s,f),end:wh(u,s,c)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,a=this.cfg,i=a.fields,o=a.type,l=ut(i,1),s=l[0];if(!s)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,s),f=u.length,c=[];return u.forEach(function(h,p){var d=[{field:s,value:h,values:u}],v=Ee(t,n.getFacetDataFilter(d)),g={type:o,data:v,region:n.getRegion(f,p),columnValue:h,columnField:s,columnIndex:p,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(g)}),c},r.prototype.getXAxisOption=function(t,n,a,i){return a},r.prototype.getYAxisOption=function(t,n,a,i){return a},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n){var a=n.columnValue,i=n.view,o=$(t.cfg.title,"formatter"),l=ot({position:["50%","0%"],content:o?o(a):a},bn(at.TOP),t.cfg.title);i.annotation().text(l)})},r}(uo),e7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,a=this.cfg.fields,i=this.cfg.cols,o=ut(a,1),l=o[0];if(!l)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,l),u=s.length;i=i||u;var f=this.getPageCount(u,i),c=[];return s.forEach(function(h,p){var d=n.getRowCol(p,i),v=d.row,g=d.col,y=[{field:l,value:h,values:s}],m=Ee(t,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:m,region:n.getRegion(f,i,g,v),columnValue:h,rowValue:h,columnField:l,rowField:null,columnIndex:g,rowIndex:v,columnValuesLength:i,rowValuesLength:f,total:u};c.push(b)}),c},r.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?T(T({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?T(T({},a),{title:null,label:null}):a},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n){var a=n.columnValue,i=n.view,o=$(t.cfg.title,"formatter"),l=ot({position:["50%","0%"],content:o?o(a):a},bn(at.TOP),t.cfg.title);i.annotation().text(l)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){var a=Math.floor(t/n),i=t%n;return{row:a,col:i}},r}(uo),r7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:T({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:T({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,a=n.fields,i=n.type,o=a.length,l=o,s=[],u=0;u<l;u++)for(var f=a[u],c=0;c<o;c++){var h=a[c],p={type:i,data:t,region:this.getRegion(o,l,u,c),columnValue:f,rowValue:h,columnField:f,rowField:h,columnIndex:u,rowIndex:c,columnValuesLength:l,rowValuesLength:o};s.push(p)}return s},r.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?T(T({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?T(T({},a),{title:null,label:null}):a},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,l=n.columnValuesLength;n.rowValuesLength;var s=n.columnValue,u=n.rowValue,f=n.view;if(o===0){var c=$(t.cfg.columnTitle,"formatter"),h=ot({position:["50%","0%"],content:c?c(s):s},bn(at.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(i===l-1){var c=$(t.cfg.rowTitle,"formatter"),h=ot({position:["100%","50%"],content:c?c(u):u},bn(at.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},r}(uo),n7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var n=this,a=ut(this.cfg.fields,1),i=a[0],o=[],l=1,s=1,u=[""],f=[""],c,h;return this.cfg.transpose?(c=i,u=this.getFieldValues(t,c).slice(0,2),l=u.length):(h=i,f=this.getFieldValues(t,h).slice(0,2),s=f.length),u.forEach(function(p,d){f.forEach(function(v,g){var y=[{field:c,value:p,values:u},{field:h,value:v,values:f}],m=Ee(t,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:m,region:n.getRegion(s,l,d,g),columnValue:p,rowValue:v,columnField:c,rowField:h,columnIndex:d,rowIndex:g,columnValuesLength:l,rowValuesLength:s};o.push(b)})}),o},r.prototype.getXAxisOption=function(t,n,a,i){return i.columnIndex===1||i.rowIndex===1?T(T({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,n,a,i){return a},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n,a){var i=n.columnValue,o=n.rowValue,l=n.view,s=$(t.cfg.title,"formatter");if(t.cfg.transpose){var u=ot({position:["50%","0%"],content:s?s(i):i},bn(at.TOP),t.cfg.title);l.annotation().text(u)}else{var u=ot({position:["100%","50%"],content:s?s(o):o},bn(at.RIGHT),t.cfg.title);l.annotation().text(u)}})},r}(uo),a7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:T({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:T({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,a=ut(this.cfg.fields,2),i=a[0],o=a[1],l=[],s=1,u=1,f=[""],c=[""];return i&&(f=this.getFieldValues(t,i),s=f.length),o&&(c=this.getFieldValues(t,o),u=c.length),f.forEach(function(h,p){c.forEach(function(d,v){var g=[{field:i,value:h,values:f},{field:o,value:d,values:c}],y=Ee(t,n.getFacetDataFilter(g)),m={type:n.cfg.type,data:y,region:n.getRegion(u,s,p,v),columnValue:h,rowValue:d,columnField:i,rowField:o,columnIndex:p,rowIndex:v,columnValuesLength:s,rowValuesLength:u};l.push(m)})}),l},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n,a){var i=n.columnIndex,o=n.rowIndex,l=n.columnValuesLength,s=n.columnValue,u=n.rowValue,f=n.view;if(o===0){var c=$(t.cfg.columnTitle,"formatter"),h=ot({position:["50%","0%"],content:c?c(s):s},bn(at.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(i===l-1){var c=$(t.cfg.rowTitle,"formatter"),h=ot({position:["100%","50%"],content:c?c(u):u},bn(at.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},r.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?T(T({},a),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?T(T({},a),{title:null}):a},r.prototype.getYAxisOption=function(t,n,a,i){return i.columnIndex!==0?T(T({},a),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?T(T({},a),{title:null}):a},r}(uo),i7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(wt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return ot({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var a=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return a.push(i),i.children=this.getChildFacets(t,1,a),this.setRegion(a),a},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(a){a.region=n.getRegion(a.rowValuesLength,a.columnValuesLength,a.columnIndex,a.rowIndex)})},r.prototype.getRegion=function(t,n,a,i){var o=1/n,l=1/t,s={x:o*a,y:l*i},u={x:s.x+o,y:s.y+l*2/3};return{start:s,end:u}},r.prototype.forceColIndex=function(t){var n,a,i=this,o=[],l=0;t.forEach(function(d){i.isLeaf(d)&&(o.push(d),d.columnIndex=l,l++)}),o.forEach(function(d){d.columnValuesLength=o.length});for(var s=this.cfg.fields.length,u=s-1;u>=0;u--){var f=this.getFacetsByLevel(t,u);try{for(var c=(n=void 0,Ft(f)),h=c.next();!h.done;h=c.next()){var p=h.value;this.isLeaf(p)||(p.originColIndex=p.columnIndex,p.columnIndex=this.getRegionIndex(p.children),p.columnValuesLength=o.length)}}catch(d){n={error:d}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var a=[];return t.forEach(function(i){i.rowIndex===n&&a.push(i)}),a},r.prototype.getRegionIndex=function(t){var n=t[0],a=t[t.length-1];return(a.columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,a){var i=this,o=this.cfg.fields,l=o.length;if(!(l<n)){var s=[],u=o[n-1],f=this.getFieldValues(t,u);return f.forEach(function(c,h){var p=[{field:u,value:c,values:f}],d=t.filter(i.getFacetDataFilter(p));if(d.length){var v={type:i.cfg.type,data:d,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:h,rowValuesLength:i.getRows(),columnValuesLength:1,rowIndex:n,children:i.getChildFacets(d,n+1,a)};s.push(v),a.push(v)}}),s}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;B(this.facets,function(n){var a=n.columnValue,i=n.view,o=$(t.cfg.title,"formatter"),l=ot({position:["50%","0%"],content:o?o(a):a},bn(at.TOP),t.cfg.title);i.annotation().text(l)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(a){if(!n.isLeaf(a)){var i=a.children;n.addFacetLines(a,i)}})},r.prototype.addFacetLines=function(t,n){var a=this,i=t.view,o=i.coordinateBBox,l={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(s){var u=s.view.coordinateBBox,f={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:l.x,y:l.y+(f.y-l.y)/2},h={x:f.x,y:c.y};a.drawLine([l,c,h,f])})},r.prototype.getPath=function(t){var n=[],a=this.cfg.line.smooth;return a?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(i,o){o===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t),a=this.cfg.line.style;this.container.addShape("path",{attrs:Nt({path:n},a)})},r.prototype.getXAxisOption=function(t,n,a,i){return i.rowIndex!==i.rowValuesLength-1?T(T({},a),{title:null,label:null}):a},r.prototype.getYAxisOption=function(t,n,a,i){return i.originColIndex!==0&&i.columnIndex!==0?T(T({},a),{title:null,label:null}):a},r}(uo);function rb(e){var r=pt([],ut(e),!1);r.sort(function(n,a){return n-a});var t=r.length;return t===0?0:t%2===1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}function o7(e){var r=Le(e,function(t,n){return t+=isNaN(n)||!mt(n)?0:n},0);return e.length===0?0:r/e.length}function Bs(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=r.isCategory?rb(r.values.map(function(n,a){return a})):rb(r.values);break}case"mean":{t=r.isCategory?(r.values.length-1)/2:o7(r.values);break}case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e;break}return r.scale(t)}var _s=["regionFilter","shape"],l7=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(re.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(re.BG).addGroup(),n.option=[],n}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var a=new Map;B(t.option,function(i){if(Ta(_s,i.type)){var o=t.updateOrCreate(i);o&&a.set(t.getCacheKey(i),o)}}),t.cache=t.syncCache(a)});var n=new Map;B(this.option,function(a){if(!Ta(_s,a.type)){var i=t.updateOrCreate(a);i&&n.set(t.getCacheKey(a),i)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){t===void 0&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(a){a.animateOption&&(a.once(Gn.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(wt.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,a=A6[ei(n)];if(a){var i=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,i);if(!o)return null;var l=new a(o);return{component:l,layer:this.isTop(o)?re.FORE:re.BG,direction:at.NONE,type:ye.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation(T({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation(T({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation(T({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation(T({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation(T({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation(T({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation(T({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation(T({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation(T({type:"shape"},t))},r.prototype.html=function(t){this.annotation(T({type:"html"},t))},r.prototype.parsePosition=function(t){var n,a,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=lt(t)?t.call(null,i,o):t,s=0,u=0;if(J(l)){var f=ut(l,2),c=f[0],h=f[1];if(dt(c)&&c.indexOf("%")!==-1&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(l);s=Bs(c,i),u=Bs(h,Object.values(o)[0])}else if(!Q(l))try{for(var p=Ft(io(l)),d=p.next();!d.done;d=p.next()){var v=d.value,g=l[v];v===i.field&&(s=Bs(g,i)),o[v]&&(u=Bs(g,o[v]))}}catch(y){n={error:y}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}return isNaN(s)||isNaN(u)?null:this.view.getCoordinate().convert({x:s,y:u})},r.prototype.getRegionPoints=function(t,n){var a=this,i=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=Object.values(o)[0],s=i.field,u=this.view.getData(),f=J(t)?t[0]:t[s],c=J(n)?n[0]:n[s],h=[],p;return B(u,function(d,v){if(d[s]===f&&(p=v),v>=p){var g=a.parsePosition([d[s],d[l.field]]);g&&h.push(g)}if(d[s]===c)return!1}),h},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,a=parseFloat(t[1])/100,i=this.view.getCoordinate(),o=i.start,l=i.end,s={x:Math.min(o.x,l.x),y:Math.min(o.y,l.y)},u=i.getWidth()*n+s.x,f=i.getHeight()*a+s.y;return{x:u,y:f}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,a=t.end,i=t.getWidth(),o=t.getHeight(),l={x:Math.min(n.x,a.x),y:Math.min(n.y,a.y)};return{x:l.x,y:l.y,minX:l.x,minY:l.y,maxX:l.x+i,maxY:l.y+o,width:i,height:o}},r.prototype.getAnnotationCfg=function(t,n,a){var i=this,o=this.view.getCoordinate(),l=this.view.getCanvas(),s={};if(Q(n))return null;var u=n.start,f=n.end,c=n.position,h=this.parsePosition(u),p=this.parsePosition(f),d=this.parsePosition(c);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!p))return null;if(["text","dataMarker","html"].includes(t)&&!d)return null;if(t==="arc"){var v=n;v.start,v.end;var g=_t(v,["start","end"]),y=Hi(o,h),m=Hi(o,p);y>m&&(m=Math.PI*2+m),s=T(T({},g),{center:o.getCenter(),radius:Dc(o,h),startAngle:y,endAngle:m})}else if(t==="image"){var b=n;b.start,b.end;var g=_t(b,["start","end"]);s=T(T({},g),{start:h,end:p,src:n.src})}else if(t==="line"){var x=n;x.start,x.end;var g=_t(x,["start","end"]);s=T(T({},g),{start:h,end:p,text:$(n,"text",null)})}else if(t==="region"){var w=n;w.start,w.end;var g=_t(w,["start","end"]);s=T(T({},g),{start:h,end:p})}else if(t==="text"){var S=this.view.getData(),A=n;A.position;var I=A.content,g=_t(A,["position","content"]),k=I;lt(I)&&(k=I(S)),s=T(T(T({},d),g),{content:k})}else if(t==="dataMarker"){var E=n;E.position;var M=E.point,O=E.line,F=E.text,L=E.autoAdjust,D=E.direction,g=_t(E,["position","point","line","text","autoAdjust","direction"]);s=T(T(T({},g),d),{coordinateBBox:this.getCoordinateBBox(),point:M,line:O,text:F,autoAdjust:L,direction:D})}else if(t==="dataRegion"){var _=n,z=_.start,X=_.end,V=_.region,F=_.text,N=_.lineLength,g=_t(_,["start","end","region","text","lineLength"]);s=T(T({},g),{points:this.getRegionPoints(z,X),region:V,text:F,lineLength:N})}else if(t==="regionFilter"){var P=n;P.start,P.end;var j=P.apply,H=P.color,g=_t(P,["start","end","apply","color"]),Y=this.view.geometries,G=[],R=function(Vt){Vt&&(Vt.isGroup()?Vt.getChildren().forEach(function(Ut){return R(Ut)}):G.push(Vt))};B(Y,function(Vt){j?Ta(j,Vt.type)&&B(Vt.elements,function(Ut){R(Ut.shape)}):B(Vt.elements,function(Ut){R(Ut.shape)})}),s=T(T({},g),{color:H,shapes:G,start:h,end:p})}else if(t==="shape"){var W=n,U=W.render,K=_t(W,["render"]),tt=function(Lt){if(lt(n.render))return U(Lt,i.view,{parsePosition:i.parsePosition.bind(i)})};s=T(T({},K),{render:tt})}else if(t==="html"){var rt=n,vt=rt.html;rt.position;var K=_t(rt,["html","position"]),st=function(Vt){return lt(vt)?vt(Vt,i.view):vt};s=T(T(T({},K),d),{parent:l.get("el").parentNode,html:st})}var yt=ot({},a,T(T({},s),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(yt.container=this.getComponentContainer(yt)),yt.animate=this.view.getOptions().animate&&yt.animate&&$(n,"animate",yt.animate),yt.animateOption=ot({},Wi,yt.animateOption,n.animateOption),yt},r.prototype.isTop=function(t){return $(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return $(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var a=t.type,i=this.getAnnotationTheme(a),o=this.getAnnotationCfg(a,t,i);o&&We(o,["container"]),n.component.update(T(T({},o||{}),{visible:!!o})),Ta(_s,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),Ta(_s,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,a=new Map(this.cache);return t.forEach(function(i,o){a.set(o,i)}),a.forEach(function(i,o){kr(n.option,function(l){return o===n.getCacheKey(l)})||(i.component.destroy(),a.delete(o))}),a},r.prototype.getCacheKey=function(t){return t},r}(fo);function nb(e,r){var t=ot({},$(e,["components","axis","common"]),$(e,["components","axis",r]));return $(t,["grid"],{})}function Ns(e,r,t,n){var a=[],i=r.getTicks();return e.isPolar&&i.push({value:1,text:"",tickValue:""}),i.reduce(function(o,l,s){var u=l.value;if(n)a.push({points:[e.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),e.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(s){var f=o.value,c=(f+u)/2;a.push({points:[e.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),e.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return l},i[0]),a}function Sh(e,r,t,n,a){var i=r.values.length,o=[],l=t.getTicks();return l.reduce(function(s,u){var f=s?s.value:u.value,c=u.value,h=(f+c)/2;return a==="x"?o.push({points:[e.convert({x:n?c:h,y:0}),e.convert({x:n?c:h,y:1})]}):o.push({points:Gt(Array(i+1),function(p,d){return e.convert({x:d/i,y:n?c:h})})}),u},l[0]),o}function ab(e,r){var t=$(r,"grid");if(t===null)return!1;var n=$(e,"grid");return!(t===void 0&&n===null)}var kn=["container"],ib=T(T({},Wi),{appear:null}),s7=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(re.BG).addGroup(),n.gridForeContainer=n.view.getLayer(re.FORE).addGroup(),n.axisContainer=n.view.getLayer(re.BG).addGroup(),n.axisForeContainer=n.view.getLayer(re.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();B(this.getComponents(),function(a){var i=a.component,o=a.direction,l=a.type,s=a.extra,u=s.dim,f=s.scale,c=s.alignTick,h;if(l===ye.AXIS)n.isPolar?u==="x"?h=n.isTransposed?Ts(n,o):dh(n):u==="y"&&(h=n.isTransposed?dh(n):Ts(n,o)):h=Ts(n,o);else if(l===ye.GRID)if(n.isPolar){var p=void 0;n.isTransposed?p=u==="x"?Sh(n,t.view.getYScales()[0],f,c,u):Ns(n,f,u,c):p=u==="x"?Ns(n,f,u,c):Sh(n,t.view.getXScale(),f,c,u),h={items:p,center:t.view.getCoordinate().getCenter()}}else h={items:Ns(n,f,u,c)};i.update(h)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(a,i){t.has(i)?n.set(i,a):a.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var a=Du(this.option,n.field);if(a!==!1){var i=vx(a,at.BOTTOM),o=re.BG,l="x",s=this.view.getCoordinate(),u=this.getId("axis",n.field),f=this.getId("grid",n.field);if(s.isRect){var c=this.cache.get(u);if(c){var h=this.getLineAxisCfg(n,a,i);We(h,kn),c.component.update(h),t.set(u,c)}else c=this.createLineAxis(n,a,o,i,l),this.cache.set(u,c),t.set(u,c);var p=this.cache.get(f);if(p){var h=this.getLineGridCfg(n,a,i,l);We(h,kn),p.component.update(h),t.set(f,p)}else p=this.createLineGrid(n,a,o,i,l),p&&(this.cache.set(f,p),t.set(f,p))}else if(s.isPolar){var c=this.cache.get(u);if(c){var h=s.isTransposed?this.getLineAxisCfg(n,a,at.RADIUS):this.getCircleAxisCfg(n,a,i);We(h,kn),c.component.update(h),t.set(u,c)}else{if(s.isTransposed){if(Ea(a))return;c=this.createLineAxis(n,a,o,at.RADIUS,l)}else c=this.createCircleAxis(n,a,o,i,l);this.cache.set(u,c),t.set(u,c)}var p=this.cache.get(f);if(p){var h=s.isTransposed?this.getCircleGridCfg(n,a,at.RADIUS,l):this.getLineGridCfg(n,a,at.CIRCLE,l);We(h,kn),p.component.update(h),t.set(f,p)}else{if(s.isTransposed){if(Ea(a))return;p=this.createCircleGrid(n,a,o,at.RADIUS,l)}else p=this.createLineGrid(n,a,o,at.CIRCLE,l);p&&(this.cache.set(f,p),t.set(f,p))}}}}},r.prototype.updateYAxes=function(t){var n=this,a=this.view.getYScales();B(a,function(i,o){if(!(!i||i.isIdentity)){var l=i.field,s=Du(n.option,l);if(s!==!1){var u=re.BG,f="y",c=n.getId("axis",l),h=n.getId("grid",l),p=n.view.getCoordinate();if(p.isRect){var d=vx(s,o===0?at.LEFT:at.RIGHT),v=n.cache.get(c);if(v){var g=n.getLineAxisCfg(i,s,d);We(g,kn),v.component.update(g),t.set(c,v)}else v=n.createLineAxis(i,s,u,d,f),n.cache.set(c,v),t.set(c,v);var y=n.cache.get(h);if(y){var g=n.getLineGridCfg(i,s,d,f);We(g,kn),y.component.update(g),t.set(h,y)}else y=n.createLineGrid(i,s,u,d,f),y&&(n.cache.set(h,y),t.set(h,y))}else if(p.isPolar){var v=n.cache.get(c);if(v){var g=p.isTransposed?n.getCircleAxisCfg(i,s,at.CIRCLE):n.getLineAxisCfg(i,s,at.RADIUS);We(g,kn),v.component.update(g),t.set(c,v)}else{if(p.isTransposed){if(Ea(s))return;v=n.createCircleAxis(i,s,u,at.CIRCLE,f)}else v=n.createLineAxis(i,s,u,at.RADIUS,f);n.cache.set(c,v),t.set(c,v)}var y=n.cache.get(h);if(y){var g=p.isTransposed?n.getLineGridCfg(i,s,at.CIRCLE,f):n.getCircleGridCfg(i,s,at.RADIUS,f);We(g,kn),y.component.update(g),t.set(h,y)}else{if(p.isTransposed){if(Ea(s))return;y=n.createLineGrid(i,s,u,at.CIRCLE,f)}else y=n.createCircleGrid(i,s,u,at.RADIUS,f);y&&(n.cache.set(h,y),t.set(h,y))}}}}})},r.prototype.createLineAxis=function(t,n,a,i,o){var l={component:new wG(this.getLineAxisCfg(t,n,i)),layer:a,direction:i===at.RADIUS?at.NONE:i,type:ye.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},r.prototype.createLineGrid=function(t,n,a,i,o){var l=this.getLineGridCfg(t,n,i,o);if(l){var s={component:new CG(l),layer:a,direction:at.NONE,type:ye.GRID,extra:{dim:o,scale:t,alignTick:$(l,"alignTick",!0)}};return s.component.init(),s}},r.prototype.createCircleAxis=function(t,n,a,i,o){var l={component:new SG(this.getCircleAxisCfg(t,n,i)),layer:a,direction:i,type:ye.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},r.prototype.createCircleGrid=function(t,n,a,i,o){var l=this.getCircleGridCfg(t,n,i,o);if(l){var s={component:new AG(l),layer:a,direction:at.NONE,type:ye.GRID,extra:{dim:o,scale:t,alignTick:$(l,"alignTick",!0)}};return s.component.init(),s}},r.prototype.getLineAxisCfg=function(t,n,a){var i=$(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=Ts(o,a),s=gx(t,n),u=Is(this.view.getTheme(),a),f=$(n,["title"])?ot({title:{style:{text:s}}},{title:dx(this.view.getTheme(),a,n.title)},n):n,c=ot(T(T({container:i},l),{ticks:t.getTicks().map(function(b){return{id:"".concat(b.tickValue),name:b.text,value:b.value}}),verticalFactor:o.isPolar?px(l,o.getCenter())*-1:px(l,o.getCenter()),theme:u}),u,f),h=this.getAnimateCfg(c),p=h.animate,d=h.animateOption;c.animateOption=d,c.animate=p;var v=AC(l),g=$(c,"verticalLimitLength",v?1/3:1/2);if(g<=1){var y=this.view.getCanvas().get("width"),m=this.view.getCanvas().get("height");c.verticalLimitLength=g*(v?y:m)}return c},r.prototype.getLineGridCfg=function(t,n,a,i){if(ab(Is(this.view.getTheme(),a),n)){var o=nb(this.view.getTheme(),a),l=ot({container:$(n,["top"])?this.gridForeContainer:this.gridContainer},o,$(n,"grid"),this.getAnimateCfg(n));return l.items=Ns(this.view.getCoordinate(),t,i,$(l,"alignTick",!0)),l}},r.prototype.getCircleAxisCfg=function(t,n,a){var i=$(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=t.getTicks().map(function(v){return{id:"".concat(v.tickValue),name:v.text,value:v.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&l.length&&(l[l.length-1].name="");var s=gx(t,n),u=Is(this.view.getTheme(),at.CIRCLE),f=$(n,["title"])?ot({title:{style:{text:s}}},{title:dx(this.view.getTheme(),a,n.title)},n):n,c=ot(T(T({container:i},dh(this.view.getCoordinate())),{ticks:l,verticalFactor:1,theme:u}),u,f),h=this.getAnimateCfg(c),p=h.animate,d=h.animateOption;return c.animate=p,c.animateOption=d,c},r.prototype.getCircleGridCfg=function(t,n,a,i){if(ab(Is(this.view.getTheme(),a),n)){var o=nb(this.view.getTheme(),at.RADIUS),l=ot({container:$(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,$(n,"grid"),this.getAnimateCfg(n)),s=$(l,"alignTick",!0),u=i==="x"?this.view.getYScales()[0]:this.view.getXScale();return l.items=Sh(this.view.getCoordinate(),u,t,s,i),l}},r.prototype.getId=function(t,n){var a=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(a.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&$(t,"animate"),animateOption:t&&t.animateOption?ot({},ib,t.animateOption):ib}},r}(fo);function Wn(e,r,t){return t===at.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===at.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===at.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===at.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===at.TOP_LEFT||t===at.LEFT_TOP?[e.tl.x,e.tl.y]:t===at.TOP_RIGHT||t===at.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===at.BOTTOM_LEFT||t===at.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===at.BOTTOM_RIGHT||t===at.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function ob(e,r){return Ni(e)?e===!1?!1:{}:$(e,[r],e)}function $s(e){return $(e,"position",at.BOTTOM)}var u7=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(re.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,B(this.components,function(n){var a=n.component,i=n.direction,o=vh(i),l=a.get("maxWidthRatio"),s=a.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,l,s),f=a.get("maxWidth"),c=a.get("maxHeight");a.update({maxWidth:Math.min(u.maxWidth,f||0),maxHeight:Math.min(u.maxHeight,c||0)});var h=a.get("padding"),p=a.getLayoutBBox(),d=new $e(p.x,p.y,p.width,p.height).expand(h),v=ut(Wn(t.view.viewBBox,d,i),2),g=v[0],y=v[1],m=ut(Wn(t.layoutBBox,d,i),2),b=m[0],x=m[1],w=0,S=0;i.startsWith("top")||i.startsWith("bottom")?(w=g,S=x):(w=b,S=y),a.setLocation({x:w+h[3],y:S+h[0]}),t.layoutBBox=t.layoutBBox.cut(d,i)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},a=function(h,p,d){var v=t.getId(d.field),g=t.getComponentById(v);if(g){var y=void 0,m=ob(t.option,d.field);m!==!1&&($(m,"custom")?y=t.getCategoryCfg(h,p,d,m,!0):d.isLinear?y=t.getContinuousCfg(h,p,d,m):d.isCategory&&(y=t.getCategoryCfg(h,p,d,m))),y&&(We(y,["container"]),g.direction=$s(m),g.component.update(y),n[v]=!0)}else{var b=t.createFieldLegend(h,p,d);b&&(b.component.init(),t.components.push(b),n[v]=!0)}};if($(this.option,"custom")){var i="global-custom",o=this.getComponentById(i);if(o){var l=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);We(l,["container"]),o.component.update(l),n[i]=!0}else{var s=this.createCustomLegend(void 0,void 0,void 0,this.option);if(s){s.init();var u=re.FORE,f=$s(this.option);this.components.push({id:i,component:s,layer:u,direction:f,type:ye.LEGEND,extra:void 0}),n[i]=!0}}}else this.loopLegends(a);var c=[];B(this.getComponents(),function(h){n[h.id]?c.push(h):h.component.destroy()}),this.components=c},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,a=t.geometries;return B(t.views,function(i){a=a.concat(n.getGeometries(i))}),a},r.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(n){var a=this.getGeometries(this.view),i={};B(a,function(o){var l=o.getGroupAttributes();B(l,function(s){var u=s.getScale(s.type);!u||u.type==="identity"||i[u.field]||(t(o,s,u),i[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,a){var i,o=ob(this.option,a.field),l=re.FORE,s=$s(o);if(o!==!1&&($(o,"custom")?i=this.createCustomLegend(t,n,a,o):a.isLinear?i=this.createContinuousLegend(t,n,a,o):a.isCategory&&(i=this.createCategoryLegend(t,n,a,o))),i)return i.set("field",a.field),{id:this.getId(a.field),component:i,layer:l,direction:s,type:ye.LEGEND,extra:{scale:a}}},r.prototype.createCustomLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i,!0);return new cx(o)},r.prototype.createContinuousLegend=function(t,n,a,i){var o=this.getContinuousCfg(t,n,a,We(i,["value"]));return new TG(o)},r.prototype.createCategoryLegend=function(t,n,a,i){var o=this.getCategoryCfg(t,n,a,i);return new cx(o)},r.prototype.getContinuousCfg=function(t,n,a,i){var o=a.getTicks(),l=kr(o,function(v){return v.value===0}),s=kr(o,function(v){return v.value===1}),u=o.map(function(v){var g=v.value,y=v.tickValue,m=n.mapping(a.invert(g)).join("");return{value:y,attrValue:m,color:m,scaleValue:g}});l||u.push({value:a.min,attrValue:n.mapping(a.invert(0)).join(""),color:n.mapping(a.invert(0)).join(""),scaleValue:0}),s||u.push({value:a.max,attrValue:n.mapping(a.invert(1)).join(""),color:n.mapping(a.invert(1)).join(""),scaleValue:1}),u.sort(function(v,g){return v.value-g.value});var f={min:tr(u).value,max:he(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(f.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(f.colors=u.map(function(v){return v.attrValue}));var c=this.container,h=$s(i),p=vh(h),d=$(i,"title");return d&&(d=ot({text:bl(a)},d)),f.container=c,f.layout=p,f.title=d,f.animateOption=Wi,this.mergeLegendCfg(f,i,"continuous")},r.prototype.getCategoryCfg=function(t,n,a,i,o){var l=this.container,s=$(i,"position",at.BOTTOM),u=Mx(this.view.getTheme(),s),f=$(u,["marker"]),c=$(i,"marker"),h=vh(s),p=$(u,["pageNavigator"]),d=$(i,"pageNavigator"),v=o?UY(f,c,i.items):iA(this.view,t,n,f,c),g=$(i,"title");g&&(g=ot({text:a?bl(a):""},g));var y=$(i,"maxWidthRatio"),m=$(i,"maxHeightRatio"),b=this.getCategoryLegendSizeCfg(h,y,m);b.container=l,b.layout=h,b.items=v,b.title=g,b.animateOption=Wi,b.pageNavigator=ot({},p,d);var x=this.mergeLegendCfg(b,i,s);x.reversed&&x.items.reverse();var w=$(x,"maxItemWidth");return w&&w<=1&&(x.maxItemWidth=this.view.viewBBox.width*w),x},r.prototype.mergeLegendCfg=function(t,n,a){var i=a.split("-")[0],o=Mx(this.view.getTheme(),i);return ot({},o,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return kr(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,a){n===void 0&&(n=Vm),a===void 0&&(a=Vm);var i=this.view.viewBBox,o=i.width,l=i.height;return t==="vertical"?{maxWidth:o*n,maxHeight:l}:{maxWidth:o,maxHeight:l*a}},r}(fo),c7=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=Hn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=ut(a,2),o=i[0],l=i[1];n.start=o,n.end=l,n.changeViewData(o,l)},n.container=n.view.getLayer(re.FORE).addGroup(),n.onChangeFn=Zd(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(wt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(wt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(wt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(wt.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,a=t.end;Q(this.start)&&(this.start=n,this.end=a);var i=this.view.getOptions().data;this.option&&!Ue(i)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,a=this.slider.component.get("padding"),i=ut(a,4),o=i[0];i[1],i[2];var l=i[3],s=this.slider.component.getLayoutBBox(),u=new $e(s.x,s.y,Math.min(s.width,n),s.height).expand(a),f=this.getMinMaxText(this.start,this.end),c=f.minText,h=f.maxText,p=ut(Wn(this.view.viewBBox,u,at.BOTTOM),2);p[0];var d=p[1],v=ut(Wn(this.view.coordinateBBox,u,at.BOTTOM),2),g=v[0];v[1],this.slider.component.update(T(T({},this.getSliderCfg()),{x:g+l,y:d+o,width:this.width,start:this.start,end:this.end,minText:c,maxText:h})),this.view.viewBBox=this.view.viewBBox.cut(u,at.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new mG(T({container:this.container},t));return n.init(),{component:n,layer:re.FORE,direction:at.BOTTOM,type:ye.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),a=n.minText,i=n.maxText;t=T(T({},t),{width:this.width,start:this.start,end:this.end,minText:a,maxText:i})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Bt(this.option)){var n=T({data:this.getData()},$(this.option,"trendCfg",{}));t=ot({},t,this.getThemeOptions(),this.option),t=T(T({},t),{trendCfg:n})}return t.start=Wt(Math.min(Q(t.start)?0:t.start,Q(t.end)?1:t.end),0,1),t.end=Wt(Math.max(Q(t.start)?0:t.start,Q(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,n=ut(this.view.getYScales(),1),a=n[0],i=this.view.getGroupScales();if(i.length){var o=i[0],l=o.field,s=o.ticks;return t.reduce(function(u,f){return f[l]===s[0]&&u.push(f[a.field]),u},[])}return t.map(function(u){return u[a.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return $(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=Lr(a,i.field);i.isLinear&&(o=o.sort());var l=o,s=me(a);if(!i||!s)return{};var u=me(l),f=Math.round(t*(u-1)),c=Math.round(n*(u-1)),h=$(l,[f]),p=$(l,[c]),d=this.getSliderCfg().formatter;return d&&(h=d(h,a[f],f),p=d(p,a[c],c)),{minText:h,maxText:p}},r.prototype.changeViewData=function(t,n){var a=this.view.getOptions().data,i=this.view.getXScale(),o=me(a);if(!(!i||!o)){var l=Lr(a,i.field),s=this.view.getXScale().isLinear?l.sort(function(p,d){return Number(p)-Number(d)}):l,u=s,f=me(u),c=Math.round(t*(f-1)),h=Math.round(n*(f-1));this.view.filter(i.field,function(p,d){var v=u.indexOf(p);return v>-1?Ci(v,c,h):!0}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(fo),js=0,lb=8,f7=32,h7=20,p7=function(e){q(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=Hn,n.resetMeasure=function(){n.clear()},n.onValueChange=function(a){var i=a.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Wt(i,0,1);var l=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(l)},n.container=n.view.getLayer(re.FORE).addGroup(),n.onChangeFn=Zd(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(wt.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(wt.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(wt.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(wt.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,a=this.scrollbar.component.get("padding"),i=this.scrollbar.component.getLayoutBBox(),o=new $e(i.x,i.y,Math.min(i.width,n),i.height).expand(a),l=this.getScrollbarComponentCfg(),s=void 0,u=void 0;if(l.isHorizontal){var f=ut(Wn(this.view.viewBBox,o,at.BOTTOM),2);f[0];var c=f[1],h=ut(Wn(this.view.coordinateBBox,o,at.BOTTOM),2),p=h[0];h[1],s=p,u=c}else{var d=ut(Wn(this.view.viewBBox,o,at.RIGHT),2);d[0];var c=d[1],v=ut(Wn(this.view.viewBBox,o,at.RIGHT),2),p=v[0];v[1],s=p,u=c}s+=a[3],u+=a[0],this.trackLen?this.scrollbar.component.update(T(T({},l),{x:s,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(T(T({},l),{x:s,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,l.isHorizontal?at.BOTTOM:at.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return $(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=$(this.view.getTheme(),["components","scrollbar"]),a=t||{},i=a.thumbHighlightColor,o=_t(a,["thumbHighlightColor"]);return{default:ot({},$(n,["default","style"],{}),o),hover:ot({},$(n,["hover","style"],{}),{thumbColor:i})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var a=this.getScrollbarComponentCfg(),i=a.trackLen,o=a.thumbLen;this.trackLen=i,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Wt(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},r.prototype.changeViewData=function(t,n){var a=this,i=ut(t,2),o=i[0],l=i[1],s=this.getValidScrollbarCfg().type,u=s!=="vertical",f=Lr(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?f.sort(function(p,d){return Number(p)-Number(d)}):f,h=u?c:c.reverse();this.yScalesCfg.forEach(function(p){a.view.scale(p.field,{formatter:p.formatter,type:p.type,min:p.min,max:p.max,tickMethod:p.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(p){var d=h.indexOf(p);return d>-1?Ci(d,o,l):!0}),this.view.render(!0)},r.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",a=new bG(T(T({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return a.init(),{component:a,layer:re.FORE,direction:n?at.BOTTOM:at.RIGHT,type:ye.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?T(T({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):T({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),a=n.type,i=n.categorySize,o=a!=="vertical";return Math.floor((o?t.width:t.height)/i)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),a=Lr(n,t.field);return me(a)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,a=t.viewBBox,i=this.getValidScrollbarCfg(),o=i.type,l=i.padding,s=i.width,u=i.height,f=i.style,c=o!=="vertical",h=ut(l,4),p=h[0],d=h[1],v=h[2],g=h[3],y=c?{x:n.minX+g,y:a.maxY-u-v}:{x:a.maxX-s-d,y:n.minY+p},m=this.getStep(),b=this.getCnt(),x=c?n.width-g-d:n.height-p-v,w=Math.max(x*Wt(m/b,0,1),h7);return T(T({},this.getThemeOptions()),{x:y.x,y:y.y,size:c?u:s,isHorizontal:c,trackLen:x,thumbLen:w,thumbOffset:0,theme:this.getScrollbarTheme(f)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:f7,width:lb,height:lb,padding:[0,0,0,0],animate:!0,style:{}};return Bt(this.option)&&(t=T(T({},t),this.option)),(!Bt(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[js,0,js,0]:[0,js,0,js]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),a=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(a=pt([],ut(a),!1).reverse()),a},r}(fo),d7={fill:"#CCD6EC",opacity:.3};function v7(e,r,t){var n,a,i,o,l,s,u=SY(e,r,t);if(u.length){u=ar(u);try{for(var f=Ft(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var p=(i=void 0,Ft(h)),d=p.next();!d.done;d=p.next()){var v=d.value,g=v.mappingData,y=g.x,m=g.y;v.x=J(y)?y[y.length-1]:y,v.y=J(m)?m[m.length-1]:m}}catch(E){i={error:E}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(E){n={error:E}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}var b=t.shared;if(b===!1&&u.length>1){var x=u[0],w=Math.abs(r.y-x[0].y);try{for(var S=Ft(u),A=S.next();!A.done;A=S.next()){var I=A.value,k=Math.abs(r.y-I[0].y);k<=w&&(x=I,w=k)}}catch(E){l={error:E}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(l)throw l.error}}u=[x]}return Ya(ar(u))}return[]}var g7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(t){var n=this.context.view,a=this.context.event,i=n.getController("tooltip").getTooltipCfg(),o=v7(n,{x:a.x,y:a.y},i);if(!Jt(o,this.items)&&(this.items=o,o.length)){var l=n.getXScale().field,s=o[0].data[l],u=[],f=n.geometries;if(B(f,function(X){if(X.type==="interval"||X.type==="schema"){var V=X.getElementsBy(function(N){var P=N.getData();return P[l]===s});u=u.concat(V)}}),u.length){var c=n.getCoordinate(),h=u[0].shape.getCanvasBBox(),p=u[0].shape.getCanvasBBox(),d=h;B(u,function(X){var V=X.shape.getCanvasBBox();c.isTransposed?(V.minY<h.minY&&(h=V),V.maxY>p.maxY&&(p=V)):(V.minX<h.minX&&(h=V),V.maxX>p.maxX&&(p=V)),d.x=Math.min(V.minX,d.minX),d.y=Math.min(V.minY,d.minY),d.width=Math.max(V.maxX,d.maxX)-d.x,d.height=Math.max(V.maxY,d.maxY)-d.y});var v=n.backgroundGroup,g=n.coordinateBBox,y=void 0;if(c.isRect){var m=n.getXScale(),b=t||{},x=b.appendRatio,w=b.appendWidth;Q(w)&&(x=Q(x)?m.isLinear?0:.25:x,w=c.isTransposed?x*p.height:x*h.width);var S=void 0,A=void 0,I=void 0,k=void 0;c.isTransposed?(S=g.minX,A=Math.min(p.minY,h.minY)-w,I=g.width,k=d.height+w*2):(S=Math.min(h.minX,p.minX)-w,A=g.minY,I=d.width+w*2,k=g.height),y=[["M",S,A],["L",S+I,A],["L",S+I,A+k],["L",S,A+k],["Z"]]}else{var E=tr(u),M=he(u),O=xl(E.getModel(),c).startAngle,F=xl(M.getModel(),c).endAngle,L=c.getCenter(),D=c.getRadius(),_=c.innerRadius*D;y=Xn(L.x,L.y,D,O,F,_)}if(this.regionPath)this.regionPath.attr("path",y),this.regionPath.show();else{var z=$(t,"style",d7);this.regionPath=v.addShape({type:"path",name:"active-region",capture:!1,attrs:T(T({},z),{path:y})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(Ht),$A=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,n=t.event,a=t.view,i=a.isTooltipLocked();if(!i){var o=this.timeStamp,l=+new Date,s=$(t.view.getOptions(),"tooltip.showDelay",16);if(l-o>s){var u=this.location,f={x:n.x,y:n.y};(!u||!Jt(u,f))&&this.showTooltip(a,f),this.timeStamp=l,this.location=f}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),a=this.context.event,i=a.clientX,o=a.clientY;n.isCursorEntered({x:i,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Ht),y7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,n){var a=Zr(t);B(a,function(i){var o=nd(t,i,n);i.showTooltip(o)})},r.prototype.hideTooltip=function(t){var n=Zr(t);B(n,function(a){a.hideTooltip()})},r}($A),m7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date;if(i-a>16){var o=this.location,l={x:n.x,y:n.y};(!o||!Jt(o,l))&&this.showTooltip(l),this.timeStamp=i,this.location=l}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){if(!this.tooltip)this.renderTooltip();else{var o=n.view,l=o.canvas,s={start:{x:0,y:0},end:{x:l.get("width"),y:l.get("height")}};this.tooltip.set("region",s)}var u=i.get("tip");this.tooltip.update(T({title:u},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=n.getTheme(),l=$(o,["components","tooltip","domStyles"],{}),s=new Rc({parent:a.get("el").parentNode,region:i,visible:!1,crosshairs:null,domStyles:T({},ot({},l,(t={},t[mn]={"max-width":"50%"},t[xn]={"word-break":"break-all"},t)))});s.init(),s.setCapture(!1),this.tooltip=s},r}(Ht),Xv=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var n=this,a=_C(t,this.stateName);B(a,function(i){n.setElementState(i,!1)})},r}(Ht);function sb(e){return $(e.get("delegateObject"),"item")}var Uv=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,n){var a=this.ignoreListItemStates,i=a.filter(function(o){return n.hasState(t,o)});return!!i.length},r.prototype.setStateByComponent=function(t,n,a){var i=this.context.view,o=t.get("field"),l=Ie(i);this.setElementsStateByItem(l,o,n,a)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,a){var i=this.context.view,o=Vi(i,n),l=Rr(t,n);return!Q(l)&&a.name===o.getText(l)},r.prototype.setElementsStateByItem=function(t,n,a,i){var o=this;B(t,function(l){o.isMathItem(l,n,a)&&l.setState(o.stateName,i)})},r.prototype.setStateEnable=function(t){var n=ea(this.context);if(n)LC(this.context)&&this.setStateByElement(n,t);else{var a=Ua(this.context);if(wl(a)){var i=a.item,o=a.component;if(i&&o&&!this.isItemIgnore(i,o)){var l=this.context.event.gEvent;if(l&&l.fromShape&&l.toShape&&sb(l.fromShape)===sb(l.toShape))return;this.setStateByComponent(o,i,t)}}}},r.prototype.toggle=function(){var t=ea(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Xv),x7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Uv),b7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,n){var a=n.geometry.getAttribute("color");if(!a)return null;var i=t.getScaleByField(a.getFields()[0]);return i},r.prototype.getLinkPath=function(t,n){var a=this.context.view,i=a.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),l=n.shape.getCanvasBBox(),s=i?[["M",o.minX,o.minY],["L",l.minX,l.maxY],["L",l.maxX,l.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",l.minX,l.minY],["L",l.minX,l.maxY],["L",o.maxX,o.maxY],["Z"]];return s},r.prototype.addLinkShape=function(t,n,a,i){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:T(T({},ot({},o,lt(i)?i(o,n):i)),{path:this.getLinkPath(n,a)})})},r.prototype.linkByElement=function(t,n){var a=this,i=this.context.view,o=this.getColorScale(i,t);if(o){var l=Rr(t,o.field);if(!this.cache[l]){var s=tY(i,o.field,l),u=this.linkGroup,f=u.addGroup();this.cache[l]=f;var c=s.length;B(s,function(h,p){if(p<c-1){var d=s[p+1];a.addLinkShape(f,h,d,n)}})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var a=Rr(t,n.field);this.cache[a]&&(this.cache[a].remove(),this.cache[a]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var a=ea(n);a&&this.linkByElement(a,t==null?void 0:t.style)},r.prototype.unlink=function(){var t=ea(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Ht),Kv=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Sl(this.context))t=Tv(this.context,10);else{var n=this.startPoint,a=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!a)return;var i={minX:Math.min(n.x,a.x),minY:Math.min(n.y,a.y),maxX:Math.max(n.x,a.x),maxY:Math.max(n.y,a.y)},o=this.context.view;t=Nc(o,i)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=Ie(this.context.view),a=this.getIntersectElements();a&&a.length?this.effectByRecord?this.setSiblingsStateByRecord(a,t):this.setElementsState(a,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var a=this,i=this.context.view,o=Zr(i),l=t.map(function(f){return f.getModel().data}),s=i.getXScale().field,u=i.getYScales()[0].field;B(o,function(f){var c=Ie(f),h=c.filter(function(p){var d=p.getModel().data;return jC(l,d,s,u)});a.setElementsState(h,n,c)})},r.prototype.setSiblingsState=function(t){var n=this,a=this.context.view,i=Zr(a);Sl(this.context)&&B(i,function(o){var l=Ie(o),s=DC(n.context,o,10);s&&s.length?n.setElementsState(s,t,l):n.clearViewState(o)})},r.prototype.setElementsState=function(t,n,a){var i=this;B(a,function(o){t.includes(o)?i.setElementState(o,n):i.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var a=Zr(n);B(a,function(i){t.clearViewState(i)})}else this.clearViewState(n)},r}(Xv),w7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Kv),Zv=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var n=ea(this.context);if(n){if(!LC(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=ea(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Xv),S7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Zv),Jo="inactive",tl="active";function Qv(e){var r=Ie(e);B(r,function(t){t.hasState(tl)&&t.setState(tl,!1),t.hasState(Jo)&&t.setState(Jo,!1)})}function jA(e,r,t){B(e,function(n){r(n)?(n.hasState(Jo)&&n.setState(Jo,!1),n.setState(tl,t)):(n.hasState(tl)&&n.setState(tl,!1),n.setState(Jo,t))})}var ka=Su.INACTIVE,un=Su.ACTIVE,Jv=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=un,t}return r.prototype.setElementsStateByItem=function(t,n,a,i){var o=this,l=function(s){return o.isMathItem(s,n,a)};this.setHighlightBy(t,l,i)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(ka)&&t.setState(ka,!1),t.setState(un,!0)):t.hasState(un)||t.setState(ka,!0)},r.prototype.setHighlightBy=function(t,n,a){var i=this;if(a)B(t,function(s){i.setElementHighlight(s,n)});else{var o=_C(this.context.view,un),l=!0;B(o,function(s){if(!n(s))return l=!1,!1}),l?this.clear():B(t,function(s){n(s)&&(s.hasState(un)&&s.setState(un,!1),s.setState(ka,!0))})}},r.prototype.setElementState=function(t,n){var a=this.context.view,i=Ie(a);this.setHighlightBy(i,function(o){return t===o},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Qv(t)},r}(Uv),C7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,n){var a=this.context.view,i=t.geometry.getAttribute("color");if(i){var o=a.getScaleByField(i.getFields()[0]),l=Rr(t,o.field),s=Ie(a),u=s.filter(function(f){return Rr(f,o.field)===l});this.setHighlightBy(s,function(f){return u.includes(f)},n)}},r}(Jv),A7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(ka)&&t.setState(ka,!1),t.setState(un,!0)):(t.setState(ka,!0),t.hasState(un)&&t.setState(un,!1))},r.prototype.setStateByElement=function(t,n){var a=this.context.view,i=a.getXScale(),o=Rr(t,i.field),l=Ie(a),s=l.filter(function(u){return Rr(u,i.field)===o});this.setHighlightBy(l,function(u){return s.includes(u)},n)},r.prototype.toggle=function(){var t=ea(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(Jv),Hr;(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"})(Hr||(Hr={}));var zA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Qv(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,a=t.event,i=this.getIntersectElements(),o={view:n,event:a,highlightElements:i};n.emit(Hr.BEFORE_HIGHLIGHT,qt.fromData(n,Hr.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(Hr.AFTER_HIGHLIGHT,qt.fromData(n,Hr.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(Hr.BEFORE_CLEAR,qt.fromData(t,Hr.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(Hr.AFTER_CLEAR,qt.fromData(t,Hr.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,a){jA(a,function(i){return t.indexOf(i)>=0},n)},r}(Kv),T7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){var a=this.context.view,i=Ie(a);jA(i,function(o){return t===o},n)},r.prototype.clear=function(){var t=this.context.view;Qv(t)},r}(Zv),I7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Kv),E7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Uv),M7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Zv),ni=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Ua(this.context),n=null;return wl(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,n=this.context.view,a=$C(n),i=[];return B(a,function(o){o.isList()&&t.allowSetStateByElement(o)&&i.push(o)}),i},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();B(n,function(a){a.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var a=t.get("name");if(this.cfg.componentNames.indexOf(a)===-1)return!1}var i=this.context.view,o=Vi(i,n);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,n){var a=this.ignoreItemStates;if(a.length){var i=a.filter(function(o){return n.hasState(t,o)});return i.length===0}return!0},r.prototype.setStateByElement=function(t,n,a){var i=t.get("field"),o=this.context.view,l=Vi(o,i),s=Rr(n,i),u=l.getText(s);this.setItemsState(t,u,a)},r.prototype.setStateEnable=function(t){var n=this,a=ea(this.context);if(a){var i=this.getAllowComponents();B(i,function(u){n.setStateByElement(u,a,t)})}else{var o=Ua(this.context);if(wl(o)){var l=o.item,s=o.component;this.allowSetStateByElement(s)&&this.allowSetStateByItem(l,s)&&this.setItemState(s,l,t)}}},r.prototype.setItemsState=function(t,n,a){var i=this,o=t.getItems();B(o,function(l){l.name===n&&i.setItemState(t,l,a)})},r.prototype.setItemState=function(t,n,a){t.setItemState(n,this.stateName,a)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=this.hasState(n,a);this.setItemState(n,a,!i)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Ht),O7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(ni),ub="inactive",cb="active";function k7(e){var r=e.getItems();B(r,function(t){e.hasState(t,cb)&&e.setItemState(t,cb,!1),e.hasState(t,ub)&&e.setItemState(t,ub,!1)})}var Mo="inactive",xa="active",tg=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=xa,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,n,a){this.setHighlightBy(t,function(i){return i.name===n},a)},r.prototype.setItemState=function(t,n,a){t.getItems(),this.setHighlightBy(t,function(i){return i===n},a)},r.prototype.setHighlightBy=function(t,n,a){var i=t.getItems();if(a)B(i,function(s){n(s)?(t.hasState(s,Mo)&&t.setItemState(s,Mo,!1),t.setItemState(s,xa,!0)):t.hasState(s,xa)||t.setItemState(s,Mo,!0)});else{var o=t.getItemsByState(xa),l=!0;B(o,function(s){if(!n(s))return l=!1,!1}),l?this.clear():B(i,function(s){n(s)&&(t.hasState(s,xa)&&t.setItemState(s,xa,!1),t.setItemState(s,Mo,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)k7(t.list);else{var n=this.getAllowComponents();B(n,function(a){a.clearItemsState(xa),a.clearItemsState(Mo)})}},r}(ni),F7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(ni),P7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(ni),pi="unchecked",zs="checked",L7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=zs,t}return r.prototype.setItemState=function(t,n,a){this.setCheckedBy(t,function(i){return i===n},a)},r.prototype.setCheckedBy=function(t,n,a){var i=t.getItems();a&&B(i,function(o){n(o)?(t.hasState(o,pi)&&t.setItemState(o,pi,!1),t.setItemState(o,zs,!0)):t.hasState(o,zs)||t.setItemState(o,pi,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,a=t.item,i=!lc(n.getItems(),function(o){return n.hasState(o,pi)});i||n.hasState(a,pi)?this.setItemState(n,a,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();B(t,function(n){n.clearItemsState(zs),n.clearItemsState(pi)})},r}(ni),di="unchecked",R7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.toggle=function(){var t,n,a,i,o,l,s,u,f=this.getTriggerListInfo();if(f!=null&&f.item){var c=f.list,h=f.item,p=c.getItems(),d=p.filter(function(E){return!c.hasState(E,di)}),v=p.filter(function(E){return c.hasState(E,di)}),g=d[0];if(p.length===d.length)try{for(var y=Ft(p),m=y.next();!m.done;m=y.next()){var b=m.value;c.setItemState(b,di,b.id!==h.id)}}catch(E){t={error:E}}finally{try{m&&!m.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}else if(p.length-v.length===1)if(g.id===h.id)try{for(var x=Ft(p),w=x.next();!w.done;w=x.next()){var b=w.value;c.setItemState(b,di,!1)}}catch(E){a={error:E}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(a)throw a.error}}else try{for(var S=Ft(p),A=S.next();!A.done;A=S.next()){var b=A.value;c.setItemState(b,di,b.id!==h.id)}}catch(E){o={error:E}}finally{try{A&&!A.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}else try{for(var I=Ft(p),k=I.next();!k.done;k=I.next()){var b=k.value;c.setItemState(b,di,b.id!==h.id)}}catch(E){s={error:E}}finally{try{k&&!k.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}}},r}(ni),fb="showRadio",Ch="legend-radio-tip",D7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,fb,!0)}},r.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,a=t.item;n.setItemState(a,fb,!1)}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var t=this.context,n=t.event,a=this.timeStamp,i=+new Date,o=this.context.event.target;if(i-a>16&&o.get("name")==="legend-item-radio"){var l=this.location,s={x:n.x,y:n.y};this.timeStamp=i,this.location=s,(!l||!Jt(l,s))&&this.showTooltip(s)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,a=n.event,i=a.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),l=o.x,s=o.y;this.tooltip.update(T(T({title:i.get("tip")},t),{x:t.x+l,y:t.y+s})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=(t={},t[mn]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[xn]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Ch)&&document.body.removeChild(document.getElementById(Ch));var a=new Rc({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:Ch});a.init(),a.setCapture(!1),this.tooltip=a},r}(ni),eg=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),a=this.context.view,i=this.context.event;a.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),a=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:T({fill:"#C5D4EB",opacity:.3},n)});return a},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.points;B(o,function(l){l.x+=a,l.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=ot({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(Ht);function HA(e){var r=he(e),t=0,n=0,a=0;if(e.length){var i=e[0];t=Iv(i,r)/2,n=(r.x+i.x)/2,a=(r.y+i.y)/2}return{x:n,y:a,r:t}}var B7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){return HA(this.points)},r}(eg);function VA(e){return{start:tr(e),end:he(e)}}function WA(e,r){var t=Math.min(e.x,r.x),n=Math.min(e.y,r.y),a=Math.abs(r.x-e.x),i=Math.abs(r.y-e.y);return{x:t,y:n,width:a,height:i}}var GA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){return VA(this.points)},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,a=t.end;return WA(n,a)},r}(eg);function hb(e){e.x=Wt(e.x,0,1),e.y=Wt(e.y,0,1)}function YA(e,r,t,n){var a=null,i=null,o=n.invert(tr(e)),l=n.invert(he(e));return t&&(hb(o),hb(l)),r==="x"?(a=n.convert({x:o.x,y:0}),i=n.convert({x:l.x,y:1})):(a=n.convert({x:0,y:o.y}),i=n.convert({x:1,y:l.y})),{start:a,end:i}}var qA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return YA(this.points,this.dim,this.inPlot,t)},r}(GA);function rg(e){var r=[];return e.length&&(B(e,function(t,n){n===0?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])}),r.push(["L",e[0].x,e[0].y])),r}function XA(e){return{path:rg(e)}}var UA=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){return rg(this.points)},r.prototype.getMaskAttrs=function(){return XA(this.points)},r.prototype.addPoint=function(){this.resize()},r}(eg);function ng(e){return rY(e,!0)}function KA(e){return{path:ng(e)}}var _7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){return ng(this.points)},r.prototype.getMaskAttrs=function(){return KA(this.points)},r}(UA),ag=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),a=this.context.view,i=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(l){return o.hasOwnProperty(l)?o[l]:void 0}};a.emit(n,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:i.x,y:i.y})},r.prototype.createMask=function(t){var n=this.context.view,a=this.recordPoints[t],i=this.getMaskAttrs(a),o=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:T({fill:"#C5D4EB",opacity:.3},i)});this.maskShapes.push(o)},r.prototype.getMaskPath=function(t){return[]},r.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},r.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},r.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),n=this.preMovePoint,a=t.x-n.x,i=t.y-n.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(l){l.x+=a,l.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},r.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(a,i){var o=ot({},n.getMaskAttrs(a),t);n.maskShapes[i].attr(o)})},r.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},r.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},r.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},r.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},r.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},r.prototype.destroy=function(){this.clear(),e.prototype.destroy.call(this)},r.prototype.getRecordPoints=function(){var t;return pt([],ut((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},r.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=pt(pt([],ut(t),!1),[[n]],!1)},r.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),a=t.splice(-1,1)[0]||[];a.push(n),this.recordPoints=pt(pt([],ut(t),!1),[a],!1)},r.prototype.recordPointClear=function(){this.recordPoints=[]},r.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},r.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var a=n.attrs,i=a.width,o=a.height,l=a.r,s=i===0||o===0||l===0;return!s&&n.isHit(t.x,t.y)})},r}(Ht),ZA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(t){return VA(t)},r.prototype.getMaskAttrs=function(t){var n=this.getRegion(t),a=n.start,i=n.end;return WA(a,i)},r}(ag),QA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return YA(t,this.dim,this.inPlot,n)},r}(ZA),N7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=HA,t}return r}(ag),JA=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.getMaskPath=rg,t.getMaskAttrs=XA,t}return r.prototype.addPoint=function(){this.resize()},r}(ag),$7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.getMaskPath=ng,t.getMaskAttrs=KA,t}return r}(JA),j7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r.prototype.zoomIn=function(){this.setCursor("zoom-in")},r.prototype.zoomOut=function(){this.setCursor("zoom-out")},r}(Ht),z7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,a){var i=this;t.getScaleByField(n)&&t.filter(n,a),t.views&&t.views.length&&B(t.views,function(o){i.filterView(o,n,a)})},r.prototype.filter=function(){var t=Ua(this.context);if(t){var n=this.context.view,a=t.component,i=a.get("field");if(wl(t)){if(i){var o=a.getItemsByState("unchecked"),l=Vi(n,i),s=o.map(function(p){return p.name});s.length?this.filterView(n,i,function(p){var d=l.getText(p);return!s.includes(d)}):this.filterView(n,i,null),n.render(!0)}}else if(RC(t)){var u=a.getValue(),f=ut(u,2),c=f[0],h=f[1];this.filterView(n,i,function(p){return p>=c&&p<=h}),n.render(!0)}}},r}(Ht);function pb(e,r,t,n){var a=Math.min(t[r],n[r]),i=Math.max(t[r],n[r]),o=ut(e.range,2),l=o[0],s=o[1];if(a<l&&(a=l),i>s&&(i=s),a===s&&i===s)return null;var u=e.invert(a),f=e.invert(i);if(e.isCategory){var c=e.values.indexOf(u),h=e.values.indexOf(f),p=e.values.slice(c,h+1);return function(d){return p.includes(d)}}else return function(d){return d>=u&&d<=f}}var He;(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"})(He||(He={}));var Vc=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(Sl(this.context)){var a=this.context.event.target,i=a.getCanvasBBox();t={x:i.x,y:i.y},n={x:i.maxX,y:i.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,l=o.view,s=o.event,u={view:l,event:s,dims:this.dims};l.emit(He.BEFORE_FILTER,qt.fromData(l,He.BEFORE_FILTER,u));var f=l.getCoordinate(),c=f.invert(n),h=f.invert(t);if(this.hasDim("x")){var p=l.getXScale(),d=pb(p,"x",c,h);this.filterView(l,p.field,d)}if(this.hasDim("y")){var v=l.getYScales()[0],d=pb(v,"y",c,h);this.filterView(l,v.field,d)}this.reRender(l,{source:He.FILTER}),l.emit(He.AFTER_FILTER,qt.fromData(l,He.AFTER_FILTER,u))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(He.BEFORE_RESET,qt.fromData(t,He.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var a=t.getYScales()[0];this.filterView(t,a.field,null)}this.reRender(t,{source:He.RESET}),t.emit(He.AFTER_RESET,qt.fromData(t,He.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,a){t.filter(n,a)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(Ht),ig=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,a){var i=Zr(t);B(i,function(o){o.filter(n,a)})},r.prototype.reRender=function(t){var n=Zr(t);B(n,function(a){a.render(!0)})},r}(Vc),H7=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Ua(this.context),n=this.context.view,a=Ie(n);if(Sl(this.context)){var i=Tv(this.context,10);i&&B(a,function(v){i.includes(v)?v.show():v.hide()})}else if(t){var o=t.component,l=o.get("field");if(wl(t)){if(l){var s=o.getItemsByState("unchecked"),u=Vi(n,l),f=s.map(function(v){return v.name});B(a,function(v){var g=Rr(v,l),y=u.getText(g);f.indexOf(y)>=0?v.hide():v.show()})}}else if(RC(t)){var c=o.getValue(),h=ut(c,2),p=h[0],d=h[1];B(a,function(v){var g=Rr(v,l);g>=p&&g<=d?v.show():v.hide()})}}},r.prototype.clear=function(){var t=Ie(this.context.view);B(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(Ht),tT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Sl(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=Tv(this.context,10);if(n){var a=t.getXScale().field,i=t.getYScales()[0].field,o=n.map(function(s){return s.getModel().data}),l=Zr(t);B(l,function(s){var u=Ie(s);B(u,function(f){var c=f.getModel().data;jC(o,c,a,i)?f.show():f.hide()})})}},r.prototype.filterByBBox=function(){var t=this,n=this.context.view,a=Zr(n);B(a,function(i){var o=DC(t.context,i,10),l=Ie(i);o&&B(l,function(s){o.includes(s)?s.show():s.hide()})})},r.prototype.reset=function(){var t=Zr(this.context.view);B(t,function(n){var a=Ie(n);B(a,function(i){i.show()})})},r}(Ht),V7=10,W7=5,G7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return ot(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),a=n.addShape({type:"text",name:"button-text",attrs:T({text:t.text},t.textStyle)}),i=a.getBBox(),o=Mv(t.padding),l=n.addShape({type:"rect",name:"button-rect",attrs:T({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2]},t.style)});l.toBack(),n.on("mouseenter",function(){l.attr(t.activeStyle)}),n.on("mouseleave",function(){l.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),a=n.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),l=fe(null,[["t",a.x-o.width-V7,a.y+o.height+W7]]);i.setMatrix(l)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Ht),Y7=4,q7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,a=this.context.event;this.dragStart?n.emit("drag",{target:a.target,x:a.x,y:a.y}):Iv(t,this.startPoint)>Y7&&(n.emit("dragstart",{target:a.target,x:a.x,y:a.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(Ht),X7=5,U7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),a=Iv(t,n);if(a>X7&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var i=this.context.view,o=fe(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);i.backgroundGroup.setMatrix(o),i.foregroundGroup.setMatrix(o),i.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Ht),db="x",vb="y",eT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=[db,vb],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var a=this.getScale(t);n.scale(a.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(db),this.resetDim(vb);var t=this.context.view;t.render(!0)},r}(Ht),K7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;B(n,function(a){var i=t.getScale(a),o=i.min,l=i.max,s=i.values;t.startCache[a]={min:o,max:l,values:s}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,a=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),o=a.invert(n),l=a.invert(i),s=l.x-o.x,u=l.y-o.y,f=this.context.view,c=this.dims;B(c,function(h){t.translateDim(h,{x:s*-1,y:u*-1})}),f.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.translateLinear(t,a,n)}},r.prototype.translateLinear=function(t,n,a){var i=this.context.view,o=this.startCache[t],l=o.min,s=o.max,u=s-l,f=a[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:l,max:s}),i.scale(n.field,{nice:!1,min:l+f,max:s+f})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(eT),Z7=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this,a=this.dims;B(a,function(i){n.zoomDim(i,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.zoomLinear(t,a,n)}},r.prototype.zoomLinear=function(t,n,a){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],l=o.max-o.min,s=n.min,u=n.max,f=a*l,c=s-f,h=u+f,p=h-c,d=p/l;h>c&&d<100&&d>.01&&i.scale(n.field,{nice:!1,min:s-f,max:u+f})},r}(eT);function Q7(e){var r=e.gEvent.originalEvent;return r.deltaY>0}var J7=1,tU=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.scroll=function(t){var n=this.context,a=n.view,i=n.event;if(a.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||J7,l=a.getController("scrollbar"),s=a.getXScale(),u=a.getOptions().data,f=me(Lr(u,s.field)),c=me(s.values),h=l.getValue(),p=Math.floor((f-c)*h),d=p+(Q7(i)?o:-o),v=o/(f-c)/1e4,g=Wt(d/(f-c)+v,0,1);l.setValue(g)}},r}(Ht),eU="aixs-description-tooltip",rU=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context,n=Ua(t).axis,a=n.cfg.title,i=a.description,o=a.text,l=a.descriptionTooltipStyle,s=t.event,u=s.x,f=s.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(mn,'" style={').concat(l,`}>
            <div class="`).concat(xn,`">
              字段说明：`).concat(i,`
            </div>
          </div>
        `)},x:u,y:f}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,a=n.canvas,i={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=new Rc({parent:a.get("el").parentNode,region:i,visible:!1,containerId:eU,domStyles:T({},ot({},(t={},t[mn]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[xn]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},r}(Ht);vY("dark",HC(rq));$1("canvas",$q);$1("svg",m9);an("Polygon",P9);an("Interval",E9);an("Schema",L9);an("Path",zv);an("Point",k9);an("Line",M9);an("Area",b9);an("Edge",w9);an("Heatmap",S9);an("Violin",D9);Vl("base",jc);Vl("interval",Z9);Vl("pie",Q9);Vl("polar",RA);Ze("overlap",hX);Ze("distribute",tX);Ze("fixed-overlap",fX);Ze("hide-overlap",SX);Ze("limit-in-shape",lX);Ze("limit-in-canvas",oX);Ze("limit-in-plot",$X);Ze("pie-outer",rX);Ze("adjust-color",AX);Ze("interval-adjust-position",MX);Ze("interval-hide-overlap",kX);Ze("point-adjust-position",LX);Ze("pie-spider",iX);Ze("path-adjust-position",BX);ur("fade-in",jX);ur("fade-out",zX);ur("grow-in-x",VX);ur("grow-in-xy",GX);ur("grow-in-y",WX);ur("scale-in-x",XX);ur("scale-in-y",UX);ur("wave-in",ZX);ur("zoom-in",QX);ur("zoom-out",JX);ur("position-update",qX);ur("sector-path-update",KX);ur("path-in",YX);co("rect",a7);co("mirror",n7);co("list",e7);co("matrix",r7);co("circle",t7);co("tree",i7);ri("axis",s7);ri("legend",u7);ri("tooltip",qC);ri("annotation",l7);ri("slider",c7);ri("scrollbar",p7);ft("tooltip",$A);ft("sibling-tooltip",y7);ft("ellipsis-text",m7);ft("element-active",x7);ft("element-single-active",S7);ft("element-range-active",w7);ft("element-highlight",Jv);ft("element-highlight-by-x",A7);ft("element-highlight-by-color",C7);ft("element-single-highlight",T7);ft("element-range-highlight",zA);ft("element-sibling-highlight",zA,{effectSiblings:!0,effectByRecord:!0});ft("element-selected",E7);ft("element-single-selected",M7);ft("element-range-selected",I7);ft("element-link-by-color",b7);ft("active-region",g7);ft("list-active",O7);ft("list-selected",F7);ft("list-highlight",tg);ft("list-unchecked",P7);ft("list-checked",L7);ft("list-focus",R7);ft("list-radio",D7);ft("legend-item-highlight",tg,{componentNames:["legend"]});ft("axis-label-highlight",tg,{componentNames:["axis"]});ft("axis-description",rU);ft("rect-mask",GA);ft("x-rect-mask",qA,{dim:"x"});ft("y-rect-mask",qA,{dim:"y"});ft("circle-mask",B7);ft("path-mask",UA);ft("smooth-path-mask",_7);ft("rect-multi-mask",ZA);ft("x-rect-multi-mask",QA,{dim:"x"});ft("y-rect-multi-mask",QA,{dim:"y"});ft("circle-multi-mask",N7);ft("path-multi-mask",JA);ft("smooth-path-multi-mask",$7);ft("cursor",j7);ft("data-filter",z7);ft("brush",Vc);ft("brush-x",Vc,{dims:["x"]});ft("brush-y",Vc,{dims:["y"]});ft("sibling-filter",ig);ft("sibling-x-filter",ig,{dims:"x"});ft("sibling-y-filter",ig,{dims:"y"});ft("element-filter",H7);ft("element-sibling-filter",tT);ft("element-sibling-filter-record",tT,{byRecord:!0});ft("view-drag",q7);ft("view-move",U7);ft("scale-translate",K7);ft("scale-zoom",Z7);ft("reset-button",G7,{name:"reset-button",text:"reset"});ft("mousewheel-scroll",tU);function vn(e){return e.isInPlot()}xt("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});xt("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});xt("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});xt("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});xt("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});xt("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});xt("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});xt("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});xt("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});xt("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});xt("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});xt("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});xt("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vn,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vn,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vn,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});xt("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});xt("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vn,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:vn,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:vn,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});xt("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:vn,action:"path-mask:start"},{trigger:"mousedown",isEnable:vn,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});xt("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:vn,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(e){return!_c(e)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});xt("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});xt("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});xt("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});xt("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});xt("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});xt("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});xt("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function gb(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}xt("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return gb(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!gb(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});xt("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});xt("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var Ye=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Dr;(function(e){e.ERROR="error",e.WARN="warn",e.INFO="log"})(Dr||(Dr={}));var nU="AntV/G2Plot";function aU(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=0;return"".concat(nU,": ").concat(e.replace(/%s/g,function(){return"".concat(r[n++])}))}function wn(e,r,t){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];r||console[e](aU.apply(void 0,pt([t],n,!1)))}function Dt(e,r){var t={};return e!==null&&typeof e=="object"&&r.forEach(function(n){var a=e[n];a!==void 0&&(t[n]=a)}),t}function og(e,r){if(!e)return{};var t=e.filter(function(i){var o=$(i,[r]);return mt(o)&&!isNaN(o)}),n=t.every(function(i){return $(i,[r])>=0}),a=t.every(function(i){return $(i,[r])<=0});return n?{min:0}:a?{max:0}:{}}function rT(e,r,t,n,a){if(a===void 0&&(a=[]),!Array.isArray(e))return{nodes:[],links:[]};var i=[],o={},l=-1;return e.forEach(function(s){var u=s[r],f=s[t],c=s[n],h=Dt(s,a);o[u]||(o[u]=T({id:++l,name:u},h)),o[f]||(o[f]=T({id:++l,name:f},h)),i.push(T({source:o[u].id,target:o[f].id,value:c},h))}),{nodes:Object.values(o).sort(function(s,u){return s.id-u.id}),links:i}}function Yi(e,r){var t=Ee(e,function(n){var a=n[r];return a===null||typeof a=="number"&&!isNaN(a)});return wn(Dr.WARN,t.length===e.length,"illegal data existed in chart data."),t}var iU=5,oU={}.toString,nT=function(e,r){return oU.call(e)==="[object "+r+"]"},lU=function(e){return nT(e,"Array")},sU=function(e){return typeof e=="object"&&e!==null},yb=function(e){if(!sU(e)||!nT(e,"Object"))return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},aT=function(e,r,t,n){t=t||0,n=n||iU;for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var i=r[a];i?yb(i)?(yb(e[a])||(e[a]={}),t<n?aT(e[a],i,t+1,n):e[a]=r[a]):lU(i)?(e[a]=[],e[a]=e[a].concat(i)):e[a]=i:e[a]=i}},Z=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)aT(e,r[n]);return e};function vd(e){if(!e)return{width:0,height:0};var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function gt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return e.reduce(function(n,a){return a(n)},t)}}function Me(e,r){return e.geometries.find(function(t){return t.type===r})}function zu(e){return Le(e.geometries,function(r,t){return r.concat(t.elements)},[])}function Tl(e){return $(e,["views","length"],0)<=0?zu(e):Le(e.views,function(r,t){return r.concat(Tl(t))},zu(e))}function uU(e){return $(e,["views","length"],0)<=0?e.geometries:Le(e.views,function(r,t){return r.concat(t.geometries)},e.geometries)}function mb(e){if(!e)return e;var r=e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return r.map(function(t){return t.toLowerCase()}).join("-")}function xe(e){if(!sa(e,"Object"))return e;var r=T({},e);return r.formatter&&!r.content&&(r.content=r.formatter),r}var Ah;function cU(){return Ah||(Ah=document.createElement("canvas").getContext("2d")),Ah}lo(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,a=n===void 0?"sans-serif":n,i=r.fontWeight,o=r.fontStyle,l=r.fontVariant,s=cU();s.font=[o,i,l,"".concat(t,"px"),a].join(" ");var u=s.measureText(dt(e)?e:"");return u.width},function(e,r){return r===void 0&&(r={}),pt([e],sc(r),!0).join("")});function Za(e){return typeof e=="number"&&!isNaN(e)}function fU(e,r,t){var n=Math.min(r,t),a=Math.max(r,t);return e>=n&&e<=a}function na(e){if(mt(e))return[e,e,e,e];if(J(e)){var r=e.length;if(r===1)return[e[0],e[0],e[0],e[0]];if(r===2)return[e[0],e[1],e[0],e[1]];if(r===3)return[e[0],e[1],e[2],e[1]];if(r===4)return e}return[0,0,0,0]}function Wc(e,r,t){r===void 0&&(r="bottom"),t===void 0&&(t=25);var n=na(e),a=[r.startsWith("top")?t:0,r.startsWith("right")?t:0,r.startsWith("bottom")?t:0,r.startsWith("left")?t:0];return[n[0]+a[0],n[1]+a[1],n[2]+a[2],n[3]+a[3]]}function lg(e){var r=e.map(function(n){return na(n)}),t=[0,0,0,0];return r.length>0&&(t=t.map(function(n,a){return r.forEach(function(i,o){n+=r[o][a]}),n})),t}function hU(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,a=e.length;n<a;n+=1){var i=e[n];t.push(["L",i.x,i.y])}r&&t.push(["Z"])}return t}var pU=function(e,r,t,n){var a=[],i,o,l=!!n,s,u;if(l){s=[1/0,1/0],u=[-1/0,-1/0];for(var f=0,c=e.length;f<c;f++){var h=e[f];s=Se([0,0],s,h),u=Ce([0,0],u,h)}s=Se([0,0],s,n[0]),u=Ce([0,0],u,n[1])}for(var f=0,p=e.length;f<p;f++){var h=e[f];if(t)i=e[f?f-1:p-1],o=e[(f+1)%p];else if(f===0||f===p-1){a.push(h);continue}else i=e[f-1],o=e[f+1];var d=[0,0];d=Da(d,o,i),d=Ne(d,d,r);var v=$i(h,i),g=$i(h,o),y=v+g;y!==0&&(v/=y,g/=y);var m=Ne([0,0],d,-v),b=Ne([0,0],d,g),x=Yr([0,0],h,m),w=Yr([0,0],h,b);l&&(x=Ce([0,0],x,s),x=Se([0,0],x,u),w=Ce([0,0],w,s),w=Se([0,0],w,u)),a.push(x),a.push(w)}return t&&a.push(a.shift()),a};function dU(e,r,t){for(var n=!!r,a=[],i=0,o=e.length;i<o;i+=2)a.push([e[i],e[i+1]]);for(var l=pU(a,.4,n,t),s=a.length,u=[],f,c,h,i=0;i<s-1;i++)f=l[i*2],c=l[i*2+1],h=a[i+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return n&&(f=l[s],c=l[s+1],h=a[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}function vU(e,r,t){var n=[],a=e[0],i=null;if(e.length<=2)return hU(e,r);for(var o=0,l=e.length;o<l;o++){var s=e[o];(!i||!(i.x===s.x&&i.y===s.y))&&(n.push(s.x),n.push(s.y),i=s)}var u=t||[[0,0],[1,1]],f=dU(n,r,u);return f.unshift(["M",a.x,a.y]),f}function iT(e){var r={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];$(e,"fill")&&(r.color=e.fill);var n=Dt(e,t),a=n.shadowColor,i=n.shadowBlur,o=i===void 0?0:i,l=n.shadowOffsetX,s=l===void 0?0:l,u=n.shadowOffsetY,f=u===void 0?0:u;r["text-shadow"]="".concat([a,"".concat(s,"px"),"".concat(f,"px"),"".concat(o,"px")].join(" "));var c=Dt(e,t),h=c.stroke,p=c.lineWidth,d=p===void 0?0:p;return r["-webkit-text-stroke"]="".concat(["".concat(d,"px"),h].join(" ")),B(e,function(v,g){["fontSize"].includes(g)&&mt(v)?r[mb(g)]="".concat(v,"px"):g&&!t.includes(g)&&(r[mb(g)]="".concat(v))}),r}function oT(e,r){e.style["pointer-events"]="none",B(r,function(t,n){n&&t&&(e.style[n]=t)})}var Gc=function(e,r,t){var n=r.statistic,a=r.plotType,i=n.title,o=n.content;[i,o].forEach(function(l,s){if(l){var u="";s===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=i?"translate(-50%, 0)":"translate(-50%, -50%)";var f=lt(l.style)?l.style(t):l.style;e.annotation().html(T({position:["50%","50%"],html:function(c,h){var p=h.getCoordinate(),d=0;if(a==="pie"||a==="ring-progress")d=p.getRadius()*p.innerRadius*2;else if(a==="liquid"){var v=$(h.geometries,[0,"elements",0,"shape"]);if(v){var g=v.find(function(x){return x.get("name")==="wrap"}),y=g.getCanvasBBox().width;d=y}}else d||(d=p.getWidth());oT(c,T({width:"".concat(d,"px"),transform:u},iT(f)));var m=h.getData();if(l.customHtml)return l.customHtml(c,h,t,m);var b=l.content;return l.formatter&&(b=l.formatter(t,m)),b?dt(b)?b:"".concat(b):"<div></div>"},key:"".concat(s===0?"top":"bottom","-statistic")},Dt(l,["offsetX","offsetY","rotate","style","formatter"])))}})},gU=function(e,r,t){var n=r.statistic,a=n.title,i=n.content;[a,i].forEach(function(o){if(o){var l=lt(o.style)?o.style(t):o.style;e.annotation().html(T({position:["50%","100%"],html:function(s,u){var f=u.getCoordinate(),c=u.views[0].getCoordinate(),h=c.getCenter(),p=c.getRadius(),d=Math.max(Math.sin(c.startAngle),Math.sin(c.endAngle))*p,v=h.y+d-f.y.start-parseFloat($(l,"fontSize",0)),g=f.getRadius()*f.innerRadius*2;oT(s,T({width:"".concat(g,"px"),transform:"translate(-50%, ".concat(v,"px)")},iT(l)));var y=u.getData();if(o.customHtml)return o.customHtml(s,u,t,y);var m=o.content;return o.formatter&&(m=o.formatter(t,y)),m?dt(m)?m:"".concat(m):"<div></div>"}},Dt(o,["offsetX","offsetY","rotate","style","formatter"])))}})};function lT(e,r){return r?Le(r,function(t,n,a){return t.replace(new RegExp("{\\s*".concat(a,"\\s*}"),"g"),n)},e):e}function St(e,r){return e.views.find(function(t){return t.id===r})}function $o(e){var r=e.parent;return r?r.views:[]}function xb(e){return $o(e).filter(function(r){return r!==e})}function Yl(e,r,t){t===void 0&&(t=e.geometries),typeof r=="boolean"?e.animate(r):e.animate(!0),B(t,function(n){var a;lt(r)?a=r(n.type||n.shapeType,n)||!0:a=r,n.animate(a)})}function Yc(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function sg(e,r){r===void 0&&(r=e);var t=document.createElement("canvas"),n=Yc();t.width=e*n,t.height=r*n,t.style.width="".concat(e,"px"),t.style.height="".concat(r,"px");var a=t.getContext("2d");return a.scale(n,n),t}function ug(e,r,t,n){n===void 0&&(n=t);var a=r.backgroundColor,i=r.opacity;e.globalAlpha=i,e.fillStyle=a,e.beginPath(),e.fillRect(0,0,t,n),e.closePath()}function sT(e,r,t){var n=e+r;return t?n*2:n}function uT(e,r){var t=r?[[e*.25,e*.25],[e*.75,e*.75]]:[[e*.5,e*.5]];return t}function cg(e,r){var t=r*Math.PI/180,n={a:Math.cos(t)*(1/e),b:Math.sin(t)*(1/e),c:-Math.sin(t)*(1/e),d:Math.cos(t)*(1/e),e:0,f:0};return n}var yU={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function mU(e,r,t,n){var a=r.size,i=r.fill,o=r.lineWidth,l=r.stroke,s=r.fillOpacity;e.beginPath(),e.globalAlpha=s,e.fillStyle=i,e.strokeStyle=l,e.lineWidth=o,e.arc(t,n,a/2,0,2*Math.PI,!1),e.fill(),o&&e.stroke(),e.closePath()}function xU(e){var r=Z({},yU,e),t=r.size,n=r.padding,a=r.isStagger,i=r.rotation,o=sT(t,n,a),l=uT(o,a),s=sg(o,o),u=s.getContext("2d");ug(u,r,o);for(var f=0,c=l;f<c.length;f++){var h=c[f],p=h[0],d=h[1];mU(u,r,p,d)}var v=u.createPattern(s,"repeat");if(v){var g=Yc(),y=cg(g,i);v.setTransform(y)}return v}var bU={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function wU(e,r,t){var n=r.stroke,a=r.lineWidth,i=r.strokeOpacity,o=new Path2D(t);e.globalAlpha=i,e.lineCap="square",e.strokeStyle=a?n:"transparent",e.lineWidth=a,e.stroke(o)}function SU(e){var r=Z({},bU,e),t=r.spacing,n=r.rotation,a=r.lineWidth,i=t+a||1,o=t+a||1,l=`
            M 0 0 L `.concat(i,` 0
            M 0 `).concat(o," L ").concat(i," ").concat(o,`
            `),s=sg(i,o),u=s.getContext("2d");ug(u,r,i,o),wU(u,r,l);var f=u.createPattern(s,"repeat");if(f){var c=Yc(),h=cg(c,n);f.setTransform(h)}return f}var CU={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function AU(e,r,t,n){var a=r.stroke,i=r.size,o=r.fill,l=r.lineWidth,s=r.fillOpacity;e.globalAlpha=s,e.strokeStyle=a,e.lineWidth=l,e.fillStyle=o,e.strokeRect(t-i/2,n-i/2,i,i),e.fillRect(t-i/2,n-i/2,i,i)}function TU(e){var r=Z({},CU,e),t=r.size,n=r.padding,a=r.isStagger,i=r.rotation,o=sT(t,n,a),l=uT(o,a),s=sg(o,o),u=s.getContext("2d");ug(u,r,o);for(var f=0,c=l;f<c.length;f++){var h=c[f],p=h[0],d=h[1];AU(u,r,p,d)}var v=u.createPattern(s,"repeat");if(v){var g=Yc(),y=cg(g,i);v.setTransform(y)}return v}function IU(e){var r=e.type,t=e.cfg,n;switch(r){case"dot":n=xU(t);break;case"line":n=SU(t);break;case"square":n=TU(t);break}return n}function cr(e){var r=this;return function(t){var n,a=t.options,i=t.chart,o=a.pattern;if(!o)return t;var l=function(s){for(var u,f,c,h=[],p=1;p<arguments.length;p++)h[p-1]=arguments[p];var d=i.getTheme().defaultColor,v=d,g=(f=(u=i.geometries)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.getAttribute("color");if(g){var y=g.getFields()[0],m=$(s,y);v=Ke.getMappingValue(g,m,((c=g.values)===null||c===void 0?void 0:c[0])||d)}var b=o;typeof o=="function"&&(b=o.call(r,s,v)),b instanceof CanvasPattern||(b=IU(Z({},{cfg:{backgroundColor:v}},b)));var x=a[e];return T(T({},typeof x=="function"?x.call.apply(x,pt([r,s],h,!1)):x||{}),{fill:b||v})};return Z({},t,{options:(n={},n[e]=l,n)})}}function ho(e){var r=e.chart,t=e.options,n=t.legend,a=t.colorField,i=t.seriesField;return n===!1?r.legend(!1):(a||i)&&r.legend(a||i,n),e}function de(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==void 0&&r.tooltip(n),e}function Yt(e){var r=e.chart,t=e.options,n=t.interactions;return B(n,function(a){a.enable===!1?r.removeInteraction(a.type):r.interaction(a.type,a.cfg||{})}),e}function $t(e){var r=e.chart,t=e.options,n=t.animation;return Yl(r,n),e}function Et(e){var r=e.chart,t=e.options,n=t.theme;return n&&r.theme(n),e}function ha(e){var r=e.chart,t=e.options,n=t.state;return n&&B(r.geometries,function(a){a.state(n)}),e}function ql(e){var r=e.chart,t=e.options,n=t.slider;return r.option("slider",n),e}function fg(e){var r=e.chart,t=e.options,n=t.scrollbar;return r.option("scrollbar",n),e}function te(e,r){return function(t){var n=t.chart,a=t.options,i={};return B(e,function(o,l){i[l]=Dt(o,Ye)}),i=Z({},r,a.meta,i),n.scale(i),t}}function Xt(e){return function(r){var t=r.chart,n=r.options,a=t.getController("annotation");return B(pt(pt([],n.annotations||[],!0),e||[],!0),function(i){a.annotation(i)}),r}}function Qa(e){var r=e.chart,t=e.options,n=t.yAxis,a=t.limitInPlot,i=a;return Bt(n)&&Q(a)&&(Object.values(Dt(n,["min","max","minLimit","maxLimit"])).some(function(o){return!Q(o)})?i=!0:i=!1),r.limitInPlot=i,e}function cT(e){return e===void 0&&(e="rect"),function(r){var t=r.chart,n=r.options,a=n.coordinate,i=Array.from(a||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return i.length!==0&&t.coordinate({type:e,actions:i}),r}}var EU={locale:"en-US"},au={};function fT(e,r){au[e]=r}function qc(e){return{get:function(r,t){return lT($(au[e],r)||$(au[EU.locale],r)||$(au["en-US"],r)||r,t)}}}var MU={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},OU={locale:"zh-CN",general:{increase:"增加",decrease:"减少",root:"初始"},statistic:{total:"总计"},conversionTag:{label:"转化率"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"总计"}};function Ar(e,r){if(e===!1)return{fields:!1};var t=$(e,"fields"),n=$(e,"formatter");return n&&!t&&(t=r),{fields:t,formatter:n}}function Hs(e,r){var t=e.type,n=e.xField,a=e.yField,i=e.colorField,o=e.shapeField,l=e.sizeField,s=e.styleField,u=e.rawFields,f=[];if(u=(lt(u)?u(t,r):u)||[],r==="color")f=pt([i||n],u,!0);else if(r==="shape")f=pt([o||n],u,!0);else if(r==="size")f=pt([l||n],u,!0);else{f=pt([n,a,i,o,l,s],u,!0);var c=["x","y","color","shape","size","style"].indexOf(r),h=f[c];f.splice(c,1),f.unshift(h)}var p=Ya(f.filter(function(v){return!!v})),d=t==="line"&&[n,a].includes(p.join("*"))?"":p.join("*");return{mappingFields:p,tileMappingField:d}}function mi(e,r){if(r)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a={};return e.forEach(function(i,o){a[i]=t[o]}),delete a.undefined,r(a)}}function Qe(e){var r=e.chart,t=e.options,n=t.type,a=t.args,i=t.mapping,o=t.xField,l=t.yField,s=t.colorField,u=t.shapeField,f=t.sizeField,c=t.tooltipFields,h=t.label,p=t.state,d=t.customInfo;if(!i)return e;var v=i.color,g=i.shape,y=i.size,m=i.style,b=i.tooltip,x=r[n](a).position("".concat(o,"*").concat(l));if(dt(v))s?x.color(s,v):x.color(v);else if(lt(v)){var w=Hs(t,"color"),S=w.mappingFields,A=w.tileMappingField;x.color(A,mi(S,v))}else s&&x.color(s,v);if(dt(g))u?x.shape(u,[g]):x.shape(g);else if(lt(g)){var I=Hs(t,"shape"),S=I.mappingFields,A=I.tileMappingField;x.shape(A,mi(S,g))}else u&&x.shape(u,g);if(mt(y))f?x.size(f,y):x.size(y);else if(lt(y)){var k=Hs(t,"size"),S=k.mappingFields,A=k.tileMappingField;x.size(A,mi(S,y))}else f&&x.size(f,y);if(lt(m)){var E=Hs(t,"style"),S=E.mappingFields,A=E.tileMappingField;x.style(A,mi(S,m))}else Bt(m)&&x.style(m);if(c===!1?x.tooltip(!1):Ue(c)||x.tooltip(c.join("*"),mi(c,b)),h===!1)x.label(!1);else if(h){var M=h.callback,O=h.fields,F=_t(h,["callback","fields"]);x.label({fields:O||[l],callback:M,cfg:xe(F)})}return p&&x.state(p),d&&x.customInfo(d),[o,l].filter(function(L){return L!==s}).forEach(function(L){r.legend(L,!1)}),T(T({},e),{ext:{geometry:x}})}function Xc(e){var r=e.options,t=r.area,n=r.xField,a=r.yField,i=r.seriesField,o=r.smooth,l=r.tooltip,s=r.useDeferredLabel,u=Ar(l,[n,a,i]),f=u.fields,c=u.formatter;return t?Qe(Z({},e,{options:{type:"area",colorField:i,tooltipFields:f,mapping:ot({shape:o?"smooth":"area",tooltip:c},t),args:{useDeferredLabel:s}}})):e}function hT(e){var r=e.options,t=r.edge,n=r.xField,a=r.yField,i=r.seriesField,o=r.tooltip,l=r.useDeferredLabel,s=Ar(o,[n,a,i]),u=s.fields,f=s.formatter;return t?Qe(Z({},e,{options:{type:"edge",colorField:i,tooltipFields:u,mapping:T({tooltip:f},t),args:{useDeferredLabel:l}}})):e}function kU(e){var r=e.chart,t=e.options,n=e.ext,a=t.seriesField,i=t.isGroup,o=t.isStack,l=t.marginRatio,s=t.widthRatio,u=t.groupField,f=t.theme,c=[];if(a&&(i&&c.push({type:"dodge",dodgeBy:u||a,marginRatio:l}),o&&c.push({type:"stack",marginRatio:l})),c.length&&(n!=null&&n.geometry)){var h=n==null?void 0:n.geometry;h.adjust(c)}return Q(s)||r.theme(Z({},Bt(f)?f:Qo(f),{columnWidthRatio:s})),e}function Oe(e){var r=e.options,t=r.xField,n=r.yField,a=r.interval,i=r.seriesField,o=r.tooltip,l=r.minColumnWidth,s=r.maxColumnWidth,u=r.columnBackground,f=r.dodgePadding,c=r.intervalPadding,h=r.useDeferredLabel,p=Ar(o,[t,n,i]),d=p.fields,v=p.formatter,g=(a?Qe(Z({},e,{options:{type:"interval",colorField:i,tooltipFields:d,mapping:T({tooltip:v},a),args:{dodgePadding:f,intervalPadding:c,minColumnWidth:l,maxColumnWidth:s,background:u,useDeferredLabel:h}}})):e).ext;return kU(T(T({},e),{ext:g}))}function po(e){var r=e.options,t=r.line,n=r.stepType,a=r.xField,i=r.yField,o=r.seriesField,l=r.smooth,s=r.connectNulls,u=r.tooltip,f=r.useDeferredLabel,c=Ar(u,[a,i,o]),h=c.fields,p=c.formatter;return t?Qe(Z({},e,{options:{type:"line",colorField:o,tooltipFields:h,mapping:ot({shape:n||(l?"smooth":"line"),tooltip:p},t),args:{connectNulls:s,useDeferredLabel:f}}})):e}function fr(e){var r=e.options,t=r.point,n=r.xField,a=r.yField,i=r.seriesField,o=r.sizeField,l=r.shapeField,s=r.tooltip,u=r.useDeferredLabel,f=Ar(s,[n,a,i,o,l]),c=f.fields,h=f.formatter;return t?Qe(Z({},e,{options:{type:"point",colorField:i,shapeField:l,tooltipFields:c,mapping:T({tooltip:h},t),args:{useDeferredLabel:u}}})):e}function Uc(e){var r=e.options,t=r.polygon,n=r.xField,a=r.yField,i=r.seriesField,o=r.tooltip,l=r.useDeferredLabel,s=Ar(o,[n,a,i]),u=s.fields,f=s.formatter;return t?Qe(Z({},e,{options:{type:"polygon",colorField:i,tooltipFields:u,mapping:T({tooltip:f},t),args:{useDeferredLabel:l}}})):e}function hg(e){var r=e.options,t=r.schema,n=r.xField,a=r.yField,i=r.seriesField,o=r.tooltip,l=r.useDeferredLabel,s=Ar(o,[n,a,i]),u=s.fields,f=s.formatter;return t?Qe(Z({},e,{options:{type:"schema",colorField:i,tooltipFields:u,mapping:T({tooltip:f},t),args:{useDeferredLabel:l}}})):e}function FU(e){var r=e.options,t=r.violin,n=r.xField,a=r.yField,i=r.seriesField,o=r.sizeField,l=r.tooltip,s=Ar(l,[n,a,i,o]),u=s.fields,f=s.formatter;return t?Qe(Z({},e,{options:{type:"violin",colorField:i,tooltipFields:u,mapping:T({tooltip:f},t)}})):e}var za={},Un={},pT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=1,t=function(){return"".concat(r++)};e.default=t})(pT);var Kc={},Zc={},pg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var o=this,l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];clearTimeout(i),i=setTimeout(function(){n.apply(o,s)},a)}};e.default=r})(pg);var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.SizeSensorId=Qr.SensorTabIndex=Qr.SensorClassName=void 0;var PU="size-sensor-id";Qr.SizeSensorId=PU;var LU="size-sensor-object";Qr.SensorClassName=LU;var RU="-1";Qr.SensorTabIndex=RU;Object.defineProperty(Zc,"__esModule",{value:!0});Zc.createSensor=void 0;var DU=BU(pg),Th=Qr;function BU(e){return e&&e.__esModule?e:{default:e}}var _U=function(r,t){var n=void 0,a=[],i=function(){getComputedStyle(r).position==="static"&&(r.style.position="relative");var c=document.createElement("object");return c.onload=function(){c.contentDocument.defaultView.addEventListener("resize",o),o()},c.style.display="block",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.height="100%",c.style.width="100%",c.style.overflow="hidden",c.style.pointerEvents="none",c.style.zIndex="-1",c.style.opacity="0",c.setAttribute("class",Th.SensorClassName),c.setAttribute("tabindex",Th.SensorTabIndex),c.type="text/html",r.appendChild(c),c.data="about:blank",c},o=(0,DU.default)(function(){a.forEach(function(f){f(r)})}),l=function(c){n||(n=i()),a.indexOf(c)===-1&&a.push(c)},s=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",o),n.parentNode.removeChild(n),r.removeAttribute(Th.SizeSensorId),n=void 0,a=[],t&&t())},u=function(c){var h=a.indexOf(c);h!==-1&&a.splice(h,1),a.length===0&&n&&s()};return{element:r,bind:l,destroy:s,unbind:u}};Zc.createSensor=_U;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.createSensor=void 0;var NU=Qr,$U=jU(pg);function jU(e){return e&&e.__esModule?e:{default:e}}var zU=function(r,t){var n=void 0,a=[],i=(0,$U.default)(function(){a.forEach(function(f){f(r)})}),o=function(){var c=new ResizeObserver(i);return c.observe(r),i(),c},l=function(c){n||(n=o()),a.indexOf(c)===-1&&a.push(c)},s=function(){n.disconnect(),a=[],n=void 0,r.removeAttribute(NU.SizeSensorId),t&&t()},u=function(c){var h=a.indexOf(c);h!==-1&&a.splice(h,1),a.length===0&&n&&s()};return{element:r,bind:l,destroy:s,unbind:u}};Qc.createSensor=zU;Object.defineProperty(Kc,"__esModule",{value:!0});Kc.createSensor=void 0;var HU=Zc,VU=Qc,WU=typeof ResizeObserver<"u"?VU.createSensor:HU.createSensor;Kc.createSensor=WU;Object.defineProperty(Un,"__esModule",{value:!0});Un.removeSensor=Un.getSensor=Un.Sensors=void 0;var GU=qU(pT),YU=Kc,gd=Qr;function qU(e){return e&&e.__esModule?e:{default:e}}var Fi={};Un.Sensors=Fi;function dT(e){e&&Fi[e]&&delete Fi[e]}var XU=function(r){var t=r.getAttribute(gd.SizeSensorId);if(t&&Fi[t])return Fi[t];var n=(0,GU.default)();r.setAttribute(gd.SizeSensorId,n);var a=(0,YU.createSensor)(r,function(){return dT(n)});return Fi[n]=a,a};Un.getSensor=XU;var UU=function(r){var t=r.element.getAttribute(gd.SizeSensorId);r.destroy(),dT(t)};Un.removeSensor=UU;Object.defineProperty(za,"__esModule",{value:!0});za.ver=za.clear=vT=za.bind=void 0;var yd=Un,KU=function(r,t){var n=(0,yd.getSensor)(r);return n.bind(t),function(){n.unbind(t)}},vT=za.bind=KU,ZU=function(r){var t=(0,yd.getSensor)(r);(0,yd.removeSensor)(t)};za.clear=ZU;var QU="1.0.2";za.ver=QU;var bb="data-chart-source-type",gT=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],bt=function(e){q(r,e);function r(t,n){var a=e.call(this)||this;return a.container=typeof t=="string"?document.getElementById(t):t,a.options=Z({},a.getDefaultOptions(),n),a.createG2(),a.bindEvents(),a}return r.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},r.prototype.createG2=function(){var t=this.options,n=t.width,a=t.height,i=t.defaultInteractions;this.chart=new FY(T(T(T(T({container:this.container,autoFit:!1},this.getChartSize(n,a)),{localRefresh:!1}),Dt(this.options,gT)),{defaultInteractions:i})),this.container.setAttribute(bb,"G2Plot")},r.prototype.getChartSize=function(t,n){var a=vd(this.container);return{width:t||a.width||400,height:n||a.height||400}},r.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n!=null&&n.type&&t.emit(n.type,n)})},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},r.prototype.update=function(t){this.updateOption(t),this.render()},r.prototype.updateOption=function(t){this.options=Z({},this.options,t)},r.prototype.setState=function(t,n,a){a===void 0&&(a=!0);var i=Tl(this.chart);B(i,function(o){n(o.getData())&&o.setState(t,a)})},r.prototype.getStates=function(){var t=Tl(this.chart),n=[];return B(t,function(a){var i=a.getData(),o=a.getStates();B(o,function(l){n.push({data:i,state:l,geometry:a.geometry,element:a})})}),n},r.prototype.changeData=function(t){this.update({data:t})},r.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},r.prototype.addAnnotations=function(t,n){n=n||this.chart;var a=pt([],t,!0),i=n.getController("annotation"),o=i.getComponents().map(function(u){return u.extra});i.clear(!0);for(var l=function(u){var f=o[u],c=a.findIndex(function(h){return h.id&&h.id===f.id});c!==-1&&(f=Z({},f,a[c]),a.splice(c,1)),i.annotation(f)},s=0;s<o.length;s++)l(s);a.forEach(function(u){return i.annotation(u)}),n.render(!0)},r.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),a=n.getComponents().map(function(l){return l.extra});n.clear(!0);for(var i=function(l){var s=a[l];t.find(function(u){return u.id&&u.id===s.id})||n.annotation(s)},o=0;o<a.length;o++)i(o);this.chart.render(!0)},r.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(bb)},r.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,a=n.padding,i=n.appendPadding;this.chart.padding=a,this.chart.appendPadding=i,t({chart:this.chart,options:this.options})},r.prototype.triggerResize=function(){this.chart.forceFit()},r.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit,a=n===void 0?!0:n;a&&(this.unbind=vT(this.container,function(){var i=vd(t.container),o=i.width,l=i.height;(o!==t.chart.width||l!==t.chart.height)&&t.triggerResize()}))}},r.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},r}(Qd);function yT(e,r,t,n){var a=Le(e,function(i,o){var l=o[t],s=i.has(l)?i.get(l):0,u=o[r];return s=Za(u)?s+u:s,i.set(l,s),i},new Map);return Gt(e,function(i){var o,l=i[r],s=i[t],u=Za(l)&&a.get(s)!==0?l/a.get(s):0;return T(T({},i),(o={},o[n]=u,o))})}function JU(e,r,t,n){var a=Le(e,function(i,o){var l=Le(t,function(f,c){return"".concat(f).concat(o[c])},""),s=i.has(l)?i.get(l):0,u=o[r];return s=Za(u)?s+u:s,i.set(l,s),i},new Map);return Gt(e,function(i){var o,l=i[r],s=Le(t,function(f,c){return"".concat(f).concat(i[c])},""),u=Za(l)&&a.get(s)!==0?l/a.get(s):0;return T(T({},i),(o={},o[n]=u,o))})}function Xl(e,r,t,n,a){return a?yT(e,r,t,n):e}function tK(e){var r=e.chart,t=e.options,n=t.data,a=t.color,i=t.lineStyle,o=t.lineShape,l=t.point,s=t.area,u=t.seriesField,f=l==null?void 0:l.state,c=s==null?void 0:s.state;r.data(n);var h=Z({},e,{options:{shapeField:u,line:{color:a,style:i,shape:o},point:l&&T({color:a,shape:"circle"},l),area:s&&T({color:a},s),label:void 0}}),p=Z({},h,{options:{tooltip:!1,state:f}}),d=Z({},h,{options:{tooltip:!1,state:c}});return po(h),fr(p),Xc(d),e}function Jc(e){var r,t,n=e.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.data;return gt(te((r={},r[o]=a,r[l]=i,r),(t={},t[o]={type:"cat"},t[l]=og(s,l),t)))(e)}function eK(e){var r=e.chart,t=e.options,n=t.reflect;if(n){var a=n;J(a)||(a=[a]);var i=a.map(function(o){return["reflect",o]});r.coordinate({type:"rect",actions:i})}return e}function mT(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?r.axis(o,!1):r.axis(o,a),e}function xT(e){var r=e.chart,t=e.options,n=t.legend,a=t.seriesField;return n&&a?r.legend(a,n):n===!1&&r.legend(!1),e}function rK(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=Me(r,"line");if(!n)i.label(!1);else{var o=n.callback,l=_t(n,["callback"]);i.label({fields:[a],callback:o,cfg:T({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},xe(l))})}return e}function nK(e){var r=e.chart,t=e.options,n=t.isStack;return n&&B(r.geometries,function(a){a.adjust("stack")}),e}function bT(e){return gt(tK,Jc,nK,Et,eK,mT,xT,de,rK,ql,fg,Yt,$t,Xt(),Qa)(e)}function aK(e){var r=e.chart,t=e.options,n=t.data,a=t.areaStyle,i=t.areaShape,o=t.color,l=t.point,s=t.line,u=t.isPercent,f=t.xField,c=t.yField,h=t.tooltip,p=t.seriesField,d=t.startOnZero,v=l==null?void 0:l.state,g=Xl(n,c,f,c,u);r.data(g);var y=u?T({formatter:function(w){return{name:w[p]||w[f],value:(Number(w[c])*100).toFixed(2)+"%"}}},h):h,m=Z({},e,{options:{area:{color:o,style:a,shape:i},point:l&&T({color:o},l),tooltip:y,label:void 0,args:{startOnZero:d}}}),b={chart:r,options:Z({line:{size:2}},uc(t,["state"]),{line:s&&T({color:o},s),sizeField:p,state:s==null?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:d}})},x=Z({},m,{options:{tooltip:!1,state:v}});return Xc(m),po(b),fr(x),e}function iK(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=Me(r,"area");if(!n)i.label(!1);else{var o=n.callback,l=_t(n,["callback"]);i.label({fields:[a],callback:o,cfg:T({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},xe(l))})}return e}function oK(e){var r=e.chart,t=e.options,n=t.isStack,a=t.isPercent,i=t.seriesField;return(a||n)&&i&&B(r.geometries,function(o){o.adjust("stack")}),e}function wT(e){return gt(Et,cr("areaStyle"),cT("rect"),aK,Jc,oK,mT,xT,de,iK,ql,Xt(),Yt,$t,Qa)(e)}var lK=Z({},bt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),sK=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return lK},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.isPercent,i=n.xField,o=n.yField,l=this,s=l.chart,u=l.options;Jc({chart:s,options:u}),this.chart.changeData(Xl(t,o,i,o,a))},r.prototype.getSchemaAdaptor=function(){return wT},r}(bt),uK=10,cK=5,fK={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},hK=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=T({name:"button"},fK),t}return r.prototype.getButtonCfg=function(){var t=this.context.view,n=$(t,["interactions","filter-action","cfg","buttonConfig"]);return Z(this.buttonCfg,n,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),a=this.drawText(n);this.drawBackground(n,a.getBBox()),this.buttonGroup=n},r.prototype.drawText=function(t){var n,a=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:T({text:a.text},(n=a.textStyle)===null||n===void 0?void 0:n.default)})},r.prototype.drawBackground=function(t,n){var a,i=this.getButtonCfg(),o=na(i.padding),l=t.addShape({type:"rect",name:"button-rect",attrs:T({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(a=i.buttonStyle)===null||a===void 0?void 0:a.default)});return l.toBack(),t.on("mouseenter",function(){var s;l.attr((s=i.buttonStyle)===null||s===void 0?void 0:s.active)}),t.on("mouseleave",function(){var s;l.attr((s=i.buttonStyle)===null||s===void 0?void 0:s.default)}),l},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),a=n.convert({x:1,y:1}),i=this.buttonGroup,o=i.getBBox(),l=Ke.transform(null,[["t",a.x-o.width-uK,a.y+o.height+cK]]);i.setMatrix(l)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Ht);ft("brush-reset-button",hK,{name:"brush-reset-button"});xt("filter-action",{});function sn(e){return e.isInPlot()}function ai(e,r,t){var n=t||{},a=n.mask,i=n.isStartEnable,o=r||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||sn,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:sn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sn,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(l){return i?!i(l):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||sn,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:sn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sn,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i||sn,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:a==null?void 0:a.style}]}],processing:[{trigger:"mousemove",isEnable:sn,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:sn,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:i||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:i||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:i||function(l){return!l.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:a==null?void 0:a.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(l){return!l.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{}}}xt("brush",ai("brush"));xt("brush-highlight",ai("brush-highlight"));xt("brush-x",ai("brush-x","x-rect"));xt("brush-y",ai("brush-y","y-rect"));xt("brush-x-highlight",ai("brush-x-highlight","x-rect"));xt("brush-y-highlight",ai("brush-y-highlight","y-rect"));var wb=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function ST(e){var r=e.options,t=r.brush,n=Ee(r.interactions||[],function(a){return wb.indexOf(a.type)===-1});return t!=null&&t.enabled&&(wb.forEach(function(a){var i=!1;switch(t.type){case"x-rect":i=a===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":i=a===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:i=a===(t.action==="highlight"?"brush-highlight":"brush");break}var o={type:a,enable:i};t&&(o.cfg=ai(a,t.type,t)),n.push(o)}),(t==null?void 0:t.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),Z({},e,{options:{interactions:n}})}var Ha={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},dg=function(e,r){return e==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:r}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:r}]}]};xt(Ha.hover,{start:dg(Ha.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]});xt(Ha.click,{start:dg(Ha.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function pK(e){return e===void 0&&(e=!1),function(r){var t=r.chart,n=r.options,a=n.connectedArea,i=function(){t.removeInteraction(Ha.hover),t.removeInteraction(Ha.click)};if(!e&&a){var o=a.trigger||"hover";i(),t.interaction(Ha[o],{start:dg(o,a.style)})}else i();return r}}function CT(e,r){return!mt(e)||!mt(r)||e===0&&r===0?"-":e===r?"100%":e===0?"∞":"".concat((100*r/e).toFixed(2),"%")}function dK(e,r){return Z({size:r?32:80,spacing:r?8:12,offset:r?32:0,arrow:e.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:e.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:CT}},e)}function Hu(e,r){return Gt(r.getModel().points,function(t){return e.convertPoint(t)})}function vK(e,r,t){var n=e.view,a=e.geometry,i=e.group,o=e.options,l=e.horizontal,s=o.offset,u=o.size,f=o.arrow,c=n.getCoordinate(),h=Hu(c,r)[3],p=Hu(c,t)[0],d=p.y-h.y,v=p.x-h.x;if(typeof f!="boolean"){var g=f.headSize,y=o.spacing,m;l?(v-g)/2<y?(y=Math.max(1,(v-g)/2),m=[[h.x+y,h.y-s],[h.x+y,h.y-s-u],[p.x-y,p.y-s-u/2]]):m=[[h.x+y,h.y-s],[h.x+y,h.y-s-u],[p.x-y-g,p.y-s-u],[p.x-y,p.y-s-u/2],[p.x-y-g,p.y-s]]:(d-g)/2<y?(y=Math.max(1,(d-g)/2),m=[[h.x+s,h.y+y],[h.x+s+u,h.y+y],[p.x+s+u/2,p.y-y]]):m=[[h.x+s,h.y+y],[h.x+s+u,h.y+y],[p.x+s+u,p.y-y-g],[p.x+s+u/2,p.y-y],[p.x+s,p.y-y-g]],i.addShape("polygon",{id:"".concat(n.id,"-conversion-tag-arrow-").concat(a.getElementId(r.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:r,nextElement:t},attrs:T(T({},f.style||{}),{points:m})})}}function gK(e,r,t){var n,a,i,o=e.view,l=e.geometry,s=e.group,u=e.options,f=e.field,c=e.horizontal,h=u.offset,p=u.size;if(typeof u.text!="boolean"){var d=o.getCoordinate(),v=((n=u.text)===null||n===void 0?void 0:n.formatter)&&((a=u.text)===null||a===void 0?void 0:a.formatter(r.getData()[f],t.getData()[f])),g=Hu(d,r)[c?3:0],y=Hu(d,t)[c?0:3],m=s.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(l.getElementId(r.getModel().mappingData)),name:"conversion-tag-text",origin:{element:r,nextElement:t},attrs:T(T({},((i=u.text)===null||i===void 0?void 0:i.style)||{}),{text:v,x:c?(g.x+y.x)/2:g.x+h+p/2,y:c?g.y-h-p/2:(g.y+y.y)/2})});if(c){var b=y.x-g.x,x=m.getBBox().width;if(x>b){var w=x/v.length,S=Math.max(1,Math.ceil(b/w)-1),A="".concat(v.slice(0,S),"...");m.attr("text",A)}}}}function yK(e,r,t){vK(e,r,t),gK(e,r,t)}function mK(e,r,t){return r===void 0&&(r=!0),t===void 0&&(t=!1),function(n){var a=n.options,i=n.chart,o=a.conversionTag,l=a.theme;return o&&!t&&(i.theme(Z({},Bt(l)?l:Qo(l),{columnWidthRatio:1/3})),i.annotation().shape({render:function(s,u){var f=s.addGroup({id:"".concat(i.id,"-conversion-tag-group"),name:"conversion-tag-group"}),c=kr(i.geometries,function(d){return d.type==="interval"}),h={view:u,geometry:c,group:f,field:e,horizontal:r,options:dK(o,r)},p=c.elements;B(p,function(d,v){v>0&&yK(h,p[v-1],d)})}})),n}}function xK(e){var r=e.options,t=r.legend,n=r.seriesField,a=r.isStack;return n?t!==!1&&(t=T({position:a?"right-top":"top-left"},t)):t=!1,e.options.legend=t,e}function bK(e){var r=e.chart,t=e.options,n=t.data,a=t.columnStyle,i=t.color,o=t.columnWidthRatio,l=t.isPercent,s=t.isGroup,u=t.isStack,f=t.xField,c=t.yField,h=t.seriesField,p=t.groupField,d=t.tooltip,v=t.shape,g=l&&s&&u?JU(n,c,[f,p],c):Xl(n,c,f,c,l),y=[];u&&h&&!s?g.forEach(function(x){var w=y.find(function(S){return S[f]===x[f]&&S[h]===x[h]});w?w[c]+=x[c]||0:y.push(T({},x))}):y=g,r.data(y);var m=l?T({formatter:function(x){var w;return{name:s&&u?"".concat(x[h]," - ").concat(x[p]):(w=x[h])!==null&&w!==void 0?w:x[f],value:(Number(x[c])*100).toFixed(2)+"%"}}},d):d,b=Z({},e,{options:{data:y,widthRatio:o,tooltip:m,interval:{shape:v,style:a,color:i}}});return Oe(b),b}function vg(e){var r,t,n=e.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.data,u=n.isPercent,f=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return gt(te((r={},r[o]=a,r[l]=i,r),(t={},t[o]={type:"cat"},t[l]=T(T({},og(s,l)),f),t)))(e)}function wK(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?r.axis(o,!1):r.axis(o,a),e}function SK(e){var r=e.chart,t=e.options,n=t.legend,a=t.seriesField;return n&&a?r.legend(a,n):n===!1&&r.legend(!1),e}function CK(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=t.isRange,o=Me(r,"interval");if(!n)o.label(!1);else{var l=n.callback,s=_t(n,["callback"]);o.label({fields:[a],callback:l,cfg:T({layout:s!=null&&s.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},xe(i?T({content:function(u){var f;return(f=u[a])===null||f===void 0?void 0:f.join("-")}},s):s))})}return e}function AK(e){var r=e.chart,t=e.options,n=t.tooltip,a=t.isGroup,i=t.isStack,o=t.groupField,l=t.data,s=t.xField,u=t.yField,f=t.seriesField;if(n===!1)r.tooltip(!1);else{var c=n;if(a&&i){var h=c.customItems,p=(c==null?void 0:c.formatter)||function(d){return{name:"".concat(d[f]," - ").concat(d[o]),value:d[u]}};c=T(T({},c),{customItems:function(d){var v=[];return B(d,function(g){var y=Ee(l,function(m){return E1(m,Dt(g.data,[s,f]))});y.forEach(function(m){v.push(T(T(T({},g),{value:m[u],data:m,mappingData:{_origin:m}}),p(m)))})}),h?h(v):v}})}r.tooltip(c)}return e}function tf(e,r){r===void 0&&(r=!1);var t=e.options,n=t.seriesField;return gt(xK,Et,cr("columnStyle"),ha,cT("rect"),bK,vg,wK,SK,AK,ql,fg,CK,ST,Yt,$t,Xt(),mK(t.yField,!r,!!n),pK(!t.isStack),Qa)(e)}function TK(e){var r=e.options,t=r.xField,n=r.yField,a=r.xAxis,i=r.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},l=i!==!1?T({position:o[(i==null?void 0:i.position)||"left"]},i):!1,s=a!==!1?T({position:o[(a==null?void 0:a.position)||"bottom"]},a):!1;return T(T({},e),{options:T(T({},r),{xField:n,yField:t,xAxis:l,yAxis:s})})}function IK(e){var r=e.options,t=r.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Z({},e,{options:{label:t}})}function EK(e){var r=e.options,t=r.seriesField,n=r.isStack,a=r.legend;return t?a!==!1&&(a=T({position:n?"top-left":"right-top"},a||{})):a=!1,Z({},e,{options:{legend:a}})}function MK(e){var r=e.options,t=[{type:"transpose"},{type:"reflectY"}].concat(r.coordinate||[]);return Z({},e,{options:{coordinate:t}})}function OK(e){var r=e.chart,t=e.options,n=t.barStyle,a=t.barWidthRatio,i=t.minBarWidth,o=t.maxBarWidth,l=t.barBackground;return tf({chart:r,options:T(T({},t),{columnStyle:n,columnWidthRatio:a,minColumnWidth:i,maxColumnWidth:o,columnBackground:l})},!0)}function AT(e){return gt(TK,IK,EK,de,MK,OK)(e)}var kK=Z({},bt.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),TT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){return kK},r.prototype.changeData=function(t){var n,a;this.updateOption({data:t});var i=this,o=i.chart,l=i.options,s=l.isPercent,u=l.xField,f=l.yField,c=l.xAxis,h=l.yAxis;n=[f,u],u=n[0],f=n[1],a=[h,c],c=a[0],h=a[1];var p=T(T({},l),{xField:u,yField:f,yAxis:h,xAxis:c});vg({chart:o,options:p}),o.changeData(Xl(t,u,f,u,s))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return AT},r}(bt),FK=Z({},bt.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),IT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return FK},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.yField,i=n.xField,o=n.isPercent,l=this,s=l.chart,u=l.options;vg({chart:s,options:u}),this.chart.changeData(Xl(t,a,i,a,o))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tf},r}(bt),Ih,aa="$$percentage$$",ia="$$mappingValue$$",gn="$$conversion$$",md="$$totalPercentage$$",Il="$$x$$",El="$$y$$",PK={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Ih={},Ih[ia]={min:0,max:1,nice:!1},Ih),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},ET="CONVERSION_TAG_NAME";function gg(e,r,t){var n=[],a=t.yField,i=t.maxSize,o=t.minSize,l=$(F1(r,a),[a]),s=mt(i)?i:1,u=mt(o)?o:0;return n=Gt(e,function(f,c){var h=(f[a]||0)/l;return f[aa]=h,f[ia]=(s-u)*h+u,f[gn]=[$(e,[c-1,a]),f[a]],f}),n}function yg(e){return function(r){var t=r.chart,n=r.options,a=n.conversionTag,i=n.filteredData,o=i||t.getOptions().data;if(a){var l=a.formatter;o.forEach(function(s,u){if(!(u<=0||Number.isNaN(s[ia]))){var f=e(s,u,o,{top:!0,name:ET,text:{content:lt(l)?l(s,o):l,offsetX:a.offsetX,offsetY:a.offsetY,position:"end",autoRotate:!1,style:T({textAlign:"start",textBaseline:"middle"},a.style)}});t.annotation().line(f)}})}return r}}function LK(e){var r=e.chart,t=e.options,n=t.data,a=n===void 0?[]:n,i=t.yField,o=t.maxSize,l=t.minSize,s=gg(a,a,{yField:i,maxSize:o,minSize:l});return r.data(s),e}function RK(e){var r=e.chart,t=e.options,n=t.xField,a=t.yField,i=t.color,o=t.tooltip,l=t.label,s=t.shape,u=s===void 0?"funnel":s,f=t.funnelStyle,c=t.state,h=Ar(o,[n,a]),p=h.fields,d=h.formatter;Qe({chart:r,options:{type:"interval",xField:n,yField:ia,colorField:n,tooltipFields:J(p)&&p.concat([aa,gn]),mapping:{shape:u,tooltip:d,color:i,style:f},label:l,state:c}});var v=Me(e.chart,"interval");return v.adjust("symmetric"),e}function DK(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),e}function MT(e){var r=e.options,t=e.chart,n=r.maxSize,a=$(t,["geometries","0","dataArray"],[]),i=$(t,["options","data","length"]),o=Gt(a,function(s){return $(s,["0","nextPoints","0","x"])*i-.5}),l=function(s,u,f,c){var h=n-(n-s[ia])/2;return T(T({},c),{start:[o[u-1]||u-.5,h],end:[o[u-1]||u-.5,h+.05]})};return yg(l)(e),e}function OT(e){return gt(LK,RK,DK,MT)(e)}function BK(e){var r,t=e.chart,n=e.options,a=n.data,i=a===void 0?[]:a,o=n.yField;return t.data(i),t.scale((r={},r[o]={sync:!0},r)),e}function _K(e){var r=e.chart,t=e.options,n=t.data,a=t.xField,i=t.yField,o=t.color,l=t.compareField,s=t.isTransposed,u=t.tooltip,f=t.maxSize,c=t.minSize,h=t.label,p=t.funnelStyle,d=t.state,v=t.showFacetTitle;return r.facet("mirror",{fields:[l],transpose:!s,padding:s?0:[32,0,0,0],showTitle:v,eachView:function(g,y){var m=s?y.rowIndex:y.columnIndex;s||g.coordinate({type:"rect",actions:[["transpose"],["scale",m===0?-1:1,-1]]});var b=gg(y.data,n,{yField:i,maxSize:f,minSize:c});g.data(b);var x=Ar(u,[a,i,l]),w=x.fields,S=x.formatter,A=s?{offset:m===0?10:-23,position:m===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:m===0?"end":"start"}};Qe({chart:g,options:{type:"interval",xField:a,yField:ia,colorField:a,tooltipFields:J(w)&&w.concat([aa,gn]),mapping:{shape:"funnel",tooltip:S,color:o,style:p},label:h===!1?!1:Z({},A,h),state:d}})}}),e}function kT(e){var r=e.chart,t=e.index,n=e.options,a=n.conversionTag,i=n.isTransposed;(mt(t)?[r]:r.views).forEach(function(o,l){var s=$(o,["geometries","0","dataArray"],[]),u=$(o,["options","data","length"]),f=Gt(s,function(h){return $(h,["0","nextPoints","0","x"])*u-.5}),c=function(h,p,d,v){var g=(t||l)===0?-1:1;return Z({},v,{start:[f[p-1]||p-.5,h[ia]],end:[f[p-1]||p-.5,h[ia]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:a!==!1?g*a.offsetX:0,style:{textAlign:(t||l)===0?"end":"start"}}})};yg(c)(Z({},{chart:o,options:n}))})}function NK(e){var r=e.chart;return r.once("beforepaint",function(){return kT(e)}),e}function $K(e){return gt(BK,_K,NK)(e)}function jK(e){var r=e.chart,t=e.options,n=t.data,a=n===void 0?[]:n,i=t.yField,o=Le(a,function(u,f){return u+(f[i]||0)},0),l=F1(a,i)[i],s=Gt(a,function(u,f){var c=[],h=[];if(u[md]=(u[i]||0)/o,f){var p=a[f-1][Il],d=a[f-1][El];c[0]=p[3],h[0]=d[3],c[1]=p[2],h[1]=d[2]}else c[0]=-.5,h[0]=1,c[1]=.5,h[1]=1;return h[2]=h[1]-u[md],c[2]=(h[2]+1)/4,h[3]=h[2],c[3]=-c[2],u[Il]=c,u[El]=h,u[aa]=(u[i]||0)/l,u[gn]=[$(a,[f-1,i]),u[i]],u});return r.data(s),e}function zK(e){var r=e.chart,t=e.options,n=t.xField,a=t.yField,i=t.color,o=t.tooltip,l=t.label,s=t.funnelStyle,u=t.state,f=Ar(o,[n,a]),c=f.fields,h=f.formatter;return Qe({chart:r,options:{type:"polygon",xField:Il,yField:El,colorField:n,tooltipFields:J(c)&&c.concat([aa,gn]),label:l,state:u,mapping:{tooltip:h,color:i,style:s}}}),e}function HK(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),e}function VK(e){var r=function(t,n,a,i){return T(T({},i),{start:[t[Il][1],t[El][1]],end:[t[Il][1]+.05,t[El][1]]})};return yg(r)(e),e}function WK(e){return gt(jK,zK,HK,VK)(e)}function GK(e){var r,t=e.chart,n=e.options,a=n.data,i=a===void 0?[]:a,o=n.yField;return t.data(i),t.scale((r={},r[o]={sync:!0},r)),e}function YK(e){var r=e.chart,t=e.options,n=t.seriesField,a=t.isTransposed,i=t.showFacetTitle;return r.facet("rect",{fields:[n],padding:[a?0:32,10,0,10],showTitle:i,eachView:function(o,l){OT(Z({},e,{chart:o,options:{data:l.data}}))}}),e}function qK(e){return gt(GK,YK)(e)}var XK=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.rendering=!1,t}return r.prototype.change=function(t){var n=this;if(!this.rendering){var a=t.seriesField,i=t.compareField,o=i?kT:MT,l=this.context.view,s=a||i?l.views:[l];Gt(s,function(u,f){var c=u.getController("annotation"),h=Ee($(c,["option"],[]),function(d){var v=d.name;return v!==ET});c.clear(!0),B(h,function(d){typeof d=="object"&&u.annotation()[d.type](d)});var p=$(u,["filteredData"],u.getOptions().data);o({chart:u,index:f,options:T(T({},t),{filteredData:gg(p,p,t)})}),u.filterData(p),n.rendering=!0,u.render(!0)})}this.rendering=!1},r}(Ht),FT="funnel-conversion-tag",xd="funnel-afterrender",PT={trigger:"afterrender",action:"".concat(FT,":change")};ft(FT,XK);xt(xd,{start:[PT]});function UK(e){var r=e.options,t=r.compareField,n=r.xField,a=r.yField,i=r.locale,o=r.funnelStyle,l=r.data,s=qc(i),u={label:t?{fields:[n,a,t,aa,gn],formatter:function(c){return"".concat(c[a])}}:{fields:[n,a,aa,gn],offset:0,position:"middle",formatter:function(c){return"".concat(c[n]," ").concat(c[a])}},tooltip:{title:n,formatter:function(c){return{name:c[n],value:c[a]}}},conversionTag:{formatter:function(c){return"".concat(s.get(["conversionTag","label"]),": ").concat(CT.apply(void 0,c[gn]))}}},f;return(t||o)&&(f=function(c){return Z({},t&&{lineWidth:1,stroke:"#fff"},lt(o)?o(c):o)}),Z({options:u},e,{options:{funnelStyle:f,data:_e(l)}})}function KK(e){var r=e.options,t=r.compareField,n=r.dynamicHeight,a=r.seriesField;return a?qK(e):t?$K(e):n?WK(e):OT(e)}function ZK(e){var r,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return gt(te((r={},r[i]=n,r[o]=a,r)))(e)}function QK(e){var r=e.chart;return r.axis(!1),e}function JK(e){var r=e.chart,t=e.options,n=t.legend;return n===!1?r.legend(!1):r.legend(n),e}function tZ(e){var r=e.chart,t=e.options,n=t.interactions,a=t.dynamicHeight;return B(n,function(i){i.enable===!1?r.removeInteraction(i.type):r.interaction(i.type,i.cfg||{})}),a?r.removeInteraction(xd):r.interaction(xd,{start:[T(T({},PT),{arg:t})]}),e}function LT(e){return gt(UK,KK,ZK,QK,de,tZ,JK,$t,Et,Xt())(e)}var eZ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="funnel",t}return r.getDefaultOptions=function(){return PK},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return LT},r.prototype.setState=function(t,n,a){a===void 0&&(a=!0);var i=Tl(this.chart);B(i,function(o){n(o.getData())&&o.setState(t,a)})},r.prototype.getStates=function(){var t=Tl(this.chart),n=[];return B(t,function(a){var i=a.getData(),o=a.getStates();B(o,function(l){n.push({data:i,state:l,geometry:a.geometry,element:a})})}),n},r.CONVERSATION_FIELD=gn,r.PERCENT_FIELD=aa,r.TOTAL_PERCENT_FIELD=md,r}(bt),Vs,mg="range",RT="type",pn="percent",rZ="#f0f0f0",DT="indicator-view",BT="range-view",nZ={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(Vs={},Vs[mg]={sync:"v"},Vs[pn]={sync:"v",tickCount:5,tickInterval:.2},Vs),animation:!1};function aZ(e,r){return e.map(function(t,n){var a;return a={},a[mg]=t-(e[n-1]||0),a[RT]="".concat(n),a[pn]=r,a})}function _T(e){var r;return[(r={},r[pn]=Wt(e,0,1),r)]}function NT(e,r){var t=$(r,["ticks"],[]),n=me(t)?Ya(t):[0,Wt(e,0,1),1];return n[0]||n.shift(),aZ(n,e)}function iZ(e){var r=e.chart,t=e.options,n=t.percent,a=t.range,i=t.radius,o=t.innerRadius,l=t.startAngle,s=t.endAngle,u=t.axis,f=t.indicator,c=t.gaugeStyle,h=t.type,p=t.meter,d=a.color,v=a.width;if(f){var g=_T(n),y=r.createView({id:DT});y.data(g),y.point().position("".concat(pn,"*1")).shape(f.shape||"gauge-indicator").customInfo({defaultColor:r.getTheme().defaultColor,indicator:f}),y.coordinate("polar",{startAngle:l,endAngle:s,radius:o*i}),y.axis(pn,u),y.scale(pn,Dt(u,Ye))}var m=NT(n,t.range),b=r.createView({id:BT});b.data(m);var x=dt(d)?[d,rZ]:d,w=Oe({chart:b,options:{xField:"1",yField:mg,seriesField:RT,rawFields:[pn],isStack:!0,interval:{color:x,style:c,shape:h==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:v,maxColumnWidth:v}}).ext,S=w.geometry;return S.customInfo({meter:p}),b.coordinate("polar",{innerRadius:o,radius:i,startAngle:l,endAngle:s}).transpose(),e}function oZ(e){var r;return gt(te((r={range:{min:0,max:1,maxLimit:1,minLimit:0}},r[pn]={},r)))(e)}function $T(e,r){var t=e.chart,n=e.options,a=n.statistic,i=n.percent;if(t.getController("annotation").clear(!0),a){var o=a.content,l=void 0;o&&(l=Z({},{content:"".concat((i*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),gU(t,{statistic:T(T({},a),{content:l})},{percent:i})}return r&&t.render(!0),e}function lZ(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(Z({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(a,i){var o=$(i,[0,"data",pn],0);return"".concat((o*100).toFixed(2),"%")}},n)):r.tooltip(!1),e}function sZ(e){var r=e.chart;return r.legend(!1),e}function jT(e){return gt(Et,$t,iZ,oZ,lZ,$T,Yt,Xt(),sZ)(e)}Pt("point","gauge-indicator",{draw:function(e,r){var t=e.customInfo,n=t.indicator,a=t.defaultColor,i=n,o=i.pointer,l=i.pin,s=r.addGroup(),u=this.parsePoint({x:0,y:0});return o&&s.addShape("line",{name:"pointer",attrs:T({x1:u.x,y1:u.y,x2:e.x,y2:e.y,stroke:a},o.style)}),l&&s.addShape("circle",{name:"pin",attrs:T({x:u.x,y:u.y,stroke:a},l.style)}),s}});Pt("interval","meter-gauge",{draw:function(e,r){var t=e.customInfo.meter,n=t===void 0?{}:t,a=n.steps,i=a===void 0?50:a,o=n.stepRatio,l=o===void 0?.5:o;i=i<1?1:i,l=Wt(l,0,1);var s=this.coordinate,u=s.startAngle,f=s.endAngle,c=0;if(l>0&&l<1){var h=f-u;c=h/i/(l/(1-l)+1-1/i)}for(var p=c/(1-l)*l,d=r.addGroup(),v=this.coordinate.getCenter(),g=this.coordinate.getRadius(),y=Ke.getAngle(e,this.coordinate),m=y.startAngle,b=y.endAngle,x=m;x<b;){var w=void 0,S=(x-u)%(p+c);S<p?w=x+(p-S):(x+=p+c-S,w=x+p);var A=Ke.getSectorPath(v.x,v.y,g,x,Math.min(w,b),g*this.coordinate.innerRadius);d.addShape("path",{name:"meter-gauge",attrs:{path:A,fill:e.color,stroke:e.color,lineWidth:.5}}),x=w+c}return d}});var uZ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t}return r.getDefaultOptions=function(){return nZ},r.prototype.changeData=function(t){this.chart.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this.chart,wt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(i){return i.id===DT});n&&n.data(_T(t));var a=this.chart.views.find(function(i){return i.id===BT});a&&a.data(NT(t,this.options.range)),$T({chart:this.chart,options:this.options},!0),this.chart.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this.chart,wt.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return jT},r}(bt);function Sb(e,r,t){if(t===1)return[0,r];var n=Math.floor(e/r);return[r*n,r*(n+1)]}function cZ(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function zT(e,r,t,n,a){var i=_e(e);yz(i,r);var o=Lr(i,r),l=O1(o),s=l.max-l.min,u=t;if(!t&&n&&(u=n>1?s/(n-1):l.max),!t&&!n){var f=cZ(o);u=s/f}var c={},h=er(i,a);Ue(h)?B(i,function(d){var v=d[r],g=Sb(v,u,n),y="".concat(g[0],"-").concat(g[1]);Qn(c,y)||(c[y]={range:g,count:0}),c[y].count+=1}):Object.keys(h).forEach(function(d){B(h[d],function(v){var g=v[r],y=Sb(g,u,n),m="".concat(y[0],"-").concat(y[1]),b="".concat(m,"-").concat(d);Qn(c,b)||(c[b]={range:y,count:0},c[b][a]=d),c[b].count+=1})});var p=[];return B(c,function(d){p.push(d)}),p}var Vu="range",Ml="count",fZ=Z({},bt.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function hZ(e){var r=e.chart,t=e.options,n=t.data,a=t.binField,i=t.binNumber,o=t.binWidth,l=t.color,s=t.stackField,u=t.legend,f=t.columnStyle,c=zT(n,a,o,i,s);r.data(c);var h=Z({},e,{options:{xField:Vu,yField:Ml,seriesField:s,isStack:!0,interval:{color:l,style:f}}});return Oe(h),u&&s?r.legend(s,u):r.legend(!1),e}function pZ(e){var r,t=e.options,n=t.xAxis,a=t.yAxis;return gt(te((r={},r[Vu]=n,r[Ml]=a,r)))(e)}function dZ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis;return n===!1?r.axis(Vu,!1):r.axis(Vu,n),a===!1?r.axis(Ml,!1):r.axis(Ml,a),e}function vZ(e){var r=e.chart,t=e.options,n=t.label,a=Me(r,"interval");if(!n)a.label(!1);else{var i=n.callback,o=_t(n,["callback"]);a.label({fields:[Ml],callback:i,cfg:xe(o)})}return e}function HT(e){return gt(Et,cr("columnStyle"),hZ,pZ,dZ,ha,vZ,de,Yt,$t)(e)}var gZ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t}return r.getDefaultOptions=function(){return fZ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,a=n.binField,i=n.binNumber,o=n.binWidth,l=n.stackField;this.chart.changeData(zT(t,a,o,i,l))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return HT},r}(bt),yZ=Z({},bt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),mZ=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var a=n.data.items,i=t.geometries.filter(function(o){return o.type==="point"});B(i,function(o){B(o.elements,function(l){var s=M1(a,function(u){return u.data===l.data})!==-1;l.setState("active",s)})})}},r.prototype.reset=function(){var t=this.getView(),n=t.geometries.filter(function(a){return a.type==="point"});B(n,function(a){B(a.elements,function(i){i.setState("active",!1)})})},r.prototype.getView=function(){return this.context.view},r}(Ht);ft("marker-active",mZ);xt("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var VT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t}return r.getDefaultOptions=function(){return yZ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;Jc({chart:a,options:i}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return bT},r}(bt),WT=Z({},bt.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),xZ=[1,0,0,0,1,0,0,0,1];function bd(e,r){var t=r?pt([],r,!0):pt([],xZ,!0);return Ke.transform(t,e)}var bZ=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getActiveElements=function(){var t=Ke.getDelegationObject(this.context);if(t){var n=this.context.view,a=t.component,i=t.item,o=a.get("field");if(o){var l=n.geometries[0].elements;return l.filter(function(s){return s.getModel().data[o]===i.value})}}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements(),a=t.geometries[0].labelsContainer.getChildren();return a.filter(function(i){return n.find(function(o){return Jt(o.getData(),i.get("data"))})})},r.prototype.transfrom=function(t){t===void 0&&(t=7.5);var n=this.getActiveElements(),a=this.getActiveElementLabels();n.forEach(function(i,o){var l=a[o],s=i.geometry.coordinate;if(s.isPolar&&s.isTransposed){var u=Ke.getAngle(i.getModel(),s),f=u.startAngle,c=u.endAngle,h=(f+c)/2,p=t,d=p*Math.cos(h),v=p*Math.sin(h);i.shape.setMatrix(bd([["t",d,v]])),l.setMatrix(bd([["t",d,v]]))}})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r}(Ht);function wZ(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}var SZ=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAnnotations=function(t){var n=t||this.context.view;return n.getController("annotation").option},r.prototype.getInitialAnnotation=function(){return this.initialAnnotation},r.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var a=t.getAnnotations(n);t.initialAnnotation=a})},r.prototype.change=function(t){var n=this.context,a=n.view,i=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=$(i,["data","data"]);if(i.type.match("legend-item")){var l=Ke.getDelegationObject(this.context),s=a.getGroupedFields()[0];if(l&&s){var u=l.item;o=a.getData().find(function(p){return p[s]===u.value})}}if(o){var f=$(t,"annotations",[]),c=$(t,"statistic",{});a.getController("annotation").clear(!0),B(f,function(p){typeof p=="object"&&a.annotation()[p.type](p)}),Gc(a,{statistic:c,plotType:"pie"},o),a.render(!0)}var h=wZ(this.context);h&&h.shape.toFront()},r.prototype.reset=function(){var t=this.context.view,n=t.getController("annotation");n.clear(!0);var a=this.getInitialAnnotation();B(a,function(i){t.annotation()[i.type](i)}),t.render(!0)},r}(Ht),GT="pie-statistic";ft(GT,SZ);xt("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]});ft("pie-legend",bZ);xt("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function CZ(e,r){var t=null;return B(e,function(n){typeof n[r]=="number"&&(t+=n[r])}),t}function AZ(e,r){var t;switch(e){case"inner":return t="-30%",dt(r)&&r.endsWith("%")?parseFloat(r)*.01>0?t:r:r<0?r:t;case"outer":return t=12,dt(r)&&r.endsWith("%")?parseFloat(r)*.01<0?t:r:r>0?r:t;default:return r}}function Wu(e,r){return qd(Yi(e,r),function(t){return t[r]===0})}function TZ(e){var r=e.chart,t=e.options,n=t.data,a=t.angleField,i=t.colorField,o=t.color,l=t.pieStyle,s=t.shape,u=Yi(n,a);if(Wu(u,a)){var f="$$percentage$$";u=u.map(function(h){var p;return T(T({},h),(p={},p[f]=1/u.length,p))}),r.data(u);var c=Z({},e,{options:{xField:"1",yField:f,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:l},args:{zIndexReversed:!0,sortZIndex:!0}}});Oe(c)}else{r.data(u);var c=Z({},e,{options:{xField:"1",yField:a,seriesField:i,isStack:!0,interval:{color:o,shape:s,style:l},args:{zIndexReversed:!0,sortZIndex:!0}}});Oe(c)}return e}function IZ(e){var r,t=e.chart,n=e.options,a=n.meta,i=n.colorField,o=Z({},a);return t.scale(o,(r={},r[i]={type:"cat"},r)),e}function EZ(e){var r=e.chart,t=e.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return r.coordinate({type:"theta",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}),e}function MZ(e){var r=e.chart,t=e.options,n=t.label,a=t.colorField,i=t.angleField,o=r.geometries[0];if(!n)o.label(!1);else{var l=n.callback,s=_t(n,["callback"]),u=xe(s);if(u.content){var f=u.content;u.content=function(d,v,g){var y=d[a],m=d[i],b=r.getScaleByField(i),x=b==null?void 0:b.scale(m);return lt(f)?f(T(T({},d),{percent:x}),v,g):dt(f)?lT(f,{value:m,name:y,percentage:mt(x)&&!Q(m)?"".concat((x*100).toFixed(2),"%"):null}):f}}var c={inner:"",outer:"pie-outer",spider:"pie-spider"},h=u.type?c[u.type]:"pie-outer",p=u.layout?J(u.layout)?u.layout:[u.layout]:[];u.layout=(h?[{type:h}]:[]).concat(p),o.label({fields:a?[i,a]:[i],callback:l,cfg:T(T({},u),{offset:AZ(u.type,u.offset),type:"pie"})})}return e}function YT(e){var r=e.innerRadius,t=e.statistic,n=e.angleField,a=e.colorField,i=e.meta,o=e.locale,l=qc(o);if(r&&t){var s=Z({},WT.statistic,t),u=s.title,f=s.content;return u!==!1&&(u=Z({},{formatter:function(c){var h=c?c[a]:Q(u.content)?l.get(["statistic","total"]):u.content,p=$(i,[a,"formatter"])||function(d){return d};return p(h)}},u)),f!==!1&&(f=Z({},{formatter:function(c,h){var p=c?c[n]:CZ(h,n),d=$(i,[n,"formatter"])||function(v){return v};return c||Q(f.content)?d(p):f.content}},f)),Z({},{statistic:{title:u,content:f}},e)}return e}function qT(e){var r=e.chart,t=e.options,n=YT(t),a=n.innerRadius,i=n.statistic;return r.getController("annotation").clear(!0),gt(Xt())(e),a&&i&&Gc(r,{statistic:i,plotType:"pie"}),e}function OZ(e){var r=e.chart,t=e.options,n=t.tooltip,a=t.colorField,i=t.angleField,o=t.data;if(n===!1)r.tooltip(n);else if(r.tooltip(Z({},n,{shared:!1})),Wu(o,i)){var l=$(n,"fields"),s=$(n,"formatter");Ue($(n,"fields"))&&(l=[a,i],s=s||function(u){return{name:u[a],value:Bl(u[i])}}),r.geometries[0].tooltip(l.join("*"),mi(l,s))}return e}function kZ(e){var r=e.chart,t=e.options,n=YT(t),a=n.interactions,i=n.statistic,o=n.annotations;return B(a,function(l){var s,u;if(l.enable===!1)r.removeInteraction(l.type);else if(l.type==="pie-statistic-active"){var f=[];!((s=l.cfg)===null||s===void 0)&&s.start||(f=[{trigger:"element:mouseenter",action:"".concat(GT,":change"),arg:{statistic:i,annotations:o}}]),B((u=l.cfg)===null||u===void 0?void 0:u.start,function(c){f.push(T(T({},c),{arg:{statistic:i,annotations:o}}))}),r.interaction(l.type,Z({},l.cfg,{start:f}))}else r.interaction(l.type,l.cfg||{})}),e}function XT(e){return gt(cr("pieStyle"),TZ,IZ,Et,EZ,ho,OZ,MZ,ha,qT,kZ,$t)(e)}var UT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return WT},r.prototype.changeData=function(t){this.chart.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this.chart,wt.BEFORE_CHANGE_DATA,null));var n=this.options,a=this.options.angleField,i=Yi(n.data,a),o=Yi(t,a);Wu(i,a)||Wu(o,a)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),qT({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this.chart,wt.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return XT},r}(bt),KT=["#FAAD14","#E8EDF3"],FZ={percent:.2,color:KT,animation:{}};function xg(e){var r=Wt(Za(e)?e:0,0,1);return[{current:"".concat(r),type:"current",percent:r},{current:"".concat(r),type:"target",percent:1}]}function ZT(e){var r=e.chart,t=e.options,n=t.percent,a=t.progressStyle,i=t.color,o=t.barWidthRatio;r.data(xg(n));var l=Z({},e,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:a,color:dt(i)?[i,KT[1]]:i},args:{zIndexReversed:!0,sortZIndex:!0}}});return Oe(l),r.tooltip(!1),r.axis(!1),r.legend(!1),e}function PZ(e){var r=e.chart;return r.coordinate("rect").transpose(),e}function QT(e){return gt(ZT,te({}),PZ,$t,Et,Xt())(e)}var JT=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="process",t}return r.getDefaultOptions=function(){return FZ},r.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(xg(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return QT},r}(bt);function LZ(e){var r=e.chart,t=e.options,n=t.innerRadius,a=t.radius;return r.coordinate("theta",{innerRadius:n,radius:a}),e}function tI(e,r){var t=e.chart,n=e.options,a=n.innerRadius,i=n.statistic,o=n.percent,l=n.meta;if(t.getController("annotation").clear(!0),a&&i){var s=$(l,["percent","formatter"])||function(f){return"".concat((f*100).toFixed(2),"%")},u=i.content;u&&(u=Z({},u,{content:Q(u.content)?s(o):u.content})),Gc(t,{statistic:T(T({},i),{content:u}),plotType:"ring-progress"},{percent:o})}return r&&t.render(!0),e}function eI(e){return gt(ZT,te({}),LZ,tI,$t,Et,Xt())(e)}var RZ={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},rI=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ring-process",t}return r.getDefaultOptions=function(){return RZ},r.prototype.changeData=function(t){this.chart.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this.chart,wt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(xg(t)),tI({chart:this.chart,options:this.options},!0),this.chart.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this.chart,wt.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return eI},r}(bt);function oa(e,r){return DZ(e)||BZ(e,r)||_Z()}function DZ(e){if(Array.isArray(e))return e}function BZ(e,r){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(t.push(l.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}function _Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function bg(e,r,t,n){e=e.filter(function(d,v){var g=r(d,v),y=t(d,v);return g!=null&&isFinite(g)&&y!=null&&isFinite(y)}),n&&e.sort(function(d,v){return r(d)-r(v)});for(var a=e.length,i=new Float64Array(a),o=new Float64Array(a),l=0,s=0,u,f,c,h=0;h<a;)c=e[h],i[h]=u=+r(c,h,e),o[h]=f=+t(c,h,e),++h,l+=(u-l)/h,s+=(f-s)/h;for(var p=0;p<a;++p)i[p]-=l,o[p]-=s;return[i,o,l,s]}function ii(e,r,t,n){for(var a=0,i=0,o=e.length;i<o;i++){var l=e[i],s=+r(l,i,e),u=+t(l,i,e);s!=null&&isFinite(s)&&u!=null&&isFinite(u)&&n(s,u,a++)}}function vo(e,r,t,n,a){var i=0,o=0;return ii(e,r,t,function(l,s){var u=s-a(l),f=s-n;i+=u*u,o+=f*f}),1-i/o}function Cb(e){return Math.atan2(e[1][1]-e[0][1],e[1][0]-e[0][0])*180/Math.PI}function NZ(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function Ul(e,r,t){for(var n=Math.log(r-e)*Math.LOG10E+1|0,a=1*Math.pow(10,-n/2-1),i=1e4,o=[s(e),s(r)],l=0;u(o)&&l<i;);return o;function s(f){return[f,t(f)]}function u(f){l++;for(var c=f.length,h=!1,p=0;p<c-1;p++){var d=f[p],v=f[p+1],g=NZ([d,v]),y=s(g[0]),m=Cb([d,g]),b=Cb([d,y]),x=Math.abs(m-b);x>a&&(f.splice(p+1,0,y),h=!0)}return h}}function Kl(e,r,t,n){var a=n-e*e,i=Math.abs(a)<1e-24?0:(t-e*r)/a,o=r-i*e;return[o,i]}function $Z(){var e=function(i){return i[0]},r=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,f=0,c=t?+t[0]:1/0,h=t?+t[1]:-1/0;ii(a,e,r,function(b,x){var w=Math.log(x),S=b*x;++i,o+=(x-o)/i,s+=(S-s)/i,f+=(b*S-f)/i,l+=(x*w-l)/i,u+=(S*w-u)/i,t||(b<c&&(c=b),b>h&&(h=b))});var p=Kl(s/o,l/o,u/o,f/o),d=oa(p,2),v=d[0],g=d[1];v=Math.exp(v);var y=function(x){return v*Math.exp(g*x)},m=Ul(c,h,y);return m.a=v,m.b=g,m.predict=y,m.rSquared=vo(a,e,r,o,y),m}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(e=a,n):e},n.y=function(a){return arguments.length?(r=a,n):r},n}function nI(){var e=function(i){return i[0]},r=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,f=t?+t[0]:1/0,c=t?+t[1]:-1/0;ii(a,e,r,function(m,b){++i,o+=(m-o)/i,l+=(b-l)/i,s+=(m*b-s)/i,u+=(m*m-u)/i,t||(m<f&&(f=m),m>c&&(c=m))});var h=Kl(o,l,s,u),p=oa(h,2),d=p[0],v=p[1],g=function(b){return v*b+d},y=[[f,g(f)],[c,g(c)]];return y.a=v,y.b=d,y.predict=g,y.rSquared=vo(a,e,r,l,g),y}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(e=a,n):e},n.y=function(a){return arguments.length?(r=a,n):r},n}function jZ(e){e.sort(function(t,n){return t-n});var r=e.length/2;return r%1===0?(e[r-1]+e[r])/2:e[Math.floor(r)]}var Ab=2,Tb=1e-12;function zZ(){var e=function(i){return i[0]},r=function(i){return i[1]},t=.3;function n(a){for(var i=bg(a,e,r,!0),o=oa(i,4),l=o[0],s=o[1],u=o[2],f=o[3],c=l.length,h=Math.max(2,~~(t*c)),p=new Float64Array(c),d=new Float64Array(c),v=new Float64Array(c).fill(1),g=-1;++g<=Ab;){for(var y=[0,h-1],m=0;m<c;++m){for(var b=l[m],x=y[0],w=y[1],S=b-l[x]>l[w]-b?x:w,A=0,I=0,k=0,E=0,M=0,O=1/Math.abs(l[S]-b||1),F=x;F<=w;++F){var L=l[F],D=s[F],_=HZ(Math.abs(b-L)*O)*v[F],z=L*_;A+=_,I+=z,k+=D*_,E+=D*z,M+=L*z}var X=Kl(I/A,k/A,E/A,M/A),V=oa(X,2),N=V[0],P=V[1];p[m]=N+P*b,d[m]=Math.abs(s[m]-p[m]),VZ(l,m+1,y)}if(g===Ab)break;var j=jZ(d);if(Math.abs(j)<Tb)break;for(var H=0,Y,G;H<c;++H)Y=d[H]/(6*j),v[H]=Y>=1?Tb:(G=1-Y*Y)*G}return WZ(l,p,u,f)}return n.bandwidth=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(e=a,n):e},n.y=function(a){return arguments.length?(r=a,n):r},n}function HZ(e){return(e=1-e*e*e)*e*e}function VZ(e,r,t){var n=e[r],a=t[0],i=t[1]+1;if(!(i>=e.length))for(;r>a&&e[i]-n<=n-e[a];)t[0]=++a,t[1]=i,++i}function WZ(e,r,t,n){for(var a=e.length,i=[],o=0,l=0,s=[],u;o<a;++o)u=e[o]+t,s[0]===u?s[1]+=(r[o]-s[1])/++l:(l=0,s[1]+=n,s=[u,r[o]],i.push(s));return s[1]+=n,i}function GZ(){var e=function(o){return o[0]},r=function(o){return o[1]},t=Math.E,n;function a(i){var o=0,l=0,s=0,u=0,f=0,c=n?+n[0]:1/0,h=n?+n[1]:-1/0,p=Math.log(t);ii(i,e,r,function(x,w){var S=Math.log(x)/p;++o,l+=(S-l)/o,s+=(w-s)/o,u+=(S*w-u)/o,f+=(S*S-f)/o,n||(x<c&&(c=x),x>h&&(h=x))});var d=Kl(l,s,u,f),v=oa(d,2),g=v[0],y=v[1],m=function(w){return y*Math.log(w)/p+g},b=Ul(c,h,m);return b.a=y,b.b=g,b.predict=m,b.rSquared=vo(i,e,r,s,m),b}return a.domain=function(i){return arguments.length?(n=i,a):n},a.x=function(i){return arguments.length?(e=i,a):e},a.y=function(i){return arguments.length?(r=i,a):r},a.base=function(i){return arguments.length?(t=i,a):t},a}function aI(){var e=function(i){return i[0]},r=function(i){return i[1]},t;function n(a){var i=bg(a,e,r),o=oa(i,4),l=o[0],s=o[1],u=o[2],f=o[3],c=l.length,h=0,p=0,d=0,v=0,g=0,y,m,b,x;for(y=0;y<c;)m=l[y],b=s[y++],x=m*m,h+=(x-h)/y,p+=(x*m-p)/y,d+=(x*x-d)/y,v+=(m*b-v)/y,g+=(x*b-g)/y;var w=0,S=0,A=t?+t[0]:1/0,I=t?+t[1]:-1/0;ii(a,e,r,function(_,z){S++,w+=(z-w)/S,t||(_<A&&(A=_),_>I&&(I=_))});var k=d-h*h,E=h*k-p*p,M=(g*h-v*p)/E,O=(v*k-g*p)/E,F=-M*h,L=function(z){return z=z-u,M*z*z+O*z+F+f},D=Ul(A,I,L);return D.a=M,D.b=O-2*M*u,D.c=F-O*u+M*u*u+f,D.predict=L,D.rSquared=vo(a,e,r,w,L),D}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(e=a,n):e},n.y=function(a){return arguments.length?(r=a,n):r},n}function YZ(){var e=function(o){return o[0]},r=function(o){return o[1]},t=3,n;function a(i){if(t===1){var o=nI().x(e).y(r).domain(n)(i);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(t===2){var l=aI().x(e).y(r).domain(n)(i);return l.coefficients=[l.c,l.b,l.a],delete l.a,delete l.b,delete l.c,l}var s=bg(i,e,r),u=oa(s,4),f=u[0],c=u[1],h=u[2],p=u[3],d=f.length,v=[],g=[],y=t+1,m=0,b=0,x=n?+n[0]:1/0,w=n?+n[1]:-1/0;ii(i,e,r,function(L,D){++b,m+=(D-m)/b,n||(L<x&&(x=L),L>w&&(w=L))});var S,A,I,k,E;for(S=0;S<y;++S){for(I=0,k=0;I<d;++I)k+=Math.pow(f[I],S)*c[I];for(v.push(k),E=new Float64Array(y),A=0;A<y;++A){for(I=0,k=0;I<d;++I)k+=Math.pow(f[I],S+A);E[A]=k}g.push(E)}g.push(v);var M=XZ(g),O=function(D){D-=h;var _=p+M[0]+M[1]*D+M[2]*D*D;for(S=3;S<y;++S)_+=M[S]*Math.pow(D,S);return _},F=Ul(x,w,O);return F.coefficients=qZ(y,M,-h,p),F.predict=O,F.rSquared=vo(i,e,r,m,O),F}return a.domain=function(i){return arguments.length?(n=i,a):n},a.x=function(i){return arguments.length?(e=i,a):e},a.y=function(i){return arguments.length?(r=i,a):r},a.order=function(i){return arguments.length?(t=i,a):t},a}function qZ(e,r,t,n){var a=Array(e),i,o,l,s;for(i=0;i<e;++i)a[i]=0;for(i=e-1;i>=0;--i)for(l=r[i],s=1,a[i]+=l,o=1;o<=i;++o)s*=(i+1-o)/o,a[i-o]+=l*Math.pow(t,o)*s;return a[0]+=n,a}function XZ(e){var r=e.length-1,t=[],n,a,i,o,l;for(n=0;n<r;++n){for(o=n,a=n+1;a<r;++a)Math.abs(e[n][a])>Math.abs(e[n][o])&&(o=a);for(i=n;i<r+1;++i)l=e[i][n],e[i][n]=e[i][o],e[i][o]=l;for(a=n+1;a<r;++a)for(i=r;i>=n;i--)e[i][a]-=e[i][n]*e[n][a]/e[n][n]}for(a=r-1;a>=0;--a){for(l=0,i=a+1;i<r;++i)l+=e[i][a]*t[i];t[a]=(e[r][a]-l)/e[a][a]}return t}function UZ(){var e=function(i){return i[0]},r=function(i){return i[1]},t;function n(a){var i=0,o=0,l=0,s=0,u=0,f=0,c=t?+t[0]:1/0,h=t?+t[1]:-1/0;ii(a,e,r,function(b,x){var w=Math.log(b),S=Math.log(x);++i,o+=(w-o)/i,l+=(S-l)/i,s+=(w*S-s)/i,u+=(w*w-u)/i,f+=(x-f)/i,t||(b<c&&(c=b),b>h&&(h=b))});var p=Kl(o,l,s,u),d=oa(p,2),v=d[0],g=d[1];v=Math.exp(v);var y=function(x){return v*Math.pow(x,g)},m=Ul(c,h,y);return m.a=v,m.b=g,m.predict=y,m.rSquared=vo(a,e,r,f,y),m}return n.domain=function(a){return arguments.length?(t=a,n):t},n.x=function(a){return arguments.length?(e=a,n):e},n.y=function(a){return arguments.length?(r=a,n):r},n}var KZ={exp:$Z,linear:nI,loess:zZ,log:GZ,poly:YZ,pow:UZ,quad:aI};function ZZ(e,r){var t=10,n={regionStyle:[{position:{start:[e,"max"],end:["max",r]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,r]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",r],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,r],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",r],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",r],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var QZ=function(e,r){var t=r.view,n=r.options,a=n.xField,i=n.yField,o=t.getScaleByField(a),l=t.getScaleByField(i),s=e.map(function(u){return t.getCoordinate().convert({x:o.scale(u[0]),y:l.scale(u[1])})});return vU(s,!1)},JZ=function(e){var r=e.options,t=r.xField,n=r.yField,a=r.data,i=r.regressionLine,o=i.type,l=o===void 0?"linear":o,s=i.algorithm,u=i.equation,f,c=null;if(s)f=J(s)?s:s(a),c=u;else{var h=KZ[l]().x(function(p){return p[t]}).y(function(p){return p[n]});f=h(a),c=eQ(l,f)}return[QZ(f,e),c]},tQ=function(e){var r,t=e.meta,n=t===void 0?{}:t,a=e.xField,i=e.yField,o=e.data,l=o[0][a],s=o[0][i],u=l>0,f=s>0;function c(h,p){var d=$(n,[h]);function v(y){return $(d,y)}var g={};return p==="x"?(mt(l)&&(mt(v("min"))||(g.min=u?0:l*2),mt(v("max"))||(g.max=u?l*2:0)),g):(mt(s)&&(mt(v("min"))||(g.min=f?0:s*2),mt(v("max"))||(g.max=f?s*2:0)),g)}return T(T({},n),(r={},r[a]=T(T({},n[a]),c(a,"x")),r[i]=T(T({},n[i]),c(i,"y")),r))};function eQ(e,r){var t,n,a,i=function(u,f){return f===void 0&&(f=4),Math.round(u*Math.pow(10,f))/Math.pow(10,f)},o=function(u){return Number.isFinite(u)?i(u):"?"};switch(e){case"linear":return"y = ".concat(o(r.a),"x + ").concat(o(r.b),", R^2 = ").concat(o(r.rSquared));case"exp":return"y = ".concat(o(r.a),"e^(").concat(o(r.b),"x), R^2 = ").concat(o(r.rSquared));case"log":return"y = ".concat(o(r.a),"ln(x) + ").concat(o(r.b),", R^2 = ").concat(o(r.rSquared));case"quad":return"y = ".concat(o(r.a),"x^2 + ").concat(o(r.b),"x + ").concat(o(r.c),", R^2 = ").concat(o(r.rSquared));case"poly":for(var l="y = ".concat(o((t=r.coefficients)===null||t===void 0?void 0:t[0])," + ").concat(o((n=r.coefficients)===null||n===void 0?void 0:n[1]),"x + ").concat(o((a=r.coefficients)===null||a===void 0?void 0:a[2]),"x^2"),s=3;s<r.coefficients.length;++s)l+=" + ".concat(o(r.coefficients[s]),"x^").concat(s);return"".concat(l,", R^2 = ").concat(o(r.rSquared));case"pow":return"y = ".concat(o(r.a),"x^").concat(o(r.b),", R^2 = ").concat(o(r.rSquared))}return null}function iI(e){var r=e.data,t=r===void 0?[]:r,n=e.xField,a=e.yField;if(t.length){for(var i=!0,o=!0,l=t[0],s=void 0,u=1;u<t.length&&(s=t[u],l[n]!==s[n]&&(i=!1),l[a]!==s[a]&&(o=!1),!(!i&&!o));u++)l=s;var f=[];i&&f.push(n),o&&f.push(a);var c=Dt(tQ(e),f);return Z({},e,{meta:c})}return e}function rQ(e){var r=e.chart,t=e.options,n=t.data,a=t.type,i=t.color,o=t.shape,l=t.pointStyle,s=t.shapeField,u=t.colorField,f=t.xField,c=t.yField,h=t.sizeField,p=t.size,d=t.tooltip;h&&(p||(p=[2,8]),mt(p)&&(p=[p,p])),d&&!d.fields&&(d=T(T({},d),{fields:[f,c,u,h,s]})),r.data(n),fr(Z({},e,{options:{seriesField:u,point:{color:i,shape:o,size:p,style:l},tooltip:d}}));var v=Me(r,"point");return a&&v.adjust(a),e}function iu(e){var r,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=iI(t);return gt(te((r={},r[i]=n,r[o]=a,r)))(Z({},e,{options:l}))}function nQ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return r.axis(i,n),r.axis(o,a),e}function aQ(e){var r=e.chart,t=e.options,n=t.legend,a=t.colorField,i=t.shapeField,o=t.sizeField,l=t.shapeLegend,s=t.sizeLegend,u=n!==!1;return a&&r.legend(a,u?n:!1),i&&(l?r.legend(i,l):r.legend(i,l===!1?!1:n)),o&&r.legend(o,s||!1),!u&&!l&&!s&&r.legend(!1),e}function iQ(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=Me(r,"point");if(!n)i.label(!1);else{var o=n.callback,l=_t(n,["callback"]);i.label({fields:[a],callback:o,cfg:xe(l)})}return e}function oQ(e){var r=e.options,t=r.quadrant,n=[];if(t){var a=t.xBaseline,i=a===void 0?0:a,o=t.yBaseline,l=o===void 0?0:o,s=t.labels,u=t.regionStyle,f=t.lineStyle,c=ZZ(i,l),h=new Array(4).join(",").split(",");h.forEach(function(p,d){n.push(T(T({type:"region",top:!1},c.regionStyle[d].position),{style:Z({},c.regionStyle[d].style,u==null?void 0:u[d])}),T({type:"text",top:!0},Z({},c.labelStyle[d],s==null?void 0:s[d])))}),n.push({type:"line",top:!1,start:["min",l],end:["max",l],style:Z({},c.lineStyle,f)},{type:"line",top:!1,start:[i,"min"],end:[i,"max"],style:Z({},c.lineStyle,f)})}return gt(Xt(n))(e)}function lQ(e){var r=e.options,t=e.chart,n=r.regressionLine;if(n){var a=n.style,i=n.equationStyle,o=i===void 0?{}:i,l=n.top,s=l===void 0?!1:l,u=n.showEquation,f=u===void 0?!1:u,c={stroke:"#9ba29a",lineWidth:2,opacity:.5},h={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};t.annotation().shape({top:s,render:function(p,d){var v=p.addGroup({id:"".concat(t.id,"-regression-line"),name:"regression-line-group"}),g=JZ({view:d,options:r}),y=g[0],m=g[1];v.addShape("path",{name:"regression-line",attrs:T(T({path:y},c),a)}),f&&v.addShape("text",{name:"regression-equation",attrs:T(T(T({},h),o),{text:m})})}})}return e}function sQ(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(n):n===!1&&r.tooltip(!1),e}function oI(e){return gt(rQ,iu,nQ,aQ,sQ,iQ,ST,ql,fg,Yt,oQ,$t,Et,lQ)(e)}var uQ=Z({},bt.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});xt("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var cQ=function(e){q(r,e);function r(t,n){var a=e.call(this,t,n)||this;return a.type="scatter",a.on(wt.BEFORE_RENDER,function(i){var o,l,s=a,u=s.options,f=s.chart;if(((o=i.data)===null||o===void 0?void 0:o.source)===He.FILTER){var c=a.chart.filterData(a.chart.getData());iu({chart:f,options:T(T({},u),{data:c})})}((l=i.data)===null||l===void 0?void 0:l.source)===He.RESET&&iu({chart:f,options:u})}),a}return r.getDefaultOptions=function(){return uQ},r.prototype.changeData=function(t){this.updateOption(iI(Z({},this.options,{data:t})));var n=this,a=n.options,i=n.chart;iu({chart:i,options:a}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return oI},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(bt),Ol="$$stock-range$$",ef="trend",lI="up",sI="down",fQ={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(e,r,t){var n;if(e==="x"){var a=t[0];n=a?a.title:r}else n=r;return{position:e==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},hQ=Z({},bt.getDefaultOptions(),{tooltip:fQ,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function uI(e,r){return Gt(e,function(t){var n=t&&T({},t);if(J(r)&&n){var a=r[0],i=r[1],o=r[2],l=r[3];n[ef]=n[a]<=n[i]?lI:sI,n[Ol]=[n[a],n[i],n[o],n[l]]}return n})}function pQ(e){var r=e.chart,t=e.options,n=t.yField,a=t.data,i=t.risingFill,o=t.fallingFill,l=t.tooltip,s=t.stockStyle;r.data(uI(a,n));var u=l;return u!==!1&&(u=Z({},{fields:n},u)),hg(Z({},e,{options:{schema:{shape:"candle",color:[i,o],style:s},yField:Ol,seriesField:ef,rawFields:n,tooltip:u}})),e}function dQ(e){var r,t,n=e.chart,a=e.options,i=a.meta,o=a.xAxis,l=a.yAxis,s=a.xField,u=(r={},r[s]={type:"timeCat",tickCount:6},r[ef]={values:[lI,sI]},r),f=Z(u,i,(t={},t[s]=Dt(o,Ye),t[Ol]=Dt(l,Ye),t));return n.scale(f),e}function vQ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?r.axis(Ol,!1):r.axis(Ol,a),e}function gQ(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==!1?r.tooltip(n):r.tooltip(!1),e}function yQ(e){var r=e.chart,t=e.options,n=t.legend;return n?r.legend(ef,n):n===!1&&r.legend(!1),e}function cI(e){gt(Et,pQ,dQ,vQ,gQ,yQ,Yt,$t,Xt(),ql)(e)}var mQ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stock",t}return r.getDefaultOptions=function(){return hQ},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return cI},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField;this.chart.changeData(uI(t,n))},r}(bt);function oi(e){return Gt(e||[],function(r,t){return{x:"".concat(t),y:r}})}var kl="x",Pi="y",fI={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return"".concat($(r,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},xQ={appendPadding:2,tooltip:T({},fI),animation:{}};function bQ(e){var r=e.chart,t=e.options,n=t.data,a=t.color,i=t.areaStyle,o=t.point,l=t.line,s=o==null?void 0:o.state,u=oi(n);r.data(u);var f=Z({},e,{options:{xField:kl,yField:Pi,area:{color:a,style:i},line:l,point:o}}),c=Z({},f,{options:{tooltip:!1}}),h=Z({},f,{options:{tooltip:!1,state:s}});return Xc(f),po(c),fr(h),r.axis(!1),r.legend(!1),e}function go(e){var r,t,n=e.options,a=n.xAxis,i=n.yAxis,o=n.data,l=oi(o);return gt(te((r={},r[kl]=a,r[Pi]=i,r),(t={},t[kl]={type:"cat"},t[Pi]=og(l,Pi),t)))(e)}function hI(e){return gt(cr("areaStyle"),bQ,go,de,Et,$t,Xt())(e)}var wQ={appendPadding:2,tooltip:T({},fI),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},SQ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-area",t}return r.getDefaultOptions=function(){return wQ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;go({chart:a,options:i}),a.changeData(oi(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return hI},r}(bt);function CQ(e){var r=e.chart,t=e.options,n=t.data,a=t.color,i=t.columnStyle,o=t.columnWidthRatio,l=oi(n);r.data(l);var s=Z({},e,{options:{xField:kl,yField:Pi,widthRatio:o,interval:{style:i,color:a}}});return Oe(s),r.axis(!1),r.legend(!1),r.interaction("element-active"),e}function pI(e){return gt(Et,cr("columnStyle"),CQ,go,de,$t,Xt())(e)}var AQ={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return"".concat($(r,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},TQ={appendPadding:2,tooltip:T({},AQ),animation:{}},dI=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-column",t}return r.getDefaultOptions=function(){return TQ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;go({chart:a,options:i}),a.changeData(oi(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return pI},r}(bt);function IQ(e){var r=e.chart,t=e.options,n=t.data,a=t.color,i=t.lineStyle,o=t.point,l=o==null?void 0:o.state,s=oi(n);r.data(s);var u=Z({},e,{options:{xField:kl,yField:Pi,line:{color:a,style:i},point:o}}),f=Z({},u,{options:{tooltip:!1,state:l}});return po(u),fr(f),r.axis(!1),r.legend(!1),e}function vI(e){return gt(IQ,go,Et,de,$t,Xt())(e)}var gI=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-line",t}return r.getDefaultOptions=function(){return xQ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,a=n.chart,i=n.options;go({chart:a,options:i}),a.changeData(oi(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return vI},r}(bt),EQ={line:bT,pie:XT,column:tf,bar:AT,area:wT,gauge:jT,"tiny-line":vI,"tiny-column":pI,"tiny-area":hI,"ring-progress":eI,progress:QT,scatter:oI,histogram:HT,funnel:LT,stock:cI},MQ={line:VT,pie:UT,column:IT,bar:TT,area:sK,gauge:uZ,"tiny-line":gI,"tiny-column":dI,"tiny-area":SQ,"ring-progress":rI,progress:JT,scatter:cQ,histogram:gZ,funnel:eZ,stock:mQ},OQ={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function wd(e,r,t){var n=MQ[e];if(!n){console.error("could not find ".concat(e," plot"));return}var a=EQ[e];a({chart:r,options:Z({},n.getDefaultOptions(),$(OQ,e,{}),t)})}function kQ(e){var r=e.chart,t=e.options,n=t.views,a=t.legend;return B(n,function(i){var o=i.region,l=i.data,s=i.meta,u=i.axes,f=i.coordinate,c=i.interactions,h=i.annotations,p=i.tooltip,d=i.geometries,v=r.createView({region:o});v.data(l);var g={};u&&B(u,function(y,m){g[m]=Dt(y,Ye)}),g=Z({},s,g),v.scale(g),u?B(u,function(y,m){v.axis(m,y)}):v.axis(!1),v.coordinate(f),B(d,function(y){var m=Qe({chart:v,options:y}).ext,b=y.adjust;b&&m.geometry.adjust(b)}),B(c,function(y){y.enable===!1?v.removeInteraction(y.type):v.interaction(y.type,y.cfg)}),B(h,function(y){v.annotation()[y.type](T({},y))}),typeof i.animation=="boolean"?v.animate(!1):(v.animate(!0),B(v.geometries,function(y){y.animate(i.animation)})),p&&(v.interaction("tooltip"),v.tooltip(p))}),a?B(a,function(i,o){r.legend(o,i)}):r.legend(!1),r.tooltip(t.tooltip),e}function FQ(e){var r=e.chart,t=e.options,n=t.plots,a=t.data,i=a===void 0?[]:a;return B(n,function(o){var l=o.type,s=o.region,u=o.options,f=u===void 0?{}:u,c=o.top,h=f.tooltip;if(c){wd(l,r,T(T({},f),{data:i}));return}var p=r.createView(T({region:s},Dt(f,gT)));h&&p.interaction("tooltip"),wd(l,p,T({data:i},f))}),e}function PQ(e){var r=e.chart,t=e.options;return r.option("slider",t.slider),e}function LQ(e){return gt($t,kQ,FQ,Yt,$t,Et,de,PQ,Xt())(e)}function RQ(e,r){var t=e.getModel(),n=t.data,a;return J(n)?a=n[0][r]:a=n[r],a}function DQ(e){var r=zu(e);B(r,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var BQ=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAssociationItems=function(t,n){var a,i=this.context.event,o=n||{},l=o.linkField,s=o.dim,u=[];if(!((a=i.data)===null||a===void 0)&&a.data){var f=i.data.data;B(t,function(c){var h,p,d=l;if(s==="x"?d=c.getXScale().field:s==="y"?d=(h=c.getYScales().find(function(g){return g.field===d}))===null||h===void 0?void 0:h.field:d||(d=(p=c.getGroupScales()[0])===null||p===void 0?void 0:p.field),!!d){var v=Gt(zu(c),function(g){var y=!1,m=!1,b=J(f)?$(f[0],d):$(f,d);return RQ(g,d)===b?y=!0:m=!0,{element:g,view:c,active:y,inactive:m}});u.push.apply(u,v)}})}return u},r.prototype.showTooltip=function(t){var n=xb(this.context.view),a=this.getAssociationItems(n,t);B(a,function(i){if(i.active){var o=i.element.shape.getCanvasBBox();i.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},r.prototype.hideTooltip=function(){var t=xb(this.context.view);B(t,function(n){n.hideTooltip()})},r.prototype.active=function(t){var n=$o(this.context.view),a=this.getAssociationItems(n,t);B(a,function(i){var o=i.active,l=i.element;o&&l.setState("active",!0)})},r.prototype.selected=function(t){var n=$o(this.context.view),a=this.getAssociationItems(n,t);B(a,function(i){var o=i.active,l=i.element;o&&l.setState("selected",!0)})},r.prototype.highlight=function(t){var n=$o(this.context.view),a=this.getAssociationItems(n,t);B(a,function(i){var o=i.inactive,l=i.element;o&&l.setState("inactive",!0)})},r.prototype.reset=function(){var t=$o(this.context.view);B(t,function(n){DQ(n)})},r}(Ht);ft("association",BQ);xt("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});xt("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});xt("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});xt("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="mix",t}return r.prototype.getSchemaAdaptor=function(){return LQ},r})(bt);var Ib;(function(e){e.DEV="DEV",e.BETA="BETA",e.STABLE="STABLE"})(Ib||(Ib={}));var tn="first-axes-view",en="second-axes-view",Fa="series-field-key";function yI(e,r,t,n,a){var i=[];r.forEach(function(c){n.forEach(function(h){var p,d=(p={},p[e]=h[e],p[t]=c,p[c]=h[c],p);i.push(d)})});var o=Object.values(er(i,t)),l=o[0],s=l===void 0?[]:l,u=o[1],f=u===void 0?[]:u;return a?[s.reverse(),f.reverse()]:[s,f]}function dn(e){return e!=="vertical"}function _Q(e,r,t){var n=r[0],a=r[1],i=n.autoPadding,o=a.autoPadding,l=e.__axisPosition,s=l.layout,u=l.position;if(dn(s)&&u==="top"&&(n.autoPadding=t.instance(i.top,0,i.bottom,i.left),a.autoPadding=t.instance(o.top,i.left,o.bottom,0)),dn(s)&&u==="bottom"&&(n.autoPadding=t.instance(i.top,i.right/2+5,i.bottom,i.left),a.autoPadding=t.instance(o.top,o.right,o.bottom,i.right/2+5)),!dn(s)&&u==="bottom"){var f=i.left>=o.left?i.left:o.left;n.autoPadding=t.instance(i.top,i.right,i.bottom/2+5,f),a.autoPadding=t.instance(i.bottom/2+5,o.right,o.bottom,f)}if(!dn(s)&&u==="top"){var f=i.left>=o.left?i.left:o.left;n.autoPadding=t.instance(i.top,i.right,0,f),a.autoPadding=t.instance(0,o.right,i.top,f)}}function NQ(e){var r=e.chart,t=e.options,n=t.data,a=t.xField,i=t.yField,o=t.color,l=t.barStyle,s=t.widthRatio,u=t.legend,f=t.layout,c=yI(a,i,Fa,n,dn(f));u?r.legend(Fa,u):u===!1&&r.legend(!1);var h,p,d=c[0],v=c[1];dn(f)?(h=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:tn}),h.coordinate().transpose().reflect("x"),p=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:en}),p.coordinate().transpose(),h.data(d),p.data(v)):(h=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:tn}),p=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:en}),p.coordinate().reflect("y"),h.data(d),p.data(v));var g=Z({},e,{chart:h,options:{widthRatio:s,xField:a,yField:i[0],seriesField:Fa,interval:{color:o,style:l}}});Oe(g);var y=Z({},e,{chart:p,options:{xField:a,yField:i[1],seriesField:Fa,widthRatio:s,interval:{color:o,style:l}}});return Oe(y),e}function $Q(e){var r,t,n,a=e.options,i=e.chart,o=a.xAxis,l=a.yAxis,s=a.xField,u=a.yField,f=St(i,tn),c=St(i,en),h={};return io((a==null?void 0:a.meta)||{}).map(function(p){$(a==null?void 0:a.meta,[p,"alias"])&&(h[p]=a.meta[p].alias)}),i.scale((r={},r[Fa]={sync:!0,formatter:function(p){return $(h,p,p)}},r)),te((t={},t[s]=o,t[u[0]]=l[u[0]],t))(Z({},e,{chart:f})),te((n={},n[s]=o,n[u[1]]=l[u[1]],n))(Z({},e,{chart:c})),e}function jQ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=t.layout,s=St(r,tn),u=St(r,en);return(n==null?void 0:n.position)==="bottom"?u.axis(i,T(T({},n),{label:{formatter:function(){return""}}})):u.axis(i,!1),n===!1?s.axis(i,!1):s.axis(i,T({position:dn(l)?"top":"bottom"},n)),a===!1?(s.axis(o[0],!1),u.axis(o[1],!1)):(s.axis(o[0],a[o[0]]),u.axis(o[1],a[o[1]])),r.__axisPosition={position:s.getOptions().axes[i].position,layout:l},e}function zQ(e){var r=e.chart;return Yt(Z({},e,{chart:St(r,tn)})),Yt(Z({},e,{chart:St(r,en)})),e}function HQ(e){var r=e.chart,t=e.options,n=t.yField,a=t.yAxis;return Qa(Z({},e,{chart:St(r,tn),options:{yAxis:a[n[0]]}})),Qa(Z({},e,{chart:St(r,en),options:{yAxis:a[n[1]]}})),e}function VQ(e){var r=e.chart;return Et(Z({},e,{chart:St(r,tn)})),Et(Z({},e,{chart:St(r,en)})),Et(e),e}function WQ(e){var r=e.chart;return $t(Z({},e,{chart:St(r,tn)})),$t(Z({},e,{chart:St(r,en)})),e}function GQ(e){var r=this,t,n,a=e.chart,i=e.options,o=i.label,l=i.yField,s=i.layout,u=St(a,tn),f=St(a,en),c=Me(u,"interval"),h=Me(f,"interval");if(!o)c.label(!1),h.label(!1);else{var p=o.callback,d=_t(o,["callback"]);d.position||(d.position="middle"),d.offset===void 0&&(d.offset=2);var v=T({},d);if(dn(s)){var g=((t=v.style)===null||t===void 0?void 0:t.textAlign)||(d.position==="middle"?"center":"left");d.style=Z({},d.style,{textAlign:g});var y={left:"right",right:"left",center:"center"};v.style=Z({},v.style,{textAlign:y[g]})}else{var m={top:"bottom",bottom:"top",middle:"middle"};typeof d.position=="string"?d.position=m[d.position]:typeof d.position=="function"&&(d.position=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];return m[d.position.apply(r,w)]});var b=((n=v.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";v.style=Z({},v.style,{textBaseline:b});var x={top:"bottom",bottom:"top",middle:"middle"};d.style=Z({},d.style,{textBaseline:x[b]})}c.label({fields:[l[0]],callback:p,cfg:xe(v)}),h.label({fields:[l[1]],callback:p,cfg:xe(d)})}return e}function YQ(e){return gt(NQ,$Q,jQ,HQ,VQ,GQ,de,zQ,WQ)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return r.getDefaultOptions=function(){return Z({},e.getDefaultOptions.call(this),{syncViewPadding:_Q})},r.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this.chart,wt.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,a=n.xField,i=n.yField,o=n.layout,l=yI(a,i,Fa,t,dn(o)),s=l[0],u=l[1],f=St(this.chart,tn),c=St(this.chart,en);f.data(s),c.data(u),this.chart.render(!0),this.chart.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this.chart,wt.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return YQ},r.SERIES_FIELD_KEY=Fa,r})(bt);var Eh,qi="$$range$$",qQ="low-q1-median-q3-high",XQ="$$y_outliers$$",mI="outliers_view",UQ=Z({},bt.getDefaultOptions(),{meta:(Eh={},Eh[qi]={min:0,alias:qQ},Eh),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),xI=function(e,r){var t=e;if(Array.isArray(r)){var n=r[0],a=r[1],i=r[2],o=r[3],l=r[4];t=Gt(e,function(s){return s[qi]=[s[n],s[a],s[i],s[o],s[l]],s})}return t};function KQ(e){var r=e.chart,t=e.options,n=t.xField,a=t.yField,i=t.groupField,o=t.color,l=t.tooltip,s=t.boxStyle;r.data(xI(t.data,a));var u=J(a)?qi:a,f=a?J(a)?a:[a]:[],c=l;c!==!1&&(c=Z({},{fields:J(a)?a:[]},c));var h=hg(Z({},e,{options:{xField:n,yField:u,seriesField:i,tooltip:c,rawFields:f,label:!1,schema:{shape:"box",color:o,style:s}}})).ext;return i&&h.geometry.adjust("dodge"),e}function ZQ(e){var r=e.chart,t=e.options,n=t.xField,a=t.data,i=t.outliersField,o=t.outliersStyle,l=t.padding,s=t.label;if(!i)return e;var u=r.createView({padding:l,id:mI}),f=a.reduce(function(c,h){var p=h[i];return p.forEach(function(d){var v;return c.push(T(T({},h),(v={},v[i]=d,v)))}),c},[]);return u.data(f),fr({chart:u,options:{xField:n,yField:i,point:{shape:"circle",style:o},label:s}}),u.axis(!1),e}function QQ(e){var r,t,n=e.chart,a=e.options,i=a.meta,o=a.xAxis,l=a.yAxis,s=a.xField,u=a.yField,f=a.outliersField,c=Array.isArray(u)?qi:u,h={};if(f){var p=XQ;h=(r={},r[f]={sync:p,nice:!0},r[c]={sync:p,nice:!0},r)}var d=Z(h,i,(t={},t[s]=Dt(o,Ye),t[c]=Dt(l,Ye),t));return n.scale(d),e}function JQ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField,l=Array.isArray(o)?qi:o;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?r.axis(qi,!1):r.axis(l,a),e}function tJ(e){var r=e.chart,t=e.options,n=t.legend,a=t.groupField;return a?n?r.legend(a,n):r.legend(a,{position:"bottom"}):r.legend(!1),e}function eJ(e){return gt(KQ,ZQ,QQ,JQ,tJ,de,Xt(),Yt,$t,Et)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="box",t}return r.getDefaultOptions=function(){return UQ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,a=this.chart.views.find(function(i){return i.id===mI});a&&a.data(t),this.chart.changeData(xI(t,n))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return eJ},r})(bt);function Eb(e,r,t){return e.length>1?"".concat(r,"_").concat(t):"".concat(r)}function bI(e){var r=e.data,t=e.xField,n=e.measureField,a=e.rangeField,i=e.targetField,o=e.layout,l=[],s=[];r.forEach(function(c,h){var p=[c[a]].flat();p.sort(function(g,y){return g-y}),p.forEach(function(g,y){var m,b=y===0?g:p[y]-p[y-1];l.push((m={rKey:"".concat(a,"_").concat(y)},m[t]=t?c[t]:String(h),m[a]=b,m))});var d=[c[n]].flat();d.forEach(function(g,y){var m;l.push((m={mKey:Eb(d,n,y)},m[t]=t?c[t]:String(h),m[n]=g,m))});var v=[c[i]].flat();v.forEach(function(g,y){var m;l.push((m={tKey:Eb(v,i,y)},m[t]=t?c[t]:String(h),m[i]=g,m))}),s.push(c[a],c[n],c[i])});var u=Math.min.apply(Math,s.flat(1/0)),f=Math.max.apply(Math,s.flat(1/0));return u=u>0?0:u,o==="vertical"&&l.reverse(),{min:u,max:f,ds:l}}function rJ(e){var r=e.chart,t=e.options,n=t.bulletStyle,a=t.targetField,i=t.rangeField,o=t.measureField,l=t.xField,s=t.color,u=t.layout,f=t.size,c=t.label,h=bI(t),p=h.min,d=h.max,v=h.ds;r.data(v);var g=Z({},e,{options:{xField:l,yField:i,seriesField:"rKey",isStack:!0,label:$(c,"range"),interval:{color:$(s,"range"),style:$(n,"range"),size:$(f,"range")}}});Oe(g),r.geometries[0].tooltip(!1);var y=Z({},e,{options:{xField:l,yField:o,seriesField:"mKey",isStack:!0,label:$(c,"measure"),interval:{color:$(s,"measure"),style:$(n,"measure"),size:$(f,"measure")}}});Oe(y);var m=Z({},e,{options:{xField:l,yField:a,seriesField:"tKey",label:$(c,"target"),point:{color:$(s,"target"),style:$(n,"target"),size:lt($(f,"target"))?function(b){return $(f,"target")(b)/2}:$(f,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return fr(m),u==="horizontal"&&r.coordinate().transpose(),T(T({},e),{ext:{data:{min:p,max:d}}})}function wI(e){var r,t,n=e.options,a=e.ext,i=n.xAxis,o=n.yAxis,l=n.targetField,s=n.rangeField,u=n.measureField,f=n.xField,c=a.data;return gt(te((r={},r[f]=i,r[u]=o,r),(t={},t[u]={min:c==null?void 0:c.min,max:c==null?void 0:c.max,sync:!0},t[l]={sync:"".concat(u)},t[s]={sync:"".concat(u)},t)))(e)}function nJ(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.measureField,l=t.rangeField,s=t.targetField;return r.axis("".concat(l),!1),r.axis("".concat(s),!1),n===!1?r.axis("".concat(i),!1):r.axis("".concat(i),n),a===!1?r.axis("".concat(o),!1):r.axis("".concat(o),a),e}function aJ(e){var r=e.chart,t=e.options,n=t.legend;return r.removeInteraction("legend-filter"),r.legend(n),r.legend("rKey",!1),r.legend("mKey",!1),r.legend("tKey",!1),e}function iJ(e){var r=e.chart,t=e.options,n=t.label,a=t.measureField,i=t.targetField,o=t.rangeField,l=r.geometries,s=l[0],u=l[1],f=l[2];return $(n,"range")?s.label("".concat(o),T({layout:[{type:"limit-in-plot"}]},xe(n.range))):s.label(!1),$(n,"measure")?u.label("".concat(a),T({layout:[{type:"limit-in-plot"}]},xe(n.measure))):u.label(!1),$(n,"target")?f.label("".concat(i),T({layout:[{type:"limit-in-plot"}]},xe(n.target))):f.label(!1),e}function oJ(e){gt(rJ,wI,nJ,aJ,Et,iJ,de,Yt,$t)(e)}var lJ=Z({},bt.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return lJ},r.prototype.changeData=function(t){this.updateOption({data:t});var n=bI(this.options),a=n.min,i=n.max,o=n.ds;wI({options:this.options,ext:{data:{min:a,max:i}},chart:this.chart}),this.chart.changeData(o)},r.prototype.getSchemaAdaptor=function(){return oJ},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r})(bt);var sJ={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function uJ(e,r,t){B(e,function(n,a){n.inEdges=r.filter(function(i){return"".concat(t.target(i))==="".concat(a)}),n.outEdges=r.filter(function(i){return"".concat(t.source(i))==="".concat(a)}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(i){n.value+=t.targetWeight(i)}),n.outEdges.forEach(function(i){n.value+=t.sourceWeight(i)})})}function cJ(e,r){var t={weight:function(a,i){return i.value-a.value},frequency:function(a,i){return i.frequency-a.frequency},id:function(a,i){return"".concat(r.id(a)).localeCompare("".concat(r.id(i)))}},n=t[r.sortBy];!n&&lt(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}function fJ(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var a=n/(2*t),i=r.nodeWidthRatio;if(i<=0||i>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;e.forEach(function(s){o+=s.value}),e.forEach(function(s){s.weight=s.value/o,s.width=s.weight*(1-n),s.height=i}),e.forEach(function(s,u){for(var f=0,c=u-1;c>=0;c--)f+=e[c].width+2*a;var h=s.minX=a+f,p=s.maxX=s.minX+s.width,d=s.minY=r.y-i/2,v=s.maxY=d+i;s.x=[h,p,p,h],s.y=[d,d,v,v]})}else{var l=1/t;e.forEach(function(s,u){s.x=(u+.5)*l,s.y=r.y})}return e}function hJ(e,r,t){if(t.weight){var n={};B(e,function(a,i){n[i]=a.value}),r.forEach(function(a){var i=t.source(a),o=t.target(a),l=e[i],s=e[o];if(l&&s){var u=n[i],f=t.sourceWeight(a),c=l.minX+(l.value-u)/l.value*l.width,h=c+f/l.value*l.width;n[i]-=f;var p=n[o],d=t.targetWeight(a),v=s.minX+(s.value-p)/s.value*s.width,g=v+d/s.value*s.width;n[o]-=d;var y=t.y;a.x=[c,h,v,g],a.y=[y,y,y,y],a.source=l,a.target=s}})}else r.forEach(function(a){var i=e[t.source(a)],o=e[t.target(a)];i&&o&&(a.x=[i.x,o.x],a.y=[i.y,o.y],a.source=i,a.target=o)});return r}function pJ(e){return Nt({},sJ,e)}function dJ(e,r){var t=pJ(e),n={},a=r.nodes,i=r.links;a.forEach(function(s){var u=t.id(s);n[u]=s}),uJ(n,i,t),cJ(a,t);var o=fJ(a,t),l=hJ(n,i,t);return{nodes:o,links:l}}var SI="x",CI="y",AI="name",TI="source",vJ={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(e,r){var t=(e[0]+e[1])/2,n=t>.5?-4:4;return{offsetX:n,content:r}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(e){return!$(e,[0,"data","isNode"])},formatter:function(e){var r=e.source,t=e.target,n=e.value;return{name:"".concat(r," -> ").concat(t),value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function gJ(e){var r=e.options,t=r.data,n=r.sourceField,a=r.targetField,i=r.weightField,o=r.nodePaddingRatio,l=r.nodeWidthRatio,s=r.rawFields,u=s===void 0?[]:s,f=rT(t,n,a,i),c=dJ({weight:!0,nodePaddingRatio:o,nodeWidthRatio:l},f),h=c.nodes,p=c.links,d=h.map(function(g){return T(T({},Dt(g,pt(["id","x","y","name"],u,!0))),{isNode:!0})}),v=p.map(function(g){return T(T({source:g.source.name,target:g.target.name,name:g.source.name||g.target.name},Dt(g,pt(["x","y","value"],u,!0))),{isNode:!1})});return T(T({},e),{ext:T(T({},e.ext),{chordData:{nodesData:d,edgesData:v}})})}function yJ(e){var r,t=e.chart;return t.scale((r={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},r[AI]={sync:"color"},r[TI]={sync:"color"},r)),e}function mJ(e){var r=e.chart;return r.axis(!1),e}function xJ(e){var r=e.chart;return r.legend(!1),e}function bJ(e){var r=e.chart,t=e.options,n=t.tooltip;return r.tooltip(n),e}function wJ(e){var r=e.chart;return r.coordinate("polar").reflect("y"),e}function SJ(e){var r=e.chart,t=e.options,n=e.ext.chordData.nodesData,a=t.nodeStyle,i=t.label,o=t.tooltip,l=r.createView();return l.data(n),Uc({chart:l,options:{xField:SI,yField:CI,seriesField:AI,polygon:{style:a},label:i,tooltip:o}}),e}function CJ(e){var r=e.chart,t=e.options,n=e.ext.chordData.edgesData,a=t.edgeStyle,i=t.tooltip,o=r.createView();o.data(n);var l={xField:SI,yField:CI,seriesField:TI,edge:{style:a,shape:"arc"},tooltip:i};return hT({chart:o,options:l}),e}function AJ(e){var r=e.chart,t=e.options,n=t.animation;return Yl(r,n,uU(r)),e}function TJ(e){return gt(Et,gJ,wJ,yJ,mJ,xJ,bJ,CJ,SJ,Yt,ha,AJ)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="chord",t}return r.getDefaultOptions=function(){return vJ},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return TJ},r})(bt);var IJ=["x","y","r","name","value","path","depth"],EJ={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},Mb=4,MJ=0,Ob=5,kb="drilldown-bread-crumb",OJ={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Fl="hierarchy-data-transform-params",kJ=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=OJ,t}return r.prototype.click=function(){var t=$(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},r.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,a=n.getBBox(),i=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(a.height+Ob*2)};t.isPolar&&(o={x:0,y:0}),i==="bottom-left"&&(o={x:t.start.x,y:t.start.y});var l=Ke.transform(null,[["t",o.x+MJ,o.y+a.height+Ob]]);n.setMatrix(l)}},r.prototype.back=function(){me(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},r.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},r.prototype.drill=function(t){var n=this.context.view,a=$(n,["interactions","drill-down","cfg","transformData"],function(u){return u}),i=a(T({data:t.data},t[Fl]));n.changeData(i);for(var o=[],l=t;l;){var s=l.data;o.unshift({id:"".concat(s.name,"_").concat(l.height,"_").concat(l.depth),name:s.name,children:a(T({data:s},t[Fl]))}),l=l.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},r.prototype.backTo=function(t){if(!(!t||t.length<=0)){var n=this.context.view,a=he(t).children;n.changeData(a),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},r.prototype.getButtonCfg=function(){var t=this.context.view,n=$(t,["interactions","drill-down","cfg","drillDownConfig"]);return Z(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},r.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},r.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),a=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:kb});var i=0;a.forEach(function(o,l){var s=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(kb,"_").concat(o.name,"_text"),attrs:T(T({text:l===0&&!Q(n.rootText)?n.rootText:o.name},n.textStyle),{x:i,y:0})}),u=s.getBBox();if(i+=u.width+Mb,s.on("click",function(h){var p,d=h.target.get("id");if(d!==((p=he(a))===null||p===void 0?void 0:p.id)){var v=a.slice(0,a.findIndex(function(g){return g.id===d})+1);t.backTo(v)}}),s.on("mouseenter",function(h){var p,d=h.target.get("id");d!==((p=he(a))===null||p===void 0?void 0:p.id)?s.attr(n.activeTextStyle):s.attr({cursor:"default"})}),s.on("mouseleave",function(){s.attr(n.textStyle)}),l<a.length-1){var f=t.breadCrumbGroup.addShape({type:"text",name:"".concat(n.name,"_").concat(o.name,"_divider"),attrs:T(T({text:n.dividerText},n.textStyle),{x:i,y:0})}),c=f.getBBox();i+=c.width+Mb}})},r.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},r.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),e.prototype.destroy.call(this)},r}(Ht);function FJ(e,r){return e.parent===r.parent?1:2}function PJ(e){return e.reduce(LJ,0)/e.length}function LJ(e,r){return e+r.x}function RJ(e){return 1+e.reduce(DJ,0)}function DJ(e,r){return Math.max(e,r.y)}function BJ(e){for(var r;r=e.children;)e=r[0];return e}function _J(e){for(var r;r=e.children;)e=r[r.length-1];return e}function NJ(){var e=FJ,r=1,t=1,n=!1;function a(i){var o,l=0;i.eachAfter(function(h){var p=h.children;p?(h.x=PJ(p),h.y=RJ(p)):(h.x=o?l+=e(h,o):0,h.y=0,o=h)});var s=BJ(i),u=_J(i),f=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return i.eachAfter(n?function(h){h.x=(h.x-i.x)*r,h.y=(i.y-h.y)*t}:function(h){h.x=(h.x-f)/(c-f)*r,h.y=(1-(i.y?h.y/i.y:1))*t})}return a.separation=function(i){return arguments.length?(e=i,a):e},a.size=function(i){return arguments.length?(n=!1,r=+i[0],t=+i[1],a):n?null:[r,t]},a.nodeSize=function(i){return arguments.length?(n=!0,r=+i[0],t=+i[1],a):n?[r,t]:null},a}function $J(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function jJ(){return this.eachAfter($J)}function zJ(e,r){let t=-1;for(const n of this)e.call(r,n,++t,this);return this}function HJ(e,r){for(var t=this,n=[t],a,i,o=-1;t=n.pop();)if(e.call(r,t,++o,this),a=t.children)for(i=a.length-1;i>=0;--i)n.push(a[i]);return this}function VJ(e,r){for(var t=this,n=[t],a=[],i,o,l,s=-1;t=n.pop();)if(a.push(t),i=t.children)for(o=0,l=i.length;o<l;++o)n.push(i[o]);for(;t=a.pop();)e.call(r,t,++s,this);return this}function WJ(e,r){let t=-1;for(const n of this)if(e.call(r,n,++t,this))return n}function GJ(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,a=n&&n.length;--a>=0;)t+=n[a].value;r.value=t})}function YJ(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function qJ(e){for(var r=this,t=XJ(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var a=n.length;e!==t;)n.splice(a,0,e),e=e.parent;return n}function XJ(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),a=null;for(e=t.pop(),r=n.pop();e===r;)a=e,e=t.pop(),r=n.pop();return a}function UJ(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function KJ(){return Array.from(this)}function ZJ(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function QJ(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}function*JJ(){var e=this,r,t=[e],n,a,i;do for(r=t.reverse(),t=[];e=r.pop();)if(yield e,n=e.children)for(a=0,i=n.length;a<i;++a)t.push(n[a]);while(t.length)}function yo(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=rtt)):r===void 0&&(r=ett);for(var t=new Xi(e),n,a=[t],i,o,l,s;n=a.pop();)if((o=r(n.data))&&(s=(o=Array.from(o)).length))for(n.children=o,l=s-1;l>=0;--l)a.push(i=o[l]=new Xi(o[l])),i.parent=n,i.depth=n.depth+1;return t.eachBefore(II)}function ttt(){return yo(this).eachBefore(ntt)}function ett(e){return e.children}function rtt(e){return Array.isArray(e)?e[1]:null}function ntt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function II(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function Xi(e){this.data=e,this.depth=this.height=0,this.parent=null}Xi.prototype=yo.prototype={constructor:Xi,count:jJ,each:zJ,eachAfter:VJ,eachBefore:HJ,find:WJ,sum:GJ,sort:YJ,path:qJ,ancestors:UJ,descendants:KJ,leaves:ZJ,links:QJ,copy:ttt,[Symbol.iterator]:JJ};function att(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function itt(e){for(var r=e.length,t,n;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function EI(e){for(var r=0,t=(e=itt(Array.from(e))).length,n=[],a,i;r<t;)a=e[r],i&&MI(i,a)?++r:(i=ltt(n=ott(n,a)),r=0);return i}function ott(e,r){var t,n;if(Mh(r,e))return[r];for(t=0;t<e.length;++t)if(Ws(r,e[t])&&Mh(jo(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(Ws(jo(e[t],e[n]),r)&&Ws(jo(e[t],r),e[n])&&Ws(jo(e[n],r),e[t])&&Mh(OI(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function Ws(e,r){var t=e.r-r.r,n=r.x-e.x,a=r.y-e.y;return t<0||t*t<n*n+a*a}function MI(e,r){var t=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,n=r.x-e.x,a=r.y-e.y;return t>0&&t*t>n*n+a*a}function Mh(e,r){for(var t=0;t<r.length;++t)if(!MI(e,r[t]))return!1;return!0}function ltt(e){switch(e.length){case 1:return stt(e[0]);case 2:return jo(e[0],e[1]);case 3:return OI(e[0],e[1],e[2])}}function stt(e){return{x:e.x,y:e.y,r:e.r}}function jo(e,r){var t=e.x,n=e.y,a=e.r,i=r.x,o=r.y,l=r.r,s=i-t,u=o-n,f=l-a,c=Math.sqrt(s*s+u*u);return{x:(t+i+s/c*f)/2,y:(n+o+u/c*f)/2,r:(c+a+l)/2}}function OI(e,r,t){var n=e.x,a=e.y,i=e.r,o=r.x,l=r.y,s=r.r,u=t.x,f=t.y,c=t.r,h=n-o,p=n-u,d=a-l,v=a-f,g=s-i,y=c-i,m=n*n+a*a-i*i,b=m-o*o-l*l+s*s,x=m-u*u-f*f+c*c,w=p*d-h*v,S=(d*x-v*b)/(w*2)-n,A=(v*g-d*y)/w,I=(p*b-h*x)/(w*2)-a,k=(h*y-p*g)/w,E=A*A+k*k-1,M=2*(i+S*A+I*k),O=S*S+I*I-i*i,F=-(E?(M+Math.sqrt(M*M-4*E*O))/(2*E):O/M);return{x:n+S+A*F,y:a+I+k*F,r:F}}function Fb(e,r,t){var n=e.x-r.x,a,i,o=e.y-r.y,l,s,u=n*n+o*o;u?(i=r.r+t.r,i*=i,s=e.r+t.r,s*=s,i>s?(a=(u+s-i)/(2*u),l=Math.sqrt(Math.max(0,s/u-a*a)),t.x=e.x-a*n-l*o,t.y=e.y-a*o+l*n):(a=(u+i-s)/(2*u),l=Math.sqrt(Math.max(0,i/u-a*a)),t.x=r.x+a*n-l*o,t.y=r.y+a*o+l*n)):(t.x=r.x+t.r,t.y=r.y)}function Pb(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,a=r.y-e.y;return t>0&&t*t>n*n+a*a}function Lb(e){var r=e._,t=e.next._,n=r.r+t.r,a=(r.x*t.r+t.x*r.r)/n,i=(r.y*t.r+t.y*r.r)/n;return a*a+i*i}function Gs(e){this._=e,this.next=null,this.previous=null}function kI(e){if(!(a=(e=att(e)).length))return 0;var r,t,n,a,i,o,l,s,u,f,c;if(r=e[0],r.x=0,r.y=0,!(a>1))return r.r;if(t=e[1],r.x=-t.r,t.x=r.r,t.y=0,!(a>2))return r.r+t.r;Fb(t,r,n=e[2]),r=new Gs(r),t=new Gs(t),n=new Gs(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(l=3;l<a;++l){Fb(r._,t._,n=e[l]),n=new Gs(n),s=t.next,u=r.previous,f=t._.r,c=r._.r;do if(f<=c){if(Pb(s._,n._)){t=s,r.next=t,t.previous=r,--l;continue t}f+=s._.r,s=s.next}else{if(Pb(u._,n._)){r=u,r.next=t,t.previous=r,--l;continue t}c+=u._.r,u=u.previous}while(s!==u.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,i=Lb(r);(n=n.next)!==t;)(o=Lb(n))<i&&(r=n,i=o);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=EI(r),l=0;l<a;++l)r=e[l],r.x-=n.x,r.y-=n.y;return n.r}function utt(e){return kI(e),e}function ctt(e){return e==null?null:Gu(e)}function Gu(e){if(typeof e!="function")throw new Error;return e}function Ia(){return 0}function xi(e){return function(){return e}}function ftt(e){return Math.sqrt(e.value)}function FI(){var e=null,r=1,t=1,n=Ia;function a(i){return i.x=r/2,i.y=t/2,e?i.eachBefore(Rb(e)).eachAfter(Oh(n,.5)).eachBefore(Db(1)):i.eachBefore(Rb(ftt)).eachAfter(Oh(Ia,1)).eachAfter(Oh(n,i.r/Math.min(r,t))).eachBefore(Db(Math.min(r,t)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(e=ctt(i),a):e},a.size=function(i){return arguments.length?(r=+i[0],t=+i[1],a):[r,t]},a.padding=function(i){return arguments.length?(n=typeof i=="function"?i:xi(+i),a):n},a}function Rb(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function Oh(e,r){return function(t){if(n=t.children){var n,a,i=n.length,o=e(t)*r||0,l;if(o)for(a=0;a<i;++a)n[a].r+=o;if(l=kI(n),o)for(a=0;a<i;++a)n[a].r-=o;t.r=l+o}}}function Db(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}function PI(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Zl(e,r,t,n,a){for(var i=e.children,o,l=-1,s=i.length,u=e.value&&(n-r)/e.value;++l<s;)o=i[l],o.y0=t,o.y1=a,o.x0=r,o.x1=r+=o.value*u}function LI(){var e=1,r=1,t=0,n=!1;function a(o){var l=o.height+1;return o.x0=o.y0=t,o.x1=e,o.y1=r/l,o.eachBefore(i(r,l)),n&&o.eachBefore(PI),o}function i(o,l){return function(s){s.children&&Zl(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var u=s.x0,f=s.y0,c=s.x1-t,h=s.y1-t;c<u&&(u=c=(u+c)/2),h<f&&(f=h=(f+h)/2),s.x0=u,s.y0=f,s.x1=c,s.y1=h}}return a.round=function(o){return arguments.length?(n=!!o,a):n},a.size=function(o){return arguments.length?(e=+o[0],r=+o[1],a):[e,r]},a.padding=function(o){return arguments.length?(t=+o,a):t},a}var htt={depth:-1},Bb={};function ptt(e){return e.id}function dtt(e){return e.parentId}function vtt(){var e=ptt,r=dtt;function t(n){var a=Array.from(n),i=a.length,o,l,s,u,f,c,h,p=new Map;for(l=0;l<i;++l)o=a[l],f=a[l]=new Xi(o),(c=e(o,l,n))!=null&&(c+="")&&(h=f.id=c,p.set(h,p.has(h)?Bb:f)),(c=r(o,l,n))!=null&&(c+="")&&(f.parent=c);for(l=0;l<i;++l)if(f=a[l],c=f.parent){if(u=p.get(c),!u)throw new Error("missing: "+c);if(u===Bb)throw new Error("ambiguous: "+c);u.children?u.children.push(f):u.children=[f],f.parent=u}else{if(s)throw new Error("multiple roots");s=f}if(!s)throw new Error("no root");if(s.parent=htt,s.eachBefore(function(d){d.depth=d.parent.depth+1,--i}).eachBefore(II),s.parent=null,i>0)throw new Error("cycle");return s}return t.id=function(n){return arguments.length?(e=Gu(n),t):e},t.parentId=function(n){return arguments.length?(r=Gu(n),t):r},t}function gtt(e,r){return e.parent===r.parent?1:2}function kh(e){var r=e.children;return r?r[0]:e.t}function Fh(e){var r=e.children;return r?r[r.length-1]:e.t}function ytt(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function mtt(e){for(var r=0,t=0,n=e.children,a=n.length,i;--a>=0;)i=n[a],i.z+=r,i.m+=r,r+=i.s+(t+=i.c)}function xtt(e,r,t){return e.a.parent===r.parent?e.a:t}function ou(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}ou.prototype=Object.create(Xi.prototype);function btt(e){for(var r=new ou(e,0),t,n=[r],a,i,o,l;t=n.pop();)if(i=t._.children)for(t.children=new Array(l=i.length),o=l-1;o>=0;--o)n.push(a=t.children[o]=new ou(i[o],o)),a.parent=t;return(r.parent=new ou(null,0)).children=[r],r}function wtt(){var e=gtt,r=1,t=1,n=null;function a(u){var f=btt(u);if(f.eachAfter(i),f.parent.m=-f.z,f.eachBefore(o),n)u.eachBefore(s);else{var c=u,h=u,p=u;u.eachBefore(function(m){m.x<c.x&&(c=m),m.x>h.x&&(h=m),m.depth>p.depth&&(p=m)});var d=c===h?1:e(c,h)/2,v=d-c.x,g=r/(h.x+d+v),y=t/(p.depth||1);u.eachBefore(function(m){m.x=(m.x+v)*g,m.y=m.depth*y})}return u}function i(u){var f=u.children,c=u.parent.children,h=u.i?c[u.i-1]:null;if(f){mtt(u);var p=(f[0].z+f[f.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-p):u.z=p}else h&&(u.z=h.z+e(u._,h._));u.parent.A=l(u,h,u.parent.A||c[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function l(u,f,c){if(f){for(var h=u,p=u,d=f,v=h.parent.children[0],g=h.m,y=p.m,m=d.m,b=v.m,x;d=Fh(d),h=kh(h),d&&h;)v=kh(v),p=Fh(p),p.a=u,x=d.z+m-h.z-g+e(d._,h._),x>0&&(ytt(xtt(d,u,c),u,x),g+=x,y+=x),m+=d.m,g+=h.m,b+=v.m,y+=p.m;d&&!Fh(p)&&(p.t=d,p.m+=m-y),h&&!kh(v)&&(v.t=h,v.m+=g-b,c=u)}return c}function s(u){u.x*=r,u.y=u.depth*t}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(n=!1,r=+u[0],t=+u[1],a):n?null:[r,t]},a.nodeSize=function(u){return arguments.length?(n=!0,r=+u[0],t=+u[1],a):n?[r,t]:null},a}function rf(e,r,t,n,a){for(var i=e.children,o,l=-1,s=i.length,u=e.value&&(a-t)/e.value;++l<s;)o=i[l],o.x0=r,o.x1=n,o.y0=t,o.y1=t+=o.value*u}var RI=(1+Math.sqrt(5))/2;function DI(e,r,t,n,a,i){for(var o=[],l=r.children,s,u,f=0,c=0,h=l.length,p,d,v=r.value,g,y,m,b,x,w,S;f<h;){p=a-t,d=i-n;do g=l[c++].value;while(!g&&c<h);for(y=m=g,w=Math.max(d/p,p/d)/(v*e),S=g*g*w,x=Math.max(m/S,S/y);c<h;++c){if(g+=u=l[c].value,u<y&&(y=u),u>m&&(m=u),S=g*g*w,b=Math.max(m/S,S/y),b>x){g-=u;break}x=b}o.push(s={value:g,dice:p<d,children:l.slice(f,c)}),s.dice?Zl(s,t,n,a,v?n+=d*g/v:i):rf(s,t,n,v?t+=p*g/v:a,i),v-=g,f=c}return o}const BI=function e(r){function t(n,a,i,o,l){DI(r,n,a,i,o,l)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(RI);function _I(){var e=BI,r=!1,t=1,n=1,a=[0],i=Ia,o=Ia,l=Ia,s=Ia,u=Ia;function f(h){return h.x0=h.y0=0,h.x1=t,h.y1=n,h.eachBefore(c),a=[0],r&&h.eachBefore(PI),h}function c(h){var p=a[h.depth],d=h.x0+p,v=h.y0+p,g=h.x1-p,y=h.y1-p;g<d&&(d=g=(d+g)/2),y<v&&(v=y=(v+y)/2),h.x0=d,h.y0=v,h.x1=g,h.y1=y,h.children&&(p=a[h.depth+1]=i(h)/2,d+=u(h)-p,v+=o(h)-p,g-=l(h)-p,y-=s(h)-p,g<d&&(d=g=(d+g)/2),y<v&&(v=y=(v+y)/2),e(h,d,v,g,y))}return f.round=function(h){return arguments.length?(r=!!h,f):r},f.size=function(h){return arguments.length?(t=+h[0],n=+h[1],f):[t,n]},f.tile=function(h){return arguments.length?(e=Gu(h),f):e},f.padding=function(h){return arguments.length?f.paddingInner(h).paddingOuter(h):f.paddingInner()},f.paddingInner=function(h){return arguments.length?(i=typeof h=="function"?h:xi(+h),f):i},f.paddingOuter=function(h){return arguments.length?f.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):f.paddingTop()},f.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:xi(+h),f):o},f.paddingRight=function(h){return arguments.length?(l=typeof h=="function"?h:xi(+h),f):l},f.paddingBottom=function(h){return arguments.length?(s=typeof h=="function"?h:xi(+h),f):s},f.paddingLeft=function(h){return arguments.length?(u=typeof h=="function"?h:xi(+h),f):u},f}function Stt(e,r,t,n,a){var i=e.children,o,l=i.length,s,u=new Array(l+1);for(u[0]=s=o=0;o<l;++o)u[o+1]=s+=i[o].value;f(0,l,e.value,r,t,n,a);function f(c,h,p,d,v,g,y){if(c>=h-1){var m=i[c];m.x0=d,m.y0=v,m.x1=g,m.y1=y;return}for(var b=u[c],x=p/2+b,w=c+1,S=h-1;w<S;){var A=w+S>>>1;u[A]<x?w=A+1:S=A}x-u[w-1]<u[w]-x&&c+1<w&&--w;var I=u[w]-b,k=p-I;if(g-d>y-v){var E=p?(d*k+g*I)/p:g;f(c,w,I,d,v,E,y),f(w,h,k,E,v,g,y)}else{var M=p?(v*k+y*I)/p:y;f(c,w,I,d,v,g,M),f(w,h,k,d,M,g,y)}}}function Ctt(e,r,t,n,a){(e.depth&1?rf:Zl)(e,r,t,n,a)}const Att=function e(r){function t(n,a,i,o,l){if((s=n._squarify)&&s.ratio===r)for(var s,u,f,c,h=-1,p,d=s.length,v=n.value;++h<d;){for(u=s[h],f=u.children,c=u.value=0,p=f.length;c<p;++c)u.value+=f[c].value;u.dice?Zl(u,a,i,o,v?i+=(l-i)*u.value/v:l):rf(u,a,i,v?a+=(o-a)*u.value/v:o,l),v-=u.value}else n._squarify=s=DI(r,n,a,i,o,l),s.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(RI),_b=Object.freeze(Object.defineProperty({__proto__:null,cluster:NJ,hierarchy:yo,pack:FI,packEnclose:EI,packSiblings:utt,partition:LI,stratify:vtt,tree:wtt,treemap:_I,treemapBinary:Stt,treemapDice:Zl,treemapResquarify:Att,treemapSlice:rf,treemapSliceDice:Ctt,treemapSquarify:BI},Symbol.toStringTag,{value:"Module"}));var NI="nodeIndex",$I="childNodeCount",wg="nodeAncestor",Ph="Invalid field: it must be a string!";function Sg(e,r){var t=e.field,n=e.fields;if(dt(t))return t;if(J(t))return console.warn(Ph),t[0];if(console.warn("".concat(Ph," will try to get fields instead.")),dt(n))return n;if(J(n)&&n.length)return n[0];if(r)return r;throw new TypeError(Ph)}function Cg(e){var r=[];if(e&&e.each){var t,n;e.each(function(a){var i,o;a.parent!==t?(t=a.parent,n=0):n+=1;var l=Ee((((i=a.ancestors)===null||i===void 0?void 0:i.call(a))||[]).map(function(s){return r.find(function(u){return u.name===s.name})||s}),function(s){var u=s.depth;return u>0&&u<a.depth});a[wg]=l,a[$I]=((o=a.children)===null||o===void 0?void 0:o.length)||0,a[NI]=n,r.push(a)})}else e&&e.eachNode&&e.eachNode(function(a){r.push(a)});return r}var Ttt={field:"value",as:["x","y","r"],sort:function(e,r){return r.value-e.value}};function Itt(e,r){r=Nt({},Ttt,r);var t=r.as;if(!J(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=Sg(r)}catch(u){console.warn(u)}var a=function(u){return FI().size(r.size).padding(r.padding)(yo(u).sum(function(f){return f[n]}).sort(r.sort))},i=a(e),o=t[0],l=t[1],s=t[2];return i.each(function(u){u[o]=u.x,u[l]=u.y,u[s]=u.r}),Cg(i)}function jI(e){var r=e.data,t=e.hierarchyConfig,n=e.rawFields,a=n===void 0?[]:n,i=e.enableDrillDown,o=Itt(r,T(T({},t),{field:"value",as:["x","y","r"]})),l=[];return o.forEach(function(s){for(var u,f=s.data.name,c=T({},s);c.depth>1;)f="".concat((u=c.parent.data)===null||u===void 0?void 0:u.name," / ").concat(f),c=c.parent;if(i&&s.depth>2)return null;var h=Z({},s.data,T(T(T({},Dt(s.data,a)),{path:f}),s));h.ext=t,h[Fl]={hierarchyConfig:t,rawFields:a,enableDrillDown:i},l.push(h)}),l}function zI(e,r,t){var n=lg([e,r]),a=n[0],i=n[1],o=n[2],l=n[3],s=t.width,u=t.height,f=s-(l+i),c=u-(a+o),h=Math.min(f,c),p=(f-h)/2,d=(c-h)/2,v=a+d,g=i+p,y=o+d,m=l+p,b=[v,g,y,m],x=h<0?0:h;return{finalPadding:b,finalSize:x}}function Ett(e){var r=e.chart,t=Math.min(r.viewBBox.width,r.viewBBox.height);return Z({options:{size:function(n){var a=n.r;return a*t}}},e)}function Mtt(e){var r=e.options,t=e.chart,n=t.viewBBox,a=r.padding,i=r.appendPadding,o=r.drilldown,l=i;if(o!=null&&o.enabled){var s=Wc(t.appendPadding,$(o,["breadCrumb","position"]));l=lg([s,i])}var u=zI(a,l,n).finalPadding;return t.padding=u,t.appendPadding=0,e}function Ott(e){var r=e.chart,t=e.options,n=r.padding,a=r.appendPadding,i=t.color,o=t.colorField,l=t.pointStyle,s=t.hierarchyConfig,u=t.sizeField,f=t.rawFields,c=f===void 0?[]:f,h=t.drilldown,p=jI({data:t.data,hierarchyConfig:s,enableDrillDown:h==null?void 0:h.enabled,rawFields:c});r.data(p);var d=r.viewBBox,v=zI(n,a,d).finalSize,g=function(y){var m=y.r;return m*v};return u&&(g=function(y){return y[u]*v}),fr(Z({},e,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:pt(pt([],IJ,!0),c,!0),point:{color:i,style:l,shape:"circle",size:g}}})),e}function ktt(e){return gt(te({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(e)}function Ftt(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var a=n;$(n,"fields")||(a=Z({},{customItems:function(i){return i.map(function(o){var l=$(r.getOptions(),"scales"),s=$(l,["name","formatter"],function(f){return f}),u=$(l,["value","formatter"],function(f){return f});return T(T({},o),{name:s(o.data.name),value:u(o.data.value)})})}},a)),r.tooltip(a)}return e}function Ptt(e){var r=e.chart;return r.axis(!1),e}function Ltt(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return r!=null&&r.enabled?Z({},e,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:jI,enableDrillDown:!0}}],!1)}):e}function Rtt(e){var r=e.chart,t=e.options;return Yt({chart:r,options:Ltt(t)}),e}function Dtt(e){return gt(cr("pointStyle"),Ett,Mtt,Et,ktt,Ott,Ptt,ho,Ftt,Rtt,$t,Xt())(e)}function Nb(e){var r=$(e,["event","data","data"],{});return J(r.children)&&r.children.length>0}function $b(e){var r=e.view.getCoordinate(),t=r.innerRadius;if(t){var n=e.event,a=n.x,i=n.y,o=r.center,l=o.x,s=o.y,u=r.getRadius()*t,f=Math.sqrt(Math.pow(l-a,2)+Math.pow(s-i,2));return f<u}return!1}ft("drill-down-action",kJ);xt("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:Nb},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:$b}],start:[{trigger:"element:click",isEnable:Nb,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:$b,action:["drill-down-action:back"]}]});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-packing",t}return r.getDefaultOptions=function(){return EJ},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Dtt},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r})(bt);var hr="left-axes-view",pr="right-axes-view",HI={nice:!0,label:{autoHide:!0,autoRotate:!1}},Btt=T(T({},HI),{position:"left"}),_tt=T(T({},HI),{position:"right",grid:null}),Ui;(function(e){e.Left="Left",e.Right="Right"})(Ui||(Ui={}));var Ja;(function(e){e.Line="line",e.Column="column"})(Ja||(Ja={}));function Sd(e){return $(e,"geometry")===Ja.Line}function Ag(e){return $(e,"geometry")===Ja.Column}function jb(e,r,t){return Ag(t)?Z({},{geometry:Ja.Column,label:t.label&&t.isRange?{content:function(n){var a;return(a=n[r])===null||a===void 0?void 0:a.join("-")}}:void 0},t):T({geometry:Ja.Line},t)}function zb(e,r){var t=e[0],n=e[1];if(J(r)){var a=r[0],i=r[1];return[a,i]}var o=$(r,t),l=$(r,n);return[o,l]}function Hb(e,r){return r===Ui.Left?e===!1?!1:Z({},Btt,e):r===Ui.Right?e===!1?!1:Z({},_tt,e):e}function Ntt(e){var r=e.options,t=e.chart,n=r.geometryOption,a=n.isStack,i=n.color,o=n.seriesField,l=n.groupField,s=n.isGroup,u=["xField","yField"];if(Sd(n)){po(Z({},e,{options:T(T(T({},Dt(r,u)),n),{line:{color:n.color,style:n.lineStyle}})})),fr(Z({},e,{options:T(T(T({},Dt(r,u)),n),{point:n.point&&T({color:i,shape:"circle"},n.point)})}));var f=[];s&&f.push({type:"dodge",dodgeBy:l||o,customOffset:0}),a&&f.push({type:"stack"}),f.length&&B(t.geometries,function(c){c.adjust(f)})}return Ag(n)&&tf(Z({},e,{options:T(T(T({},Dt(r,u)),n),{widthRatio:n.columnWidthRatio,interval:T(T({},Dt(n,["color"])),{style:n.columnStyle})})})),e}function Vb(e){var r=e.view,t=e.geometryOption,n=e.yField,a=e.legend,i=$(a,"marker"),o=Me(r,Sd(t)?"line":"interval");if(!t.seriesField){var l=$(r,"options.scales.".concat(n,".alias"))||n,s=o.getAttribute("color"),u=r.getTheme().defaultColor;s&&(u=Ke.getMappingValue(s,l,$(s,["values",0],u)));var f=(lt(i)?i:!Ue(i)&&Z({},{style:{stroke:u,fill:u}},i))||(Sd(t)?{symbol:function(h,p,d){return[["M",h-d,p],["L",h+d,p]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:n,name:l,marker:f,isGeometry:!0,viewId:r.id}]}var c=o.getGroupAttributes();return Le(c,function(h,p){var d=Ke.getLegendItems(r,o,p,r.getTheme(),i);return h.concat(d)},[])}var Wb=function(e,r){var t=r[0],n=r[1],a=e.getOptions().data,i=e.getXScale(),o=me(a);if(!(!i||!o)){var l=Lr(a,i.field),s=l,u=me(s),f=Math.floor(t*(u-1)),c=Math.floor(n*(u-1));e.filter(i.field,function(h){var p=s.indexOf(h);return p>-1?fU(p,f,c):!0}),e.getRootView().render(!0)}};function $tt(e){var r,t=e.options,n=t.geometryOptions,a=n===void 0?[]:n,i=t.xField,o=t.yField,l=qd(a,function(s){var u=s.geometry;return u===Ja.Line||u===void 0});return Z({},{options:{geometryOptions:[],meta:(r={},r[i]={type:"cat",sync:!0,range:l?[0,1]:void 0},r),tooltip:{showMarkers:l,showCrosshairs:l,shared:!0,crosshairs:{type:"x"}},interactions:l?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},e,{options:{yAxis:zb(o,t.yAxis),geometryOptions:[jb(i,o[0],a[0]),jb(i,o[1],a[1])],annotations:zb(o,t.annotations)}})}function jtt(e){var r,t,n=e.chart,a=e.options,i=a.geometryOptions,o={line:0,column:1},l=[{type:(r=i[0])===null||r===void 0?void 0:r.geometry,id:hr},{type:(t=i[1])===null||t===void 0?void 0:t.geometry,id:pr}];return l.sort(function(s,u){return-o[s.type]+o[u.type]}).forEach(function(s){return n.createView({id:s.id})}),e}function ztt(e){var r=e.chart,t=e.options,n=t.xField,a=t.yField,i=t.geometryOptions,o=t.data,l=t.tooltip,s=[T(T({},i[0]),{id:hr,data:o[0],yField:a[0]}),T(T({},i[1]),{id:pr,data:o[1],yField:a[1]})];return s.forEach(function(u){var f=u.id,c=u.data,h=u.yField,p=Ag(u)&&u.isPercent,d=p?yT(c,h,n,h):c,v=St(r,f).data(d),g=p?T({formatter:function(y){return{name:y[u.seriesField]||h,value:(Number(y[h])*100).toFixed(2)+"%"}}},l):l;Ntt({chart:v,options:{xField:n,yField:h,tooltip:g,geometryOption:u}})}),e}function Htt(e){var r,t=e.chart,n=e.options,a=n.geometryOptions,i=((r=t.getTheme())===null||r===void 0?void 0:r.colors10)||[],o=0;return t.once("beforepaint",function(){B(a,function(l,s){var u=St(t,s===0?hr:pr);if(!l.color){var f=u.getGroupScales(),c=$(f,[0,"values","length"],1),h=i.slice(o,o+c).concat(s===0?[]:i);u.geometries.forEach(function(p){l.seriesField?p.color(l.seriesField,h):p.color(h[0])}),o+=c}}),t.render(!0)}),e}function Vtt(e){var r,t,n=e.chart,a=e.options,i=a.xAxis,o=a.yAxis,l=a.xField,s=a.yField;return te((r={},r[l]=i,r[s[0]]=o[0],r))(Z({},e,{chart:St(n,hr)})),te((t={},t[l]=i,t[s[1]]=o[1],t))(Z({},e,{chart:St(n,pr)})),e}function Wtt(e){var r=e.chart,t=e.options,n=St(r,hr),a=St(r,pr),i=t.xField,o=t.yField,l=t.xAxis,s=t.yAxis;return r.axis(i,!1),r.axis(o[0],!1),r.axis(o[1],!1),n.axis(i,l),n.axis(o[0],Hb(s[0],Ui.Left)),a.axis(i,!1),a.axis(o[1],Hb(s[1],Ui.Right)),e}function Gtt(e){var r=e.chart,t=e.options,n=t.tooltip,a=St(r,hr),i=St(r,pr);return r.tooltip(n),a.tooltip({shared:!0}),i.tooltip({shared:!0}),e}function Ytt(e){var r=e.chart;return Yt(Z({},e,{chart:St(r,hr)})),Yt(Z({},e,{chart:St(r,pr)})),e}function qtt(e){var r=e.chart,t=e.options,n=t.annotations,a=$(n,[0]),i=$(n,[1]);return Xt(a)(Z({},e,{chart:St(r,hr),options:{annotations:a}})),Xt(i)(Z({},e,{chart:St(r,pr),options:{annotations:i}})),e}function Xtt(e){var r=e.chart;return Et(Z({},e,{chart:St(r,hr)})),Et(Z({},e,{chart:St(r,pr)})),Et(e),e}function Utt(e){var r=e.chart;return $t(Z({},e,{chart:St(r,hr)})),$t(Z({},e,{chart:St(r,pr)})),e}function Ktt(e){var r=e.chart,t=e.options,n=t.yAxis;return Qa(Z({},e,{chart:St(r,hr),options:{yAxis:n[0]}})),Qa(Z({},e,{chart:St(r,pr),options:{yAxis:n[1]}})),e}function Ztt(e){var r=e.chart,t=e.options,n=t.legend,a=t.geometryOptions,i=t.yField,o=t.data,l=St(r,hr),s=St(r,pr);if(n===!1)r.legend(!1);else if(Bt(n)&&n.custom===!0)r.legend(n);else{var u=$(a,[0,"legend"],n),f=$(a,[1,"legend"],n);r.once("beforepaint",function(){var c=o[0].length?Vb({view:l,geometryOption:a[0],yField:i[0],legend:u}):[],h=o[1].length?Vb({view:s,geometryOption:a[1],yField:i[1],legend:f}):[];r.legend(Z({},n,{custom:!0,items:c.concat(h)}))}),a[0].seriesField&&l.legend(a[0].seriesField,u),a[1].seriesField&&s.legend(a[1].seriesField,f),r.on("legend-item:click",function(c){var h=$(c,"gEvent.delegateObject",{});if(h&&h.item){var p=h.item,d=p.value,v=p.isGeometry,g=p.viewId;if(v){var y=M1(i,function(x){return x===d});if(y>-1){var m=$(St(r,g),"geometries");B(m,function(x){x.changeVisible(!h.item.unchecked)})}}else{var b=$(r.getController("legend"),"option.items",[]);B(r.views,function(x){var w=x.getGroupScales();B(w,function(S){S.values&&S.values.indexOf(d)>-1&&x.filter(S.field,function(A){var I=kr(b,function(k){return k.value===A});return!I.unchecked})}),r.render(!0)})}}})}return e}function Qtt(e){var r=e.chart,t=e.options,n=t.slider,a=St(r,hr),i=St(r,pr);return n&&(a.option("slider",n),a.on("slider:valuechanged",function(o){var l=o.event,s=l.value,u=l.originValue;Jt(s,u)||Wb(i,s)}),r.once("afterpaint",function(){if(!Ni(n)){var o=n.start,l=n.end;(o||l)&&Wb(i,[o,l])}})),e}function Jtt(e){return gt($tt,jtt,Xtt,ztt,Vtt,Wtt,Ktt,Gtt,Ytt,qtt,Utt,Htt,Ztt,Qtt)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dual-axes",t}return r.prototype.getDefaultOptions=function(){return Z({},e.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},r.prototype.getSchemaAdaptor=function(){return Jtt},r})(bt);function tet(e,r){var t=r.data,n=r.coordinate,a=r.interactions,i=r.annotations,o=r.animation,l=r.tooltip,s=r.axes,u=r.meta,f=r.geometries;t&&e.data(t);var c={};s&&B(s,function(h,p){c[p]=Dt(h,Ye)}),c=Z({},u,c),e.scale(c),n&&e.coordinate(n),s===!1?e.axis(!1):B(s,function(h,p){e.axis(p,h)}),B(f,function(h){var p=Qe({chart:e,options:h}).ext,d=h.adjust;d&&p.geometry.adjust(d)}),B(a,function(h){h.enable===!1?e.removeInteraction(h.type):e.interaction(h.type,h.cfg)}),B(i,function(h){e.annotation()[h.type](T({},h))}),Yl(e,o),l?(e.interaction("tooltip"),e.tooltip(l)):l===!1&&e.removeInteraction("tooltip")}function eet(e){var r=e.chart,t=e.options,n=t.type,a=t.data,i=t.fields,o=t.eachView,l=uc(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return r.data(a),r.facet(n,T(T({},l),{fields:i,eachView:function(s,u){var f=o(s,u);if(f.geometries)tet(s,f);else{var c=f,h=c.options;h.tooltip&&s.interaction("tooltip"),wd(c.type,s,h)}}})),e}function ret(e){var r=e.chart,t=e.options,n=t.axes,a=t.meta,i=t.tooltip,o=t.coordinate,l=t.theme,s=t.legend,u=t.interactions,f=t.annotations,c={};return n&&B(n,function(h,p){c[p]=Dt(h,Ye)}),c=Z({},a,c),r.scale(c),r.coordinate(o),n?B(n,function(h,p){r.axis(p,h)}):r.axis(!1),i?(r.interaction("tooltip"),r.tooltip(i)):i===!1&&r.removeInteraction("tooltip"),r.legend(s),l&&r.theme(l),B(u,function(h){h.enable===!1?r.removeInteraction(h.type):r.interaction(h.type,h.cfg)}),B(f,function(h){r.annotation()[h.type](T({},h))}),e}function net(e){return gt(Et,eet,ret)(e)}var aet={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return aet},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return net},r})(bt);function iet(e){var r=e.chart,t=e.options,n=t.data,a=t.type,i=t.xField,o=t.yField,l=t.colorField,s=t.sizeField,u=t.sizeRatio,f=t.shape,c=t.color,h=t.tooltip,p=t.heatmapStyle,d=t.meta;r.data(n);var v="polygon";a==="density"&&(v="heatmap");var g=Ar(h,[i,o,l]),y=g.fields,m=g.formatter,b=1;return(u||u===0)&&(!f&&!s?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):b=u),Qe(Z({},e,{options:{type:v,colorField:l,tooltipFields:y,shapeField:s||"",label:void 0,mapping:{tooltip:m,shape:f&&(s?function(x){var w=n.map(function(k){return k[s]}),S=(d==null?void 0:d[s])||{},A=S.min,I=S.max;return A=mt(A)?A:Math.min.apply(Math,w),I=mt(I)?I:Math.max.apply(Math,w),[f,($(x,s)-A)/(I-A),b]}:function(){return[f,1,b]}),color:c||l&&r.getTheme().sequenceColors.join("-"),style:p}}})),e}function oet(e){var r,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return gt(te((r={},r[i]=n,r[o]=a,r)))(e)}function set(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?r.axis(o,!1):r.axis(o,a),e}function uet(e){var r=e.chart,t=e.options,n=t.legend,a=t.colorField,i=t.sizeField,o=t.sizeLegend,l=n!==!1;return a&&r.legend(a,l?n:!1),i&&r.legend(i,o===void 0?n:o),!l&&!o&&r.legend(!1),e}function cet(e){var r=e.chart,t=e.options,n=t.label,a=t.colorField,i=t.type,o=Me(r,i==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(a){var l=n.callback,s=_t(n,["callback"]);o.label({fields:[a],callback:l,cfg:xe(s)})}return e}function fet(e){var r,t,n=e.chart,a=e.options,i=a.coordinate,o=a.reflect,l=Z({actions:[]},i??{type:"rect"});return o&&((t=(r=l.actions)===null||r===void 0?void 0:r.push)===null||t===void 0||t.call(r,["reflect",o])),n.coordinate(l),e}function het(e){return gt(Et,cr("heatmapStyle"),oet,fet,iet,set,uet,de,cet,Xt(),Yt,$t,ha)(e)}var pet=Z({},bt.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});Pt("polygon","circle",{draw:function(e,r){var t,n,a=e.x,i=e.y,o=this.parsePoints(e.points),l=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),u=Math.min(l,s)/2,f=Number(e.shape[1]),c=Number(e.shape[2]),h=Math.sqrt(c),p=u*h*Math.sqrt(f),d=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),v=r.addShape("circle",{attrs:T(T(T({x:a,y:i,r:p},e.defaultStyle),e.style),{fill:d})});return v}});Pt("polygon","square",{draw:function(e,r){var t,n,a=e.x,i=e.y,o=this.parsePoints(e.points),l=Math.abs(o[2].x-o[1].x),s=Math.abs(o[1].y-o[0].y),u=Math.min(l,s),f=Number(e.shape[1]),c=Number(e.shape[2]),h=Math.sqrt(c),p=u*h*Math.sqrt(f),d=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),v=r.addShape("rect",{attrs:T(T(T({x:a-p/2,y:i-p/2,width:p,height:p},e.defaultStyle),e.style),{fill:d})});return v}});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t}return r.getDefaultOptions=function(){return pet},r.prototype.getSchemaAdaptor=function(){return het},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r})(bt);var det="liquid";function VI(e){return[{percent:e,type:det}]}function vet(e){var r=e.chart,t=e.options,n=t.percent,a=t.liquidStyle,i=t.radius,o=t.outline,l=t.wave,s=t.shape,u=t.shapeStyle,f=t.animation;r.scale({percent:{min:0,max:1}}),r.data(VI(n));var c=t.color||r.getTheme().defaultColor,h=Z({},e,{options:{xField:"type",yField:"percent",widthRatio:i,interval:{color:c,style:a,shape:"liquid-fill-gauge"}}}),p=Oe(h).ext,d=p.geometry,v=r.getTheme().background,g={percent:n,radius:i,outline:o,wave:l,shape:s,shapeStyle:u,background:v,animation:f};return d.customInfo(g),r.legend(!1),r.axis(!1),r.tooltip(!1),e}function WI(e,r){var t=e.chart,n=e.options,a=n.statistic,i=n.percent,o=n.meta;t.getController("annotation").clear(!0);var l=$(o,["percent","formatter"])||function(u){return"".concat((u*100).toFixed(2),"%")},s=a.content;return s&&(s=Z({},s,{content:Q(s.content)?l(i):s.content})),Gc(t,{statistic:T(T({},a),{content:s}),plotType:"liquid"},{percent:i}),r&&t.render(!0),e}function get(e){return gt(Et,cr("liquidStyle"),vet,WI,te({}),$t,Yt)(e)}var yet={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},Gb=5e3;function Yb(e,r,t){return e+(r-e)*t}function met(e){var r=T({opacity:1},e.style);return e.color&&!r.fill&&(r.fill=e.color),r}function xet(e){var r={fill:"#fff",fillOpacity:0,lineWidth:4},t=Nt({},r,e.style);return e.color&&!t.stroke&&(t.stroke=e.color),mt(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity),t}function bet(e,r,t,n){return r===0?[[e+1/2*t/Math.PI/2,n/2],[e+1/2*t/Math.PI,n],[e+t/4,n]]:r===1?[[e+1/2*t/Math.PI/2*(Math.PI-2),n],[e+1/2*t/Math.PI/2*(Math.PI-1),n/2],[e+t/4,0]]:r===2?[[e+1/2*t/Math.PI/2,-n/2],[e+1/2*t/Math.PI,-n],[e+t/4,-n]]:[[e+1/2*t/Math.PI/2*(Math.PI-2),-n],[e+1/2*t/Math.PI/2*(Math.PI-1),-n/2],[e+t/4,0]]}function wet(e,r,t,n,a,i,o){for(var l=Math.ceil(2*e/t*4)*4,s=[],u=n;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var f=i-e+u-e*2;s.push(["M",f,r]);for(var c=0,h=0;h<l;++h){var p=h%4,d=bet(h*t/4,p,t,a);s.push(["C",d[0][0]+f,-d[0][1]+r,d[1][0]+f,-d[1][1]+r,d[2][0]+f,-d[2][1]+r]),h===l-1&&(c=d[2][0])}return s.push(["L",c+f,o+e]),s.push(["L",f,o+e]),s.push(["Z"]),s}function Cet(e,r,t,n,a,i,o,l,s,u){for(var f=a.fill,c=a.opacity,h=o.getBBox(),p=h.maxX-h.minX,d=h.maxY-h.minY,v=0;v<n;v++){var g=n<=1?1:v/(n-1),y=i.addShape("path",{name:"waterwave-path",attrs:{path:wet(l,h.minY+d*t,s,0,p/32,e,r),fill:f,opacity:Yb(.2,.9,g)*c}});try{if(u===!1)return;var m=bd([["t",s,0]]);y.stopAnimate(),y.animate({matrix:m},{duration:Yb(.5*Gb,Gb,g),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}function Aet(e,r,t,n){var a=t*2/3,i=Math.max(a,n),o=a/2,l=e,s=o+r-i/2,u=Math.asin(o/((i-o)*.85)),f=Math.sin(u)*o,c=Math.cos(u)*o,h=l-c,p=s+f,d=e,v=s+o/Math.sin(u);return`
      M `.concat(h," ").concat(p,`
      A `).concat(o," ").concat(o," 0 1 1 ").concat(h+c*2," ").concat(p,`
      Q `).concat(d," ").concat(v," ").concat(e," ").concat(r+i/2,`
      Q `).concat(d," ").concat(v," ").concat(h," ").concat(p,`
      Z 
    `)}function Tet(e,r,t,n){var a=t/2,i=n/2;return`
      M `.concat(e," ").concat(r-i,` 
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(i*2,`
      a `).concat(a," ").concat(i," 0 1 0 0 ").concat(-i*2,`
      Z
    `)}function Iet(e,r,t,n){var a=n/2,i=t/2;return`
      M `.concat(e," ").concat(r-a,`
      L `).concat(e+i," ").concat(r,`
      L `).concat(e," ").concat(r+a,`
      L `).concat(e-i," ").concat(r,`
      Z
    `)}function Eet(e,r,t,n){var a=n/2,i=t/2;return`
      M `.concat(e," ").concat(r-a,`
      L `).concat(e+i," ").concat(r+a,`
      L `).concat(e-i," ").concat(r+a,`
      Z
    `)}function Met(e,r,t,n){var a=.618,i=n/2,o=t/2*a;return`
      M `.concat(e-o," ").concat(r-i,`
      L `).concat(e+o," ").concat(r-i,`
      L `).concat(e+o," ").concat(r+i,`
      L `).concat(e-o," ").concat(r+i,`
      Z
    `)}var qb={pin:Aet,circle:Tet,diamond:Iet,triangle:Eet,rect:Met};Pt("interval","liquid-fill-gauge",{draw:function(e,r){var t=.5,n=.5,a=e.customInfo,i=a,o=i.percent,l=i.radius,s=i.shape,u=i.shapeStyle,f=i.background,c=i.animation,h=a.outline,p=a.wave,d=h.border,v=h.distance,g=p.count,y=p.length,m=Le(e.points,function(L,D){return Math.min(L,D.x)},1/0),b=this.parsePoint({x:t,y:n}),x=this.parsePoint({x:m,y:n}),w=b.x-x.x,S=Math.min(w,x.y*l),A=met(e),I=xet(Nt({},e,h)),k=S-d/2,E=typeof s=="function"?s:qb[s]||qb.circle,M=E(b.x,b.y,k*2,k*2);if(u&&r.addShape("path",{name:"shape",attrs:T({path:M},u)}),o>0){var O=r.addGroup({name:"waves"}),F=O.setClip({type:"path",attrs:{path:M}});Cet(b.x,b.y,1-e.points[1].y,g,A,O,F,S*2,y,c)}return r.addShape("path",{name:"distance",attrs:{path:M,fill:"transparent",lineWidth:d+v*2,stroke:f==="transparent"?"#fff":f}}),r.addShape("path",{name:"wrap",attrs:Nt(I,{path:M,fill:"transparent",lineWidth:d})}),r}});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="liquid",t}return r.getDefaultOptions=function(){return yet},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.chart.emit(wt.BEFORE_CHANGE_DATA,qt.fromData(this.chart,wt.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(VI(t)),WI({chart:this.chart,options:this.options},!0),this.chart.emit(wt.AFTER_CHANGE_DATA,qt.fromData(this.chart,wt.AFTER_CHANGE_DATA,null))},r.prototype.getSchemaAdaptor=function(){return get},r})(bt);function Oet(e){var r=e.chart,t=e.options,n=t.data,a=t.lineStyle,i=t.color,o=t.point,l=t.area;r.data(n);var s=Z({},e,{options:{line:{style:a,color:i},point:o&&T({color:i},o),area:l&&T({color:i},l),label:void 0}}),u=Z({},s,{options:{tooltip:!1}}),f=(o==null?void 0:o.state)||t.state,c=Z({},s,{options:{tooltip:!1,state:f}});return po(s),fr(c),Xc(u),e}function ket(e){var r,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return gt(te((r={},r[i]=n,r[o]=a,r)))(e)}function Fet(e){var r=e.chart,t=e.options,n=t.radius,a=t.startAngle,i=t.endAngle;return r.coordinate("polar",{radius:n,startAngle:a,endAngle:i}),e}function Pet(e){var r=e.chart,t=e.options,n=t.xField,a=t.xAxis,i=t.yField,o=t.yAxis;return r.axis(n,a),r.axis(i,o),e}function Let(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=Me(r,"line");if(!n)i.label(!1);else{var o=n.callback,l=_t(n,["callback"]);i.label({fields:[a],callback:o,cfg:xe(l)})}return e}function Ret(e){return gt(Oet,ket,Et,Fet,Pet,ho,de,Let,Yt,$t,Xt())(e)}var Det=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),a=n.shared,i=n.title,o=e.prototype.getTooltipItems.call(this,t);if(o.length>0){var l=this.view.geometries[0],s=l.dataArray,u=o[0].name,f=[];return s.forEach(function(c){c.forEach(function(h){var p=Ke.getTooltipItems(h,l),d=p[0];if(!a&&d&&d.name===u){var v=Q(i)?u:i;f.push(T(T({},d),{name:d.title,title:v}))}else if(a&&d){var v=Q(i)?d.name||u:i;f.push(T(T({},d),{name:d.title,title:v}))}})}),f}return[]},r}(qC);ri("radar-tooltip",Det);var Bet=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},r.prototype.show=function(){var t=this.context.event,n=this.getTooltipController();n.showTooltip({x:t.x,y:t.y})},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},r}(Ht);ft("radar-tooltip",Bet);xt("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t}return r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return Z({},e.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},r.prototype.getSchemaAdaptor=function(){return Ret},r})(bt);function _et(e,r,t){var n=t.map(function(o){return o[r]}).filter(function(o){return o!==void 0}),a=n.length>0?Math.max.apply(Math,n):0,i=Math.abs(e)%360;return i?a*360/i:a}function Net(e,r,t){var n=[];return e.forEach(function(a){var i=n.find(function(o){return o[r]===a[r]});i?i[t]+=a[t]||null:n.push(T({},a))}),n}function $et(e){var r=e.chart,t=e.options,n=t.barStyle,a=t.color,i=t.tooltip,o=t.colorField,l=t.type,s=t.xField,u=t.yField,f=t.data,c=t.shape,h=Yi(f,u);r.data(h);var p=Z({},e,{options:{tooltip:i,seriesField:o,interval:{style:n,color:a,shape:c||(l==="line"?"line":"intervel")},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return Oe(p),l==="line"&&fr({chart:r,options:{xField:s,yField:u,seriesField:o,point:{shape:"circle",color:a}}}),e}function GI(e){var r,t=e.options,n=t.yField,a=t.xField,i=t.data,o=t.isStack,l=t.isGroup,s=t.colorField,u=t.maxAngle,f=o&&!l&&s?Net(i,a,n):i,c=Yi(f,n);return gt(te((r={},r[n]={min:0,max:_et(u,n,c)},r)))(e)}function jet(e){var r=e.chart,t=e.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}).transpose(),e}function zet(e){var r=e.chart,t=e.options,n=t.xField,a=t.xAxis;return r.axis(n,a),e}function Het(e){var r=e.chart,t=e.options,n=t.label,a=t.yField,i=Me(r,"interval");if(!n)i.label(!1);else{var o=n.callback,l=_t(n,["callback"]);i.label({fields:[a],callback:o,cfg:T(T({},xe(l)),{type:"polar"})})}return e}function Vet(e){return gt(cr("barStyle"),$et,GI,zet,jet,Yt,$t,Et,de,ho,Xt(),Het)(e)}var Wet=Z({},bt.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radial-bar",t}return r.getDefaultOptions=function(){return Wet},r.prototype.changeData=function(t){this.updateOption({data:t}),GI({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Vet},r})(bt);function Get(e){var r=e.chart,t=e.options,n=t.data,a=t.sectorStyle,i=t.shape,o=t.color;return r.data(n),gt(Oe)(Z({},e,{options:{marginRatio:1,interval:{style:a,color:o,shape:i}}})),e}function Yet(e){var r=e.chart,t=e.options,n=t.label,a=t.xField,i=Me(r,"interval");if(n===!1)i.label(!1);else if(Bt(n)){var o=n.callback,l=n.fields,s=_t(n,["callback","fields"]),u=s.offset,f=s.layout;(u===void 0||u>=0)&&(f=f?J(f)?f:[f]:[],s.layout=Ee(f,function(c){return c.type!=="limit-in-shape"}),s.layout.length||delete s.layout),i.label({fields:l||[a],callback:o,cfg:xe(s)})}else wn(Dr.WARN,n===null,"the label option must be an Object."),i.label({fields:[a]});return e}function qet(e){var r=e.chart,t=e.options,n=t.legend,a=t.seriesField;return n===!1?r.legend(!1):a&&r.legend(a,n),e}function Xet(e){var r=e.chart,t=e.options,n=t.radius,a=t.innerRadius,i=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:a,startAngle:i,endAngle:o}}),e}function Uet(e){var r,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return gt(te((r={},r[i]=n,r[o]=a,r)))(e)}function Ket(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n?r.axis(i,n):r.axis(i,!1),a?r.axis(o,a):r.axis(o,!1),e}function Zet(e){gt(cr("sectorStyle"),Get,Uet,Yet,Xet,Ket,qet,de,Yt,$t,Et,Xt(),ha)(e)}var Qet=Z({},bt.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return Qet},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Zet},r})(bt);var Xb="x",Ub="y",Kb="name",nf="nodes",af="edges";function Jet(e,r,t){var n=[];return e.forEach(function(a){var i=a[r],o=a[t];n.includes(i)||n.push(i),n.includes(o)||n.push(o)}),n}function trt(e,r,t,n){var a={};return r.forEach(function(i){a[i]={},r.forEach(function(o){a[i][o]=0})}),e.forEach(function(i){a[i[t]][i[n]]=1}),a}function ert(e,r,t){if(!J(e))return[];var n=[],a=Jet(e,r,t),i=trt(e,a,r,t),o={};a.forEach(function(s){o[s]=0});function l(s){o[s]=1,a.forEach(function(u){if(i[s][u]!=0)if(o[u]==1)n.push("".concat(s,"_").concat(u));else{if(o[u]==-1)return;l(u)}}),o[s]=-1}return a.forEach(function(s){o[s]!=-1&&l(s)}),n.length!==0&&console.warn("sankey data contains circle, ".concat(n.length," records removed."),n),e.filter(function(s){return n.findIndex(function(u){return u==="".concat(s[r],"_").concat(s[t])})<0})}function rrt(e){return e.target.depth}function nrt(e){return e.depth}function art(e,r){return r-1-e.height}function Tg(e,r){return e.sourceLinks.length?e.depth:r-1}function irt(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?wz(e.sourceLinks,rrt)-1:0}function Ys(e){return function(){return e}}function Lh(e,r){for(var t=0,n=0;n<e.length;n++)t+=r(e[n]);return t}function Rh(e,r){for(var t=-1/0,n=0;n<e.length;n++)t=Math.max(r(e[n]),t);return t}function ort(e,r){for(var t=1/0,n=0;n<e.length;n++)t=Math.min(r(e[n]),t);return t}function Zb(e,r){return Yu(e.source,r.source)||e.index-r.index}function Qb(e,r){return Yu(e.target,r.target)||e.index-r.index}function Yu(e,r){return e.y0-r.y0}function Dh(e){return e.value}function lrt(e){return e.index}function srt(e){return e.nodes}function urt(e){return e.links}function Jb(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function tw(e){for(var r=e.nodes,t=0,n=r;t<n.length;t++){for(var a=n[t],i=a.y0,o=i,l=0,s=a.sourceLinks;l<s.length;l++){var u=s[l];u.y0=i+u.width/2,i+=u.width}for(var f=0,c=a.targetLinks;f<c.length;f++){var u=c[f];u.y1=o+u.width/2,o+=u.width}}}function crt(){var e=0,r=0,t=1,n=1,a=24,i=8,o,l=lrt,s=Tg,u,f,c,h=srt,p=urt,d=6;function v(_){var z={nodes:h(_),links:p(_)};return g(z),y(z),m(z),b(z),S(z),tw(z),z}v.update=function(_){return tw(_),_},v.nodeId=function(_){return arguments.length?(l=typeof _=="function"?_:Ys(_),v):l},v.nodeAlign=function(_){return arguments.length?(s=typeof _=="function"?_:Ys(_),v):s},v.nodeDepth=function(_){return arguments.length?(u=_,v):u},v.nodeSort=function(_){return arguments.length?(f=_,v):f},v.nodeWidth=function(_){return arguments.length?(a=+_,v):a},v.nodePadding=function(_){return arguments.length?(i=o=+_,v):i},v.nodes=function(_){return arguments.length?(h=typeof _=="function"?_:Ys(_),v):h},v.links=function(_){return arguments.length?(p=typeof _=="function"?_:Ys(_),v):p},v.linkSort=function(_){return arguments.length?(c=_,v):c},v.size=function(_){return arguments.length?(e=r=0,t=+_[0],n=+_[1],v):[t-e,n-r]},v.extent=function(_){return arguments.length?(e=+_[0][0],t=+_[1][0],r=+_[0][1],n=+_[1][1],v):[[e,r],[t,n]]},v.iterations=function(_){return arguments.length?(d=+_,v):d};function g(_){var z=_.nodes,X=_.links;z.forEach(function(G,R){G.index=R,G.sourceLinks=[],G.targetLinks=[]});var V=new Map(z.map(function(G){return[l(G),G]}));if(X.forEach(function(G,R){G.index=R;var W=G.source,U=G.target;typeof W!="object"&&(W=G.source=Jb(V,W)),typeof U!="object"&&(U=G.target=Jb(V,U)),W.sourceLinks.push(G),U.targetLinks.push(G)}),c!=null)for(var N=0,P=z;N<P.length;N++){var j=P[N],H=j.sourceLinks,Y=j.targetLinks;H.sort(c),Y.sort(c)}}function y(_){for(var z=_.nodes,X=0,V=z;X<V.length;X++){var N=V[X];N.value=N.fixedValue===void 0?Math.max(Lh(N.sourceLinks,Dh),Lh(N.targetLinks,Dh)):N.fixedValue}}function m(_){for(var z=_.nodes,X=z.length,V=new Set(z),N=new Set,P=0;V.size;){if(V.forEach(function(G){G.depth=P;for(var R=0,W=G.sourceLinks;R<W.length;R++){var U=W[R].target;N.add(U)}}),++P>X)throw new Error("circular link");V=N,N=new Set}if(u)for(var j=Math.max(Rh(z,function(G){return G.depth})+1,0),H=void 0,Y=0;Y<z.length;Y++)H=z[Y],H.depth=u.call(null,H,j)}function b(_){for(var z=_.nodes,X=z.length,V=new Set(z),N=new Set,P=0;V.size;){if(V.forEach(function(j){j.height=P;for(var H=0,Y=j.targetLinks;H<Y.length;H++){var G=Y[H].source;N.add(G)}}),++P>X)throw new Error("circular link");V=N,N=new Set}}function x(_){for(var z=_.nodes,X=Math.max(Rh(z,function(U){return U.depth})+1,0),V=(t-e-a)/(X-1),N=new Array(X).fill(0).map(function(){return[]}),P=0,j=z;P<j.length;P++){var H=j[P],Y=Math.max(0,Math.min(X-1,Math.floor(s.call(null,H,X))));H.layer=Y,H.x0=e+Y*V,H.x1=H.x0+a,N[Y]?N[Y].push(H):N[Y]=[H]}if(f)for(var G=0,R=N;G<R.length;G++){var W=R[G];W.sort(f)}return N}function w(_){for(var z=ort(_,function(K){return(n-r-(K.length-1)*o)/Lh(K,Dh)}),X=0,V=_;X<V.length;X++){for(var N=V[X],P=r,j=0,H=N;j<H.length;j++){var Y=H[j];Y.y0=P,Y.y1=P+Y.value*z,P=Y.y1+o;for(var G=0,R=Y.sourceLinks;G<R.length;G++){var W=R[G];W.width=W.value*z}}P=(n-P+o)/(N.length+1);for(var U=0;U<N.length;++U){var Y=N[U];Y.y0+=P*(U+1),Y.y1+=P*(U+1)}F(N)}}function S(_){var z=x(_);o=Math.min(i,(n-r)/(Rh(z,function(P){return P.length})-1)),w(z);for(var X=0;X<d;++X){var V=Math.pow(.99,X),N=Math.max(1-V,(X+1)/d);I(z,V,N),A(z,V,N)}}function A(_,z,X){for(var V=1,N=_.length;V<N;++V){for(var P=_[V],j=0,H=P;j<H.length;j++){for(var Y=H[j],G=0,R=0,W=0,U=Y.targetLinks;W<U.length;W++){var K=U[W],tt=K.source,rt=K.value,vt=rt*(Y.layer-tt.layer);G+=L(tt,Y)*vt,R+=vt}if(R>0){var st=(G/R-Y.y0)*z;Y.y0+=st,Y.y1+=st,O(Y)}}f===void 0&&P.sort(Yu),P.length&&k(P,X)}}function I(_,z,X){for(var V=_.length,N=V-2;N>=0;--N){for(var P=_[N],j=0,H=P;j<H.length;j++){for(var Y=H[j],G=0,R=0,W=0,U=Y.sourceLinks;W<U.length;W++){var K=U[W],tt=K.target,rt=K.value,vt=rt*(tt.layer-Y.layer);G+=D(Y,tt)*vt,R+=vt}if(R>0){var st=(G/R-Y.y0)*z;Y.y0+=st,Y.y1+=st,O(Y)}}f===void 0&&P.sort(Yu),P.length&&k(P,X)}}function k(_,z){var X=_.length>>1,V=_[X];M(_,V.y0-o,X-1,z),E(_,V.y1+o,X+1,z),M(_,n,_.length-1,z),E(_,r,0,z)}function E(_,z,X,V){for(;X<_.length;++X){var N=_[X],P=(z-N.y0)*V;P>1e-6&&(N.y0+=P,N.y1+=P),z=N.y1+o}}function M(_,z,X,V){for(;X>=0;--X){var N=_[X],P=(N.y1-z)*V;P>1e-6&&(N.y0-=P,N.y1-=P),z=N.y0-o}}function O(_){var z=_.sourceLinks,X=_.targetLinks;if(c===void 0){for(var V=0,N=X;V<N.length;V++){var P=N[V].source.sourceLinks;P.sort(Qb)}for(var j=0,H=z;j<H.length;j++){var Y=H[j].target.targetLinks;Y.sort(Zb)}}}function F(_){if(c===void 0)for(var z=0,X=_;z<X.length;z++){var V=X[z],N=V.sourceLinks,P=V.targetLinks;N.sort(Qb),P.sort(Zb)}}function L(_,z){for(var X=_.y0-(_.sourceLinks.length-1)*o/2,V=0,N=_.sourceLinks;V<N.length;V++){var P=N[V],j=P.target,H=P.width;if(j===z)break;X+=H+o}for(var Y=0,G=z.targetLinks;Y<G.length;Y++){var R=G[Y],j=R.source,H=R.width;if(j===_)break;X-=H}return X}function D(_,z){for(var X=z.y0-(z.targetLinks.length-1)*o/2,V=0,N=z.targetLinks;V<N.length;V++){var P=N[V],j=P.source,H=P.width;if(j===_)break;X+=H+o}for(var Y=0,G=_.sourceLinks;Y<G.length;Y++){var R=G[Y],j=R.target,H=R.width;if(j===z)break;X-=H}return X}return v}var frt={left:nrt,right:art,center:irt,justify:Tg},hrt={nodeId:function(e){return e.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function prt(e){var r=dt(e)?frt[e]:lt(e)?e:null;return r||Tg}function drt(e){return Nt({},hrt,e)}function vrt(e,r){var t=drt(e),n=t.nodeId,a=t.nodeSort,i=t.nodeAlign,o=t.nodeWidth,l=t.nodePadding,s=t.nodeDepth,u=crt().nodeSort(a).nodeWidth(o).nodePadding(l).nodeDepth(s).nodeAlign(prt(i)).extent([[0,0],[1,1]]).nodeId(n),f=u(r),c=f.nodes.map(function(p){var d=p.x0,v=p.x1,g=p.y0,y=p.y1;return p.x=[d,v,v,d],p.y=[g,g,y,y],p}).filter(function(p){return p.name!==null}),h=f.links.map(function(p){var d=p.source,v=p.target,g=d.x1,y=v.x0;p.x=[g,g,y,y];var m=p.width/2;return p.y=[p.y0+m,p.y0-m,p.y1+m,p.y1-m],p}).filter(function(p){var d=p.source,v=p.target;return d.name!==null&&v.name!==null});return{nodes:c,links:h}}function grt(e){return e==="node-link"}function yrt(e,r,t){return Za(e)?e/t:r}function mrt(e,r,t){return Za(e)?e/t:r}function YI(e,r,t){var n=e.dataType,a=e.data,i=e.sourceField,o=e.targetField,l=e.weightField,s=e.nodeAlign,u=e.nodeSort,f=e.nodePadding,c=e.nodePaddingRatio,h=e.nodeWidth,p=e.nodeWidthRatio,d=e.nodeDepth,v=e.rawFields,g=v===void 0?[]:v,y;grt(n)?y=a:y=rT(ert(a,i,o),i,o,l,g);var m=vrt({nodeAlign:s,nodePadding:mrt(f,c,t),nodeWidth:yrt(h,p,r),nodeSort:u,nodeDepth:d},y),b=m.nodes,x=m.links;return{nodes:b.map(function(w){return T(T({},Dt(w,pt(["x","y","name"],g,!0))),{isNode:!0})}),edges:x.map(function(w){return T(T({source:w.source.name,target:w.target.name,name:w.source.name||w.target.name},Dt(w,pt(["x","y","value"],g,!0))),{isNode:!1})})}}function xrt(e){var r=e.options,t=r.rawFields,n=t===void 0?[]:t;return Z({},{options:{tooltip:{fields:Ya(pt(["name","source","target","value","isNode"],n,!0))},label:{fields:Ya(pt(["x","name"],n,!0))}}},e)}function brt(e){var r=e.chart,t=e.options,n=t.color,a=t.nodeStyle,i=t.edgeStyle,o=t.label,l=t.tooltip,s=t.nodeState,u=t.edgeState,f=t.rawFields,c=f===void 0?[]:f;r.legend(!1),r.tooltip(l),r.axis(!1),r.coordinate().reflect("y");var h=YI(t,r.width,r.height),p=h.nodes,d=h.edges,v=r.createView({id:af});v.data(d),hT({chart:v,options:{xField:Xb,yField:Ub,seriesField:Kb,rawFields:pt(["source","target"],c,!0),edge:{color:n,style:i,shape:"arc"},tooltip:l,state:u}});var g=r.createView({id:nf});return g.data(p),Uc({chart:g,options:{xField:Xb,yField:Ub,seriesField:Kb,polygon:{color:n,style:a},label:o,tooltip:l,state:s}}),r.interaction("element-active"),r.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),e}function wrt(e){var r=e.chart,t=e.options,n=t.animation,a=pt(pt([],r.views[0].geometries,!0),r.views[1].geometries,!0);return Yl(r,n,a),e}function Srt(e){var r=e.chart,t=e.options,n=t.nodeDraggable,a="sankey-node-draggable";return n?r.interaction(a):r.removeInteraction(a),e}function Crt(e){var r=e.chart,t=e.options,n=t.interactions,a=n===void 0?[]:n,i=[].concat(a,t.nodeInteractions||[]),o=[].concat(a,t.edgeInteractions||[]),l=St(r,nf),s=St(r,af);return i.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),e}function Art(e){return gt(xrt,brt,Crt,Srt,wrt,Et)(e)}var Trt=function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDragging=!1,t}return r.prototype.isNodeElement=function(){var t=$(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},r.prototype.getNodeView=function(){return St(this.context.view,nf)},r.prototype.getEdgeView=function(){return St(this.context.view,af)},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:$(this.context,"event.x"),y:$(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},r.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:$(this.context,"event.x"),y:$(this.context,"event.y")},a=n.x-this.prevPoint.x,i=n.y-this.prevPoint.y,o=this.getNodeView(),l=o.geometries[0].elements[this.currentElementIdx];if(l&&l.getModel()){var s=l.getModel().data,u=o.getOptions().data,f=o.getCoordinate(),c={x:a/f.getWidth(),y:i/f.getHeight()},h=T(T({},s),{x:s.x.map(function(y){return y+=c.x}),y:s.y.map(function(y){return y+=c.y})}),p=pt([],u,!0);p[this.currentElementIdx]=h,o.data(p);var d=s.name,v=this.getEdgeView(),g=v.getOptions().data;g.forEach(function(y){y.source===d&&(y.x[0]+=c.x,y.x[1]+=c.x,y.y[0]+=c.y,y.y[1]+=c.y),y.target===d&&(y.x[2]+=c.x,y.x[3]+=c.x,y.y[2]+=c.y,y.y[3]+=c.y)}),v.data(g),this.prevPoint=n,t.render(!0)}}},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r}(Ht);ft("sankey-node-drag",Trt);xt("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(e){return e.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sankey",t}return r.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var n=t.name;return n},callback:function(t){var n=t[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!$(t,[0,"data","isNode"])},formatter:function(t){var n=t.source,a=t.target,i=t.value;return{name:n+" -> "+a,value:i}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},r.prototype.changeData=function(t){this.updateOption({data:t});var n=YI(this.options,this.chart.width,this.chart.height),a=n.nodes,i=n.edges,o=St(this.chart,nf),l=St(this.chart,af);o.changeData(a),l.changeData(i)},r.prototype.getSchemaAdaptor=function(){return Art},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r})(bt);var Ig="ancestor-node",qI="value",Pl="path",Irt=[Pl,NI,wg,$I,"name","depth","height"],Ert=Z({},bt.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),Mrt={field:"value",size:[1,1],round:!1,padding:0,sort:function(e,r){return r.value-e.value},as:["x","y"],ignoreParentValue:!0};function Ort(e,r){r=Nt({},Mrt,r);var t=r.as;if(!J(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=Sg(r)}catch(s){console.warn(s)}var a=function(s){return LI().size(r.size).round(r.round).padding(r.padding)(yo(s).sum(function(u){return me(u.children)?r.ignoreParentValue?0:u[n]-Le(u.children,function(f,c){return f+c[n]},0):u[n]}).sort(r.sort))},i=a(e),o=t[0],l=t[1];return i.each(function(s){var u,f;s[o]=[s.x0,s.x1,s.x1,s.x0],s[l]=[s.y1,s.y1,s.y0,s.y0],s.name=s.name||((u=s.data)===null||u===void 0?void 0:u.name)||((f=s.data)===null||f===void 0?void 0:f.label),s.data.name=s.name,["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete s[c]})}),Cg(i)}var krt={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(e,r){return r.value-e.value},ratio:.5*(1+Math.sqrt(5))};function Frt(e,r){return e==="treemapSquarify"?_b[e].ratio(r):_b[e]}function XI(e,r){r=Nt({},krt,r);var t=r.as;if(!J(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=Sg(r)}catch(u){console.warn(u)}var a=Frt(r.tile,r.ratio),i=function(u){return _I().tile(a).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft)(yo(u).sum(function(f){return r.ignoreParentValue&&f.children?0:f[n]}).sort(r.sort))},o=i(e),l=t[0],s=t[1];return o.each(function(u){u[l]=[u.x0,u.x1,u.x1,u.x0],u[s]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(f){t.indexOf(f)===-1&&delete u[f]})}),Cg(o)}function UI(e){var r=e.data,t=e.colorField,n=e.rawFields,a=e.hierarchyConfig,i=a===void 0?{}:a,o=i.activeDepth,l={partition:Ort,treemap:XI},s=e.seriesField,u=e.type||"partition",f=l[u](r,T(T({field:s||"value"},uc(i,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),c=[];return f.forEach(function(h){var p,d,v,g,y,m;if(h.depth===0||o>0&&h.depth>o)return null;for(var b=h.data.name,x=T({},h);x.depth>1;)b="".concat((d=x.parent.data)===null||d===void 0?void 0:d.name," / ").concat(b),x=x.parent;var w=T(T(T({},Dt(h.data,pt(pt([],n||[],!0),[i.field],!1))),(p={},p[Pl]=b,p[Ig]=x.data.name,p)),h);s&&(w[s]=h.data[s]||((g=(v=h.parent)===null||v===void 0?void 0:v.data)===null||g===void 0?void 0:g[s])),t&&(w[t]=h.data[t]||((m=(y=h.parent)===null||y===void 0?void 0:y.data)===null||m===void 0?void 0:m[t])),w.ext=i,w[Fl]={hierarchyConfig:i,colorField:t,rawFields:n},c.push(w)}),c}function Prt(e){var r=e.chart,t=e.options,n=t.color,a=t.colorField,i=a===void 0?Ig:a,o=t.sunburstStyle,l=t.rawFields,s=l===void 0?[]:l,u=t.shape,f=UI(t);r.data(f);var c;return o&&(c=function(h){return Z({},{fillOpacity:Math.pow(.85,h.depth)},lt(o)?o(h):o)}),Uc(Z({},e,{options:{xField:"x",yField:"y",seriesField:i,rawFields:Ya(pt(pt([],Irt,!0),s,!0)),polygon:{color:n,style:c,shape:u}}})),e}function Lrt(e){var r=e.chart;return r.axis(!1),e}function Rrt(e){var r=e.chart,t=e.options,n=t.label,a=Me(r,"polygon");if(!n)a.label(!1);else{var i=n.fields,o=i===void 0?["name"]:i,l=n.callback,s=_t(n,["fields","callback"]);a.label({fields:o,callback:l,cfg:xe(s)})}return e}function Drt(e){var r=e.chart,t=e.options,n=t.innerRadius,a=t.radius,i=t.reflect,o=r.coordinate({type:"polar",cfg:{innerRadius:n,radius:a}});return i&&o.reflect(i),e}function Brt(e){var r,t=e.options,n=t.hierarchyConfig,a=t.meta;return gt(te({},(r={},r[qI]=$(a,$(n,["field"],"value")),r)))(e)}function _rt(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var a=n;$(n,"fields")||(a=Z({},{customItems:function(i){return i.map(function(o){var l=$(r.getOptions(),"scales"),s=$(l,[Pl,"formatter"],function(f){return f}),u=$(l,[qI,"formatter"],function(f){return f});return T(T({},o),{name:s(o.data[Pl]),value:u(o.data.value)})})}},a)),r.tooltip(a)}return e}function Nrt(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return r!=null&&r.enabled?Z({},e,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:UI}}],!1)}):e}function $rt(e){var r=e.chart,t=e.options,n=t.drilldown;return Yt({chart:r,options:Nrt(t)}),n!=null&&n.enabled&&(r.appendPadding=Wc(r.appendPadding,$(n,["breadCrumb","position"]))),e}function jrt(e){return gt(Et,cr("sunburstStyle"),Prt,Lrt,Brt,ho,Drt,_rt,Rrt,$rt,$t,Xt())(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sunburst",t}return r.getDefaultOptions=function(){return Ert},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return jrt},r.SUNBURST_ANCESTOR_FIELD=Ig,r.SUNBURST_PATH_FIELD=Pl,r.NODE_ANCESTORS_FIELD=wg,r})(bt);function KI(e,r){if(J(e))return e.find(function(t){return t.type===r})}function ZI(e,r){var t=KI(e,r);return t&&t.enable!==!1}function Eg(e){var r=e.interactions,t=e.drilldown;return $(t,"enabled")||ZI(r,"treemap-drill-down")}function zrt(e){var r=e.interactions["drill-down"];if(r){var t=r.context.actions.find(function(n){return n.name==="drill-down-action"});t.reset()}}function Mg(e){var r=e.data,t=e.colorField,n=e.enableDrillDown,a=e.hierarchyConfig,i=XI(r,T(T({},a),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return i.forEach(function(l){if(l.depth===0||n&&l.depth!==1||!n&&l.children)return null;var s=l.ancestors().map(function(h){return{data:h.data,height:h.height,value:h.value}}),u=n&&J(r.path)?s.concat(r.path.slice(1)):s,f=Object.assign({},l.data,T({x:l.x,y:l.y,depth:l.depth,value:l.value,path:u},l));if(!l.data[t]&&l.parent){var c=l.ancestors().find(function(h){return h.data[t]});f[t]=c==null?void 0:c.data[t]}else f[t]=l.data[t];f[Fl]={hierarchyConfig:a,colorField:t,enableDrillDown:n},o.push(f)}),o}function Hrt(e){var r=e.options,t=r.colorField;return Z({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},e)}function Vrt(e){var r=e.chart,t=e.options,n=t.color,a=t.colorField,i=t.rectStyle,o=t.hierarchyConfig,l=t.rawFields,s=Mg({data:t.data,colorField:t.colorField,enableDrillDown:Eg(t),hierarchyConfig:o});return r.data(s),Uc(Z({},e,{options:{xField:"x",yField:"y",seriesField:a,rawFields:l,polygon:{color:n,style:i}}})),r.coordinate().reflect("y"),e}function Wrt(e){var r=e.chart;return r.axis(!1),e}function Grt(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t,a=Eg(e);return a?Z({},e,{interactions:pt(pt([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Mg}}],!1)}):e}function Yrt(e){var r=e.chart,t=e.options,n=t.interactions,a=t.drilldown;Yt({chart:r,options:Grt(t)});var i=KI(n,"view-zoom");i&&(i.enable!==!1?r.getCanvas().on("mousewheel",function(l){l.preventDefault()}):r.getCanvas().off("mousewheel"));var o=Eg(t);return o&&(r.appendPadding=Wc(r.appendPadding,$(a,["breadCrumb","position"]))),e}function qrt(e){return gt(Hrt,Et,cr("rectStyle"),Vrt,Wrt,ho,de,Yrt,$t,Xt())(e)}var Xrt={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"初始",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return Xrt},r.prototype.changeData=function(t){var n=this.options,a=n.colorField,i=n.interactions,o=n.hierarchyConfig;this.updateOption({data:t});var l=Mg({data:t,colorField:a,enableDrillDown:ZI(i,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(l),zrt(this.chart)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return qrt},r})(bt);var yn="id",Cd="path",Urt={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(e){return{name:e.id,value:e.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function of(e){if(e){var r=e.geometries[0].elements;r.forEach(function(t){t.shape.toFront()})}}var Krt=Bc("element-active"),Zrt=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){of(this.context.view)},r.prototype.active=function(){e.prototype.active.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(Krt),Qrt=Bc("element-highlight"),Jrt=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){of(this.context.view)},r.prototype.highlight=function(){e.prototype.highlight.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.clear=function(){e.prototype.clear.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(Qrt),tnt=Bc("element-selected"),ent=Bc("element-single-selected"),rnt=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){of(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(tnt),nnt=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){of(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(ent);ft("venn-element-active",Zrt);ft("venn-element-highlight",Jrt);ft("venn-element-selected",rnt);ft("venn-element-single-selected",nnt);xt("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]});xt("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]});xt("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]});xt("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]});xt("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]});xt("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var ant=function(e){q(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelPoint=function(t,n,a){var i=t.data,o=i.x,l=i.y,s=t.customLabelInfo,u=s.offsetX,f=s.offsetY;return{content:t.content[a],x:o+u,y:l+f}},r}(jc);Vl("venn",ant);var el=`	
\v\f\r   ᠎             　\u2028\u2029`,int=new RegExp("([a-z])["+el+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+el+"]*,?["+el+"]*)+)","ig"),ont=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+el+"]*,?["+el+"]*","ig");function lnt(e){if(!e)return null;if(rl(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(int,function(n,a,i){var o=[],l=a.toLowerCase();if(i.replace(ont,function(s,u){u&&o.push(+u)}),l==="m"&&o.length>2&&(t.push([a].concat(o.splice(0,2))),l="l",a=a==="m"?"l":"L"),l==="o"&&o.length===1&&t.push([a,o[0]]),l==="r")t.push([a].concat(o));else for(;o.length>=r[l]&&(t.push([a].concat(o.splice(0,r[l]))),!!r[l]););return""}),t}function snt(e){return Z({},e.defaultStyle,{fill:e.color},e.style)}Pt("schema","venn",{draw:function(e,r){var t=e.data,n=lnt(t[Cd]),a=snt(e),i=r.addGroup({name:"venn-shape"});i.addShape("path",{attrs:T(T({},a),{path:n}),name:"venn-path"});var o=e.customInfo,l=o.offsetX,s=o.offsetY,u=Ke.transform(null,[["t",l,s]]);return i.setMatrix(u),i},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{lineWidth:0,stroke:r,fill:r,r:4}}}});var unt=function(e){return function(r,t){var n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n}},ew={normal:function(e){return e},multiply:function(e,r){return e*r/255},screen:function(e,r){return 255*(1-(1-e/255)*(1-r/255))},overlay:function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},darken:function(e,r){return e>r?r:e},lighten:function(e,r){return e>r?e:r},dodge:function(e,r){return e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e)},burn:function(e,r){return r===255?255:e===0?0:255*(1-Math.min(1,(1-r/255)/(e/255)))}},cnt=function(e){if(!ew[e])throw new Error("unknown blend mode "+e);return ew[e]};function fnt(e,r,t){t===void 0&&(t="normal");var n=unt(cnt(t))(qs(e),qs(r)),a=qs(e),i=a[0],o=a[1],l=a[2],s=a[3],u=qs(r),f=u[0],c=u[1],h=u[2],p=u[3],d=Number((s+p*(1-s)).toFixed(2)),v=Math.round((s*(1-p)*(i/255)+s*p*(n[0]/255)+(1-s)*p*(f/255))/d*255),g=Math.round((s*(1-p)*(o/255)+s*p*(n[1]/255)+(1-s)*p*(c/255))/d*255),y=Math.round((s*(1-p)*(l/255)+s*p*(n[2]/255)+(1-s)*p*(h/255))/d*255);return"rgba(".concat(v,", ").concat(g,", ").concat(y,", ").concat(d,")")}function qs(e){var r=e.replace("/s+/g",""),t;return typeof r=="string"&&!r.startsWith("rgba")&&!r.startsWith("#")?t=qn.rgb2arr(qn.toRGB(r)).concat([1]):(r.startsWith("rgba")&&(t=r.replace("rgba(","").replace(")","").split(",")),r.startsWith("#")&&(t=qn.rgb2arr(r).concat([1])),t.map(function(n,a){return a===3?Number(n):n|0}))}function hnt(e,r,t,n){n=n||{};var a=n.maxIterations||100,i=n.tolerance||1e-10,o=e(r),l=e(t),s=t-r;if(o*l>0)throw"Initial bisect points must have opposite signs";if(o===0)return r;if(l===0)return t;for(var u=0;u<a;++u){s/=2;var f=r+s,c=e(f);if(c*o>=0&&(r=f),Math.abs(s)<i||c===0)return f}return r+s}function Ad(e){for(var r=new Array(e),t=0;t<e;++t)r[t]=0;return r}function rw(e,r){return Ad(e).map(function(){return Ad(r)})}function Li(e,r){for(var t=0,n=0;n<e.length;++n)t+=e[n]*r[n];return t}function Td(e){return Math.sqrt(Li(e,e))}function Id(e,r,t){for(var n=0;n<r.length;++n)e[n]=r[n]*t}function cn(e,r,t,n,a){for(var i=0;i<e.length;++i)e[i]=r*t[i]+n*a[i]}function QI(e,r,t){t=t||{};var n=t.maxIterations||r.length*200,a=t.nonZeroDelta||1.05,i=t.zeroDelta||.001,o=t.minErrorDelta||1e-6,l=t.minErrorDelta||1e-5,s=t.rho!==void 0?t.rho:1,u=t.chi!==void 0?t.chi:2,f=t.psi!==void 0?t.psi:-.5,c=t.sigma!==void 0?t.sigma:.5,h,p=r.length,d=new Array(p+1);d[0]=r,d[0].fx=e(r),d[0].id=0;for(var v=0;v<p;++v){var g=r.slice();g[v]=g[v]?g[v]*a:i,d[v+1]=g,d[v+1].fx=e(g),d[v+1].id=v+1}function y(O){for(var F=0;F<O.length;F++)d[p][F]=O[F];d[p].fx=O.fx}for(var m=function(O,F){return O.fx-F.fx},b=r.slice(),x=r.slice(),w=r.slice(),S=r.slice(),A=0;A<n;++A){if(d.sort(m),t.history){var I=d.map(function(O){var F=O.slice();return F.fx=O.fx,F.id=O.id,F});I.sort(function(O,F){return O.id-F.id}),t.history.push({x:d[0].slice(),fx:d[0].fx,simplex:I})}for(h=0,v=0;v<p;++v)h=Math.max(h,Math.abs(d[0][v]-d[1][v]));if(Math.abs(d[0].fx-d[p].fx)<o&&h<l)break;for(v=0;v<p;++v){b[v]=0;for(var k=0;k<p;++k)b[v]+=d[k][v];b[v]/=p}var E=d[p];if(cn(x,1+s,b,-s,E),x.fx=e(x),x.fx<d[0].fx)cn(S,1+u,b,-u,E),S.fx=e(S),S.fx<x.fx?y(S):y(x);else if(x.fx>=d[p-1].fx){var M=!1;if(x.fx>E.fx?(cn(w,1+f,b,-f,E),w.fx=e(w),w.fx<E.fx?y(w):M=!0):(cn(w,1-f*s,b,f*s,E),w.fx=e(w),w.fx<x.fx?y(w):M=!0),M){if(c>=1)break;for(v=1;v<d.length;++v)cn(d[v],1-c,d[0],c,d[v]),d[v].fx=e(d[v])}}else y(x)}return d.sort(m),{fx:d[0].fx,x:d[0]}}function pnt(e,r,t,n,a,i,o){var l=t.fx,s=Li(t.fxprime,r),u=l,f=l,c=s,h=0;a=a||1,i=i||1e-6,o=o||.1;function p(v,g,y){for(var m=0;m<16;++m)if(a=(v+g)/2,cn(n.x,1,t.x,a,r),u=n.fx=e(n.x,n.fxprime),c=Li(n.fxprime,r),u>l+i*a*s||u>=y)g=a;else{if(Math.abs(c)<=-o*s)return a;c*(g-v)>=0&&(g=v),v=a,y=u}return 0}for(var d=0;d<10;++d){if(cn(n.x,1,t.x,a,r),u=n.fx=e(n.x,n.fxprime),c=Li(n.fxprime,r),u>l+i*a*s||d&&u>=f)return p(h,a,f);if(Math.abs(c)<=-o*s)return a;if(c>=0)return p(a,h,u);f=u,h=a,a*=2}return a}function dnt(e,r,t){var n={x:r.slice(),fx:0,fxprime:r.slice()},a={x:r.slice(),fx:0,fxprime:r.slice()},i=r.slice(),o,l,s=1,u;t=t||{},u=t.maxIterations||r.length*20,n.fx=e(n.x,n.fxprime),o=n.fxprime.slice(),Id(o,n.fxprime,-1);for(var f=0;f<u;++f){if(s=pnt(e,o,n,a,s),t.history&&t.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:s}),!s)Id(o,n.fxprime,-1);else{cn(i,1,a.fxprime,-1,n.fxprime);var c=Li(n.fxprime,n.fxprime),h=Math.max(0,Li(i,a.fxprime)/c);cn(o,h,o,-1,a.fxprime),l=n,n=a,a=l}if(Td(n.fxprime)<=1e-5)break}return t.history&&t.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:s}),n}var JI=1e-10;function Og(e,r){var t=gnt(e),n=t.filter(function(A){return vnt(A,e)}),a=0,i=0,o,l=[];if(n.length>1){var s=rE(n);for(o=0;o<n.length;++o){var u=n[o];u.angle=Math.atan2(u.x-s.x,u.y-s.y)}n.sort(function(A,I){return I.angle-A.angle});var f=n[n.length-1];for(o=0;o<n.length;++o){var c=n[o];i+=(f.x+c.x)*(c.y-f.y);for(var h={x:(c.x+f.x)/2,y:(c.y+f.y)/2},p=null,d=0;d<c.parentIndex.length;++d)if(f.parentIndex.indexOf(c.parentIndex[d])>-1){var v=e[c.parentIndex[d]],g=Math.atan2(c.x-v.x,c.y-v.y),y=Math.atan2(f.x-v.x,f.y-v.y),m=y-g;m<0&&(m+=2*Math.PI);var b=y-m/2,x=Fr(h,{x:v.x+v.radius*Math.sin(b),y:v.y+v.radius*Math.cos(b)});x>v.radius*2&&(x=v.radius*2),(p===null||p.width>x)&&(p={circle:v,width:x,p1:c,p2:f})}p!==null&&(l.push(p),a+=Ed(p.circle.radius,p.width),f=c)}}else{var w=e[0];for(o=1;o<e.length;++o)e[o].radius<w.radius&&(w=e[o]);var S=!1;for(o=0;o<e.length;++o)if(Fr(e[o],w)>Math.abs(w.radius-e[o].radius)){S=!0;break}S?a=i=0:(a=w.radius*w.radius*Math.PI,l.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-JI,y:w.y+w.radius},width:w.radius*2}))}return i/=2,r&&(r.area=a+i,r.arcArea=a,r.polygonArea=i,r.arcs=l,r.innerPoints=n,r.intersectionPoints=t),a+i}function vnt(e,r){for(var t=0;t<r.length;++t)if(Fr(e,r[t])>r[t].radius+JI)return!1;return!0}function gnt(e){for(var r=[],t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)for(var a=eE(e[t],e[n]),i=0;i<a.length;++i){var o=a[i];o.parentIndex=[t,n],r.push(o)}return r}function Ed(e,r){return e*e*Math.acos(1-r/e)-(e-r)*Math.sqrt(r*(2*e-r))}function Fr(e,r){return Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y))}function tE(e,r,t){if(t>=e+r)return 0;if(t<=Math.abs(e-r))return Math.PI*Math.min(e,r)*Math.min(e,r);var n=e-(t*t-r*r+e*e)/(2*t),a=r-(t*t-e*e+r*r)/(2*t);return Ed(e,n)+Ed(r,a)}function eE(e,r){var t=Fr(e,r),n=e.radius,a=r.radius;if(t>=n+a||t<=Math.abs(n-a))return[];var i=(n*n-a*a+t*t)/(2*t),o=Math.sqrt(n*n-i*i),l=e.x+i*(r.x-e.x)/t,s=e.y+i*(r.y-e.y)/t,u=-(r.y-e.y)*(o/t),f=-(r.x-e.x)*(o/t);return[{x:l+u,y:s-f},{x:l-u,y:s+f}]}function rE(e){for(var r={x:0,y:0},t=0;t<e.length;++t)r.x+=e[t].x,r.y+=e[t].y;return r.x/=e.length,r.y/=e.length,r}function Bh(e,r,t){var n=r[0].radius-Fr(r[0],e),a,i;for(a=1;a<r.length;++a)i=r[a].radius-Fr(r[a],e),i<=n&&(n=i);for(a=0;a<t.length;++a)i=Fr(t[a],e)-t[a].radius,i<=n&&(n=i);return n}function nE(e,r){var t=[],n;for(n=0;n<e.length;++n){var a=e[n];t.push({x:a.x,y:a.y}),t.push({x:a.x+a.radius/2,y:a.y}),t.push({x:a.x-a.radius/2,y:a.y}),t.push({x:a.x,y:a.y+a.radius/2}),t.push({x:a.x,y:a.y-a.radius/2})}var i=t[0],o=Bh(t[0],e,r);for(n=1;n<t.length;++n){var l=Bh(t[n],e,r);l>=o&&(i=t[n],o=l)}var s=QI(function(h){return-1*Bh({x:h[0],y:h[1]},e,r)},[i.x,i.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:s[0],y:s[1]},f=!0;for(n=0;n<e.length;++n)if(Fr(u,e[n])>e[n].radius){f=!1;break}for(n=0;n<r.length;++n)if(Fr(u,r[n])<r[n].radius){f=!1;break}if(!f)if(e.length==1)u={x:e[0].x,y:e[0].y};else{var c={};Og(e,c),c.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:c.arcs.length==1?u={x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}:r.length?u=nE(e,[]):u=rE(c.arcs.map(function(h){return h.p1}))}return u}function ynt(e){var r={},t=[];for(var n in e)t.push(n),r[n]=[];for(var a=0;a<t.length;a++)for(var i=e[t[a]],o=a+1;o<t.length;++o){var l=e[t[o]],s=Fr(i,l);s+l.radius<=i.radius+1e-10?r[t[o]].push(t[a]):s+i.radius<=l.radius+1e-10&&r[t[a]].push(t[o])}return r}function mnt(e,r){for(var t={},n=ynt(e),a=0;a<r.length;++a){for(var i=r[a].sets,o={},l={},s=0;s<i.length;++s){o[i[s]]=!0;for(var u=n[i[s]],f=0;f<u.length;++f)l[u[f]]=!0}var c=[],h=[];for(var p in e)p in o?c.push(e[p]):p in l||h.push(e[p]);var d=nE(c,h);t[i]=d,d.disjoint&&r[a].size>0&&console.log("WARNING: area "+i+" not represented on screen")}return t}function xnt(e,r,t){var n=[],a=e-t,i=r;return n.push("M",a,i),n.push("A",t,t,0,1,0,a+2*t,i),n.push("A",t,t,0,1,0,a,i),n.join(" ")}function bnt(e){var r={};Og(e,r);var t=r.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var n=t[0].circle;return xnt(n.x,n.y,n.radius)}else{for(var a=[`
M`,t[0].p2.x,t[0].p2.y],i=0;i<t.length;++i){var o=t[i],l=o.circle.radius,s=o.width>l;a.push(`
A`,l,l,0,s?1:0,1,o.p1.x,o.p1.y)}return a.join(" ")}}function wnt(e,r){r=r||{},r.maxIterations=r.maxIterations||500;var t=r.initialLayout||Tnt,n=r.lossFunction||kg;e=Snt(e);var a=t(e,r),i=[],o=[],l;for(l in a)a.hasOwnProperty(l)&&(i.push(a[l].x),i.push(a[l].y),o.push(l));for(var s=QI(function(c){for(var h={},p=0;p<o.length;++p){var d=o[p];h[d]={x:c[2*p],y:c[2*p+1],radius:a[d].radius}}return n(h,e)},i,r),u=s.x,f=0;f<o.length;++f)l=o[f],a[l].x=u[2*f],a[l].y=u[2*f+1];return a}var aE=1e-10;function Md(e,r,t){return Math.min(e,r)*Math.min(e,r)*Math.PI<=t+aE?Math.abs(e-r):hnt(function(n){return tE(e,r,n)-t},0,e+r)}function Snt(e){e=e.slice();var r=[],t={},n,a,i,o;for(n=0;n<e.length;++n){var l=e[n];l.sets.length==1?r.push(l.sets[0]):l.sets.length==2&&(i=l.sets[0],o=l.sets[1],t[[i,o]]=!0,t[[o,i]]=!0)}for(r.sort(function(s,u){return s>u?1:-1}),n=0;n<r.length;++n)for(i=r[n],a=n+1;a<r.length;++a)o=r[a],[i,o]in t||e.push({sets:[i,o],size:0});return e}function Cnt(e,r,t){var n=rw(r.length,r.length),a=rw(r.length,r.length);return e.filter(function(i){return i.sets.length==2}).map(function(i){var o=t[i.sets[0]],l=t[i.sets[1]],s=Math.sqrt(r[o].size/Math.PI),u=Math.sqrt(r[l].size/Math.PI),f=Md(s,u,i.size);n[o][l]=n[l][o]=f;var c=0;i.size+1e-10>=Math.min(r[o].size,r[l].size)?c=1:i.size<=1e-10&&(c=-1),a[o][l]=a[l][o]=c}),{distances:n,constraints:a}}function Ant(e,r,t,n){var a=0,i;for(i=0;i<r.length;++i)r[i]=0;for(i=0;i<t.length;++i)for(var o=e[2*i],l=e[2*i+1],s=i+1;s<t.length;++s){var u=e[2*s],f=e[2*s+1],c=t[i][s],h=n[i][s],p=(u-o)*(u-o)+(f-l)*(f-l),d=Math.sqrt(p),v=p-c*c;h>0&&d<=c||h<0&&d>=c||(a+=2*v*v,r[2*i]+=4*v*(o-u),r[2*i+1]+=4*v*(l-f),r[2*s]+=4*v*(u-o),r[2*s+1]+=4*v*(f-l))}return a}function Tnt(e,r){var t=Ent(e,r),n=r.lossFunction||kg;if(e.length>=8){var a=Int(e,r),i=n(a,e),o=n(t,e);i+1e-8<o&&(t=a)}return t}function Int(e,r){r=r||{};var t=r.restarts||10,n=[],a={},i;for(i=0;i<e.length;++i){var o=e[i];o.sets.length==1&&(a[o.sets[0]]=n.length,n.push(o))}var l=Cnt(e,n,a),s=l.distances,u=l.constraints,f=Td(s.map(Td))/s.length;s=s.map(function(m){return m.map(function(b){return b/f})});var c=function(m,b){return Ant(m,b,s,u)},h,p;for(i=0;i<t;++i){var d=Ad(s.length*2).map(Math.random);p=dnt(c,d,r),(!h||p.fx<h.fx)&&(h=p)}var v=h.x,g={};for(i=0;i<n.length;++i){var y=n[i];g[y.sets[0]]={x:v[2*i]*f,y:v[2*i+1]*f,radius:Math.sqrt(y.size/Math.PI)}}if(r.history)for(i=0;i<r.history.length;++i)Id(r.history[i].x,f);return g}function Ent(e,r){for(var t=r&&r.lossFunction?r.lossFunction:kg,n={},a={},i,o=0;o<e.length;++o){var l=e[o];l.sets.length==1&&(i=l.sets[0],n[i]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:l.size,radius:Math.sqrt(l.size/Math.PI)},a[i]=[])}e=e.filter(function(_){return _.sets.length==2});for(var o=0;o<e.length;++o){var s=e[o],u=s.hasOwnProperty("weight")?s.weight:1,f=s.sets[0],c=s.sets[1];s.size+aE>=Math.min(n[f].size,n[c].size)&&(u=0),a[f].push({set:c,size:s.size,weight:u}),a[c].push({set:f,size:s.size,weight:u})}var h=[];for(i in a)if(a.hasOwnProperty(i)){for(var p=0,o=0;o<a[i].length;++o)p+=a[i][o].size*a[i][o].weight;h.push({set:i,size:p})}function d(_,z){return z.size-_.size}h.sort(d);var v={};function g(_){return _.set in v}function y(_,z){n[z].x=_.x,n[z].y=_.y,v[z]=!0}y({x:0,y:0},h[0].set);for(var o=1;o<h.length;++o){var m=h[o].set,b=a[m].filter(g);if(i=n[m],b.sort(d),b.length===0)throw"ERROR: missing pairwise overlap information";for(var x=[],w=0;w<b.length;++w){var S=n[b[w].set],A=Md(i.radius,S.radius,b[w].size);x.push({x:S.x+A,y:S.y}),x.push({x:S.x-A,y:S.y}),x.push({y:S.y+A,x:S.x}),x.push({y:S.y-A,x:S.x});for(var I=w+1;I<b.length;++I)for(var k=n[b[I].set],E=Md(i.radius,k.radius,b[I].size),M=eE({x:S.x,y:S.y,radius:A},{x:k.x,y:k.y,radius:E}),O=0;O<M.length;++O)x.push(M[O])}for(var F=1e50,L=x[0],w=0;w<x.length;++w){n[m].x=x[w].x,n[m].y=x[w].y;var D=t(n,e);D<F&&(F=D,L=x[w])}y(L,m)}return n}function kg(e,r){var t=0;function n(f){return f.map(function(c){return e[c]})}for(var a=0;a<r.length;++a){var i=r[a],o=void 0;if(i.sets.length!=1){if(i.sets.length==2){var l=e[i.sets[0]],s=e[i.sets[1]];o=tE(l.radius,s.radius,Fr(l,s))}else o=Og(n(i.sets));var u=i.hasOwnProperty("weight")?i.weight:1;t+=u*(o-i.size)*(o-i.size)}}return t}function Mnt(e){var r=function(t){var n=Math.max.apply(null,e.map(function(i){return i[t]+i.radius})),a=Math.min.apply(null,e.map(function(i){return i[t]-i.radius}));return{max:n,min:a}};return{xRange:r("x"),yRange:r("y")}}function Ont(e,r,t,n){var a=[],i=[];for(var o in e)e.hasOwnProperty(o)&&(i.push(o),a.push(e[o]));r-=2*n,t-=2*n;var l=Mnt(a),s=l.xRange,u=l.yRange;if(s.max==s.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),e;for(var f=r/(s.max-s.min),c=t/(u.max-u.min),h=Math.min(c,f),p=(r-(s.max-s.min)*h)/2,d=(t-(u.max-u.min)*h)/2,v={},g=0;g<a.length;++g){var y=a[g];v[i[g]]={radius:h*y.radius,x:n+p+(y.x-s.min)*h,y:n+d+(y.y-u.min)*h}}return v}var knt=lo(function(e,r,t,n){var a=new Map,i=e.length;return r.forEach(function(o,l){if(o[n].length===1)a.set(o[yn],e[(l+i)%i]);else{var s=o[n].map(function(u){return a.get(u)});a.set(o[yn],s.slice(1).reduce(function(u,f){return fnt(u,f,t)},s[0]))}}),a},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return JSON.stringify(e)});function Fnt(e,r,t,n){n===void 0&&(n=0);var a=e.data,i=e.setsField,o=e.sizeField;if(a.length===0)return wn(Dr.WARN,!1,"warn: %s","数据不能为空"),[];var l=a.map(function(c){var h;return T(T({},c),(h={sets:c[i]||[],size:c[o]},h[Cd]="",h[yn]="",h))});l.sort(function(c,h){return c.sets.length-h.sets.length});var s=wnt(l),u=Ont(s,r,t,n),f=mnt(u,l);return l.forEach(function(c){var h=c.sets,p=h.join(",");c[yn]=p;var d=h.map(function(y){return u[y]}),v=bnt(d);/[zZ]$/.test(v)||(v+=" Z"),c[Cd]=v;var g=f[p]||{x:0,y:0};Nt(c,g)}),l}function Pnt(e,r){for(var t=0;t<r.length;t++)if(!e.includes(r[t]))return!1;return!0}var Lnt=40;function iE(e,r,t){var n=e.chart,a=e.options,i=a.blendMode,o=a.setsField,l=n.getTheme(),s=l.colors10,u=l.colors20,f=t;J(f)||(f=r.filter(function(h){return h[o].length===1}).length<=10?s:u);var c=knt(f,r,i,o);return function(h){return c.get(h)||f[0]}}function Rnt(e,r){var t=e.options,n=t.color;if(typeof n!="function"){var a=typeof n=="string"?[n]:n,i=iE(e,r,a);return function(o){return i(o[yn])}}return n}function Dnt(e){var r=e.chart,t=e.options,n=t.legend,a=t.appendPadding,i=t.padding,o=na(a);return n!==!1&&(o=Wc(a,$(n,"position"),Lnt)),r.appendPadding=lg([o,i]),e}function Bnt(e){var r=e.options,t=r.data;t||(wn(Dr.WARN,!1,"warn: %s","数据不能为空"),t=[]);var n=t.filter(function(i){return i.sets.length===1}).map(function(i){return i.sets[0]}),a=t.filter(function(i){var o=i.sets;return Pnt(n,o)});return Jt(a,t)||wn(Dr.WARN,!1,"warn: %s","交集中不能出现不存在的集合, 请输入合法数据"),ot({},e,{options:{data:a}})}function _nt(e){var r=e.chart,t=e.options,n=t.pointStyle,a=t.setsField,i=t.sizeField,o=na(r.appendPadding),l=o[0],s=o[1],u=o[2],f=o[3],c={offsetX:f,offsetY:l},h=r.viewBBox,p=h.width,d=h.height,v=Fnt(t,Math.max(p-(s+f),0),Math.max(d-(l+u),0),0);r.data(v);var g=hg(Z({},e,{options:{xField:"x",yField:"y",sizeField:i,seriesField:yn,rawFields:[a,i],schema:{shape:"venn",style:n}}})).ext,y=g.geometry;y.customInfo(c);var m=Rnt(e,v);return typeof m=="function"&&y.color(yn,function(b){var x=v.find(function(S){return S[yn]===b}),w=iE(e,v)(b);return m(x,w)}),e}function Nnt(e){var r=e.chart,t=e.options,n=t.label,a=na(r.appendPadding),i=a[0],o=a[3],l={offsetX:o,offsetY:i},s=Me(r,"schema");if(!n)s.label(!1);else{var u=n.callback,f=_t(n,["callback"]);s.label({fields:["id"],callback:u,cfg:ot({},xe(f),{type:"venn",customLabelInfo:l})})}return e}function $nt(e){var r=e.chart,t=e.options,n=t.legend,a=t.sizeField;return r.legend(yn,n),r.legend(a,!1),e}function jnt(e){var r=e.chart;return r.axis(!1),e}function znt(e){var r=e.options,t=e.chart,n=r.interactions;if(n){var a={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Yt(Z({},e,{options:{interactions:n.map(function(i){return T(T({},i),{type:a[i.type]||i.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),e}function Hnt(e){return gt(Dnt,Et,Bnt,_nt,Nnt,te({}),$nt,jnt,de,znt,$t)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="venn",t}return r.getDefaultOptions=function(){return Urt},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Hnt},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r})(bt);var mr="x",Pa="violinY",Vnt="violinSize",oE="minMax",lE="quantile",sE="median",Fg="violin_view",Wnt="min_max_view",Gnt="quantile_view",Ynt="median_view",qnt=Z({},bt.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),uE={exports:{}},cE={exports:{}};(function(e){var r=e.exports;e.exports.isNumber=function(t){return typeof t=="number"},e.exports.findMin=function(t){if(t.length===0)return 1/0;for(var n=t[0],a=1;a<t.length;a++)n=Math.min(n,t[a]);return n},e.exports.findMax=function(t){if(t.length===0)return-1/0;for(var n=t[0],a=1;a<t.length;a++)n=Math.max(n,t[a]);return n},e.exports.findMinMulti=function(t){for(var n=r.findMin(t[0]),a=1;a<t.length;a++)n=Math.min(n,r.findMin(t[a]));return n},e.exports.findMaxMulti=function(t){for(var n=r.findMax(t[0]),a=1;a<t.length;a++)n=Math.max(n,r.findMax(t[a]));return n},e.exports.inside=function(t,n,a){return t<=a&&a<=n}})(cE);var Xnt=cE.exports;(function(e){var r=50,t=2,n=Math.log(2),a=e.exports,i=Xnt;function o(s){return 1-Math.abs(s)}e.exports.getUnifiedMinMax=function(s,u){return a.getUnifiedMinMaxMulti([s],u)},e.exports.getUnifiedMinMaxMulti=function(s,u){u=u||{};var f=!1,c=!1,h=i.isNumber(u.width)?u.width:t,p=i.isNumber(u.size)?u.size:r,d=i.isNumber(u.min)?u.min:(f=!0,i.findMinMulti(s)),v=i.isNumber(u.max)?u.max:(c=!0,i.findMaxMulti(s)),g=v-d,y=g/(p-1);return f&&(d=d-2*h*y),c&&(v=v+2*h*y),{min:d,max:v}},e.exports.create=function(s,u){if(u=u||{},!s||s.length===0)return[];var f=i.isNumber(u.size)?u.size:r,c=i.isNumber(u.width)?u.width:t,h=a.getUnifiedMinMax(s,{size:f,width:c,min:u.min,max:u.max}),p=h.min,d=h.max,v=d-p,g=v/(f-1);if(v===0)return[{x:p,y:1}];for(var y=[],m=0;m<f;m++)y.push({x:p+m*g,y:0});var b=function(M){return Math.floor((M-p)/g)},x=l(o,c),w=x[c],S=x[c-1]-x[c-2],A=0;s.forEach(function(M){var O=b(M);if(!(O+c<0||O-c>=y.length)){var F=Math.max(O-c,0),L=O,D=Math.min(O+c,y.length-1),_=F-(O-c),z=O+c-D,X=x[-c-1+_]||0,V=x[-c-1+z]||0,N=w/(w-X-V);_>0&&(A+=N*(_-1)*S);var P=Math.max(0,O-c+1);i.inside(0,y.length-1,P)&&(y[P].y+=N*1*S),i.inside(0,y.length-1,L+1)&&(y[L+1].y-=N*2*S),i.inside(0,y.length-1,D+1)&&(y[D+1].y+=N*1*S)}});var I=A,k=0,E=0;return y.forEach(function(M){k+=M.y,I+=k,M.y=I,E+=I}),E>0&&y.forEach(function(M){M.y/=E}),y};function l(s,u){for(var f={},c=0,h=-u;h<=u;h++)c+=s(h/u),f[h]=c;return f}e.exports.getExpectedValueFromPdf=function(s){if(!(!s||s.length===0)){var u=0;return s.forEach(function(f){u+=f.x*f.y}),u}},e.exports.getXWithLeftTailArea=function(s,u){if(!(!s||s.length===0)){for(var f=0,c=0,h=0;h<s.length&&(c=h,f+=s[h].y,!(f>=u));h++);return s[c].x}},e.exports.getPerplexity=function(s){if(!(!s||s.length===0)){var u=0;return s.forEach(function(f){var c=Math.log(f.y);isFinite(c)&&(u+=f.y*c)}),u=-u/n,Math.pow(2,u)}}})(uE);var Unt=uE.exports;const Knt=Xu(Unt);function nw(e,r){var t=e.length*r;if(e.length===0)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function Oo(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function lu(e,r,t,n){for(t=t||0,n=n||e.length-1;n>t;){if(n-t>600){var a=n-t+1,i=r-t+1,o=Math.log(a),l=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*l*(a-l)/a);i-a/2<0&&(s*=-1);var u=Math.max(t,Math.floor(r-i*l/a+s)),f=Math.min(n,Math.floor(r+(a-i)*l/a+s));lu(e,r,u,f)}var c=e[r],h=t,p=n;for(Oo(e,t,r),e[n]>c&&Oo(e,t,n);h<p;){for(Oo(e,h,p),h++,p--;e[h]<c;)h++;for(;e[p]>c;)p--}e[t]===c?Oo(e,t,p):(p++,Oo(e,p,n)),p<=r&&(t=p+1),r<=p&&(n=p-1)}}function ko(e,r){var t=e.slice();if(Array.isArray(r)){Znt(t,r);for(var n=[],a=0;a<r.length;a++)n[a]=nw(t,r[a]);return n}else{var i=hE(t.length,r);return fE(t,i,0,t.length-1),nw(t,r)}}function fE(e,r,t,n){r%1===0?lu(e,r,t,n):(r=Math.floor(r),lu(e,r,t,n),lu(e,r+1,r+1,n))}function Znt(e,r){for(var t=[0],n=0;n<r.length;n++)t.push(hE(e.length,r[n]));t.push(e.length-1),t.sort(Qnt);for(var a=[0,t.length-1];a.length;){var i=Math.ceil(a.pop()),o=Math.floor(a.pop());if(!(i-o<=1)){var l=Math.floor((o+i)/2);fE(e,t[l],Math.floor(t[o]),Math.ceil(t[i])),a.push(o,l,l,i)}}}function Qnt(e,r){return e-r}function hE(e,r){var t=e*r;return r===1?e-1:r===0?0:t%1!==0?Math.ceil(t)-1:e%2===0?t-.5:t}var aw=function(e){return{low:br(e),high:ir(e),q1:ko(e,.25),q3:ko(e,.75),median:ko(e,[.5]),minMax:[br(e),ir(e)],quantile:[ko(e,.25),ko(e,.75)]}},iw=function(e,r){var t=Knt.create(e,r);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},pE=function(e){var r=e.xField,t=e.yField,n=e.seriesField,a=e.data,i=e.kde,o={min:i.min,max:i.max,size:i.sampleSize,width:i.width};if(!n){var l=er(a,r);return Object.keys(l).map(function(f){var c=l[f],h=c.map(function(p){return p[t]});return T(T({x:f},iw(h,o)),aw(h))})}var s=[],u=er(a,n);return Object.keys(u).forEach(function(f){var c=er(u[f],r);return Object.keys(c).forEach(function(h){var p,d=c[h],v=d.map(function(g){return g[t]});s.push(T(T((p={x:h},p[n]=f,p),iw(v,o)),aw(v)))})}),s},su=["low","high","q1","q3","median"],uu=[{type:"dodge",marginRatio:1/32}];function Jnt(e){var r=e.chart,t=e.options;return r.data(pE(t)),e}function tat(e){var r=e.chart,t=e.options,n=t.seriesField,a=t.color,i=t.shape,o=i===void 0?"violin":i,l=t.violinStyle,s=t.tooltip,u=t.state,f=r.createView({id:Fg});return FU({chart:f,options:{xField:mr,yField:Pa,seriesField:n||mr,sizeField:Vnt,tooltip:T({fields:su},s),violin:{style:l,color:a,shape:o},state:u}}),f.geometries[0].adjust(uu),e}function eat(e){var r=e.chart,t=e.options,n=t.seriesField,a=t.color,i=t.tooltip,o=t.box;if(o===!1)return e;var l=r.createView({id:Wnt});Oe({chart:l,options:{xField:mr,yField:oE,seriesField:n||mr,tooltip:T({fields:su},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:1,style:{lineWidth:0}}}}),l.geometries[0].adjust(uu);var s=r.createView({id:Gnt});Oe({chart:s,options:{xField:mr,yField:lE,seriesField:n||mr,tooltip:T({fields:su},i),state:typeof o=="object"?o.state:{},interval:{color:a,size:8,style:{fillOpacity:1}}}}),s.geometries[0].adjust(uu);var u=r.createView({id:Ynt});return fr({chart:u,options:{xField:mr,yField:sE,seriesField:n||mr,tooltip:T({fields:su},i),state:typeof o=="object"?o.state:{},point:{color:a,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(uu),s.axis(!1),l.axis(!1),u.axis(!1),u.legend(!1),l.legend(!1),s.legend(!1),e}function rat(e){var r,t=e.chart,n=e.options,a=n.meta,i=n.xAxis,o=n.yAxis,l={},s=Z(l,a,(r={},r[mr]=T(T({sync:!0},Dt(i,Ye)),{type:"cat"}),r[Pa]=T({sync:!0},Dt(o,Ye)),r[oE]=T({sync:Pa},Dt(o,Ye)),r[lE]=T({sync:Pa},Dt(o,Ye)),r[sE]=T({sync:Pa},Dt(o,Ye)),r));return t.scale(s),e}function nat(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=St(r,Fg);return n===!1?i.axis(mr,!1):i.axis(mr,n),a===!1?i.axis(Pa,!1):i.axis(Pa,a),r.axis(!1),e}function aat(e){var r=e.chart,t=e.options,n=t.legend,a=t.seriesField,i=t.shape;if(n===!1)r.legend(!1);else{var o=a||mr,l=uc(n,["selected"]);(!i||!i.startsWith("hollow"))&&($(l,["marker","style","lineWidth"])||se(l,["marker","style","lineWidth"],0)),r.legend(o,l),$(n,"selected")&&B(r.views,function(s){return s.legend(o,n)})}return e}function iat(e){var r=e.chart,t=St(r,Fg);return Xt()(T(T({},e),{chart:t})),e}function oat(e){var r=e.chart,t=e.options,n=t.animation;return B(r.views,function(a){Yl(a,n)}),e}function lat(e){return gt(Et,Jnt,tat,eat,rat,de,nat,aat,Yt,iat,oat)(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t}return r.getDefaultOptions=function(){return qnt},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(pE(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return lat},r})(bt);var xr="$$yField$$",lf="$$diffField$$",Pg="$$absoluteField$$",Od="$$isTotal$$",sat={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function uat(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var a=t===0?"M":"L";r.push([a,n.x,n.y])}}var i=e[0];return r.push(["L",i.x,i.y]),r.push(["z"]),r}function cat(e){return Z({},e.defaultStyle,e.style,{fill:e.color})}Pt("interval","waterfall",{draw:function(e,r){var t=e.customInfo,n=e.points,a=e.nextPoints,i=r.addGroup(),o=this.parsePath(uat(n)),l=cat(e);i.addShape("path",{attrs:T(T({},l),{path:o})});var s=$(t,"leaderLine");if(s&&a){var u=[["M",n[2].x,n[2].y],["L",a[0].x,a[0].y]];n[2].y===a[1].y&&(u[1]=["L",a[1].x,a[1].y]),u=this.parsePath(u),i.addShape("path",{attrs:T({path:u},s.style||{})})}return i}});function fat(e,r,t,n,a){var i,o=[];if(Le(e,function(s,u){var f;wn(Dr.WARN,mt(u[t]),"".concat(u[t]," is not a valid number"));var c=Ea(u[t])?null:u[t];return o.push(T(T({},u),(f={},f[n]=[s,s+c],f))),s+c},0),o.length&&a){var l=$(o,[[e.length-1],n,[1]]);o.push((i={},i[r]=a.label,i[t]=l,i[n]=[0,l],i))}return o}function dE(e,r,t,n){var a=fat(e,r,t,xr,n);return a.map(function(i,o){var l;return Bt(i)?T(T({},i),(l={},l[Pg]=i[xr][1],l[lf]=i[xr][1]-i[xr][0],l[Od]=o===e.length,l)):i})}function hat(e){var r=e.options,t=r.locale,n=r.total,a=qc(t).get(["waterfall","total"]);return n&&typeof n.label!="string"&&a&&(e.options.total.label=a),e}function pat(e){var r=e.chart,t=e.options,n=t.data,a=t.xField,i=t.yField,o=t.total,l=t.leaderLine,s=t.columnWidthRatio,u=t.waterfallStyle,f=t.risingFill,c=t.fallingFill,h=t.color,p=t.shape,d=t.customInfo;r.data(dE(n,a,i,o));var v=h||function(b){return $(b,[Od])?$(o,["style","fill"],""):$(b,[xr,1])-$(b,[xr,0])>0?f:c},g=Z({},e,{options:{xField:a,yField:xr,seriesField:a,rawFields:[i,lf,Od,xr],widthRatio:s,interval:{style:u,shape:p||"waterfall",color:v}}}),y=Oe(g).ext,m=y.geometry;return m.customInfo(T(T({},d),{leaderLine:l})),e}function dat(e){var r,t,n=e.options,a=n.xAxis,i=n.yAxis,o=n.xField,l=n.yField,s=n.meta,u=Z({},{alias:l},$(s,l));return gt(te((r={},r[o]=a,r[l]=i,r[xr]=i,r),Z({},s,(t={},t[xr]=u,t[lf]=u,t[Pg]=u,t))))(e)}function vat(e){var r=e.chart,t=e.options,n=t.xAxis,a=t.yAxis,i=t.xField,o=t.yField;return n===!1?r.axis(i,!1):r.axis(i,n),a===!1?(r.axis(o,!1),r.axis(xr,!1)):(r.axis(o,a),r.axis(xr,a)),e}function gat(e){var r=e.chart,t=e.options,n=t.legend,a=t.total,i=t.risingFill,o=t.fallingFill,l=t.locale,s=qc(l);if(n===!1)r.legend(!1);else{var u=[{name:s.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:i}}},{name:s.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];a&&u.push({name:a.label||"",value:"total",marker:{symbol:"square",style:Z({},{r:5},$(a,"style"))}}),r.legend(Z({},{custom:!0,position:"top",items:u},n)),r.removeInteraction("legend-filter")}return e}function yat(e){var r=e.chart,t=e.options,n=t.label,a=t.labelMode,i=t.xField,o=Me(r,"interval");if(!n)o.label(!1);else{var l=n.callback,s=_t(n,["callback"]);o.label({fields:a==="absolute"?[Pg,i]:[lf,i],callback:l,cfg:xe(s)})}return e}function mat(e){var r=e.chart,t=e.options,n=t.tooltip,a=t.xField,i=t.yField;if(n!==!1){r.tooltip(T({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[i]},n));var o=r.geometries[0];n!=null&&n.formatter?o.tooltip("".concat(a,"*").concat(i),n.formatter):o.tooltip(i)}else r.tooltip(!1);return e}function xat(e){return gt(hat,Et,pat,dat,vat,gat,mat,yat,ha,Yt,$t,Xt())(e)}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="waterfall",t}return r.getDefaultOptions=function(){return sat},r.prototype.changeData=function(t){var n=this.options,a=n.xField,i=n.yField,o=n.total;this.updateOption({data:t}),this.chart.changeData(dE(t,a,i,o))},r.prototype.getSchemaAdaptor=function(){return xat},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r})(bt);var Lg="color",bat=Z({},bt.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",Lg],formatter:function(e){return{name:e.text,value:e.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),wat={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function Sat(e,r){return r=Nt({},wat,r),Cat(e,r)}function Cat(e,r){var t=Bat();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(s){Q(r[s])||t[s](r[s])}),t.words(e),r.imageMask&&t.createMask(r.imageMask);var n=t.start(),a=n._tags;a.forEach(function(s){s.x+=r.size[0]/2,s.y+=r.size[1]/2});var i=r.size,o=i[0],l=i[1];return a.push({text:"",value:0,x:0,y:0,opacity:0}),a.push({text:"",value:0,x:o,y:l,opacity:0}),a}var _h=Math.PI/180,zo=64,cu=2048;function Aat(e){return e.text}function Tat(){return"serif"}function ow(){return"normal"}function Iat(e){return e.value}function Eat(){return~~(Math.random()*2)*90}function Mat(){return 1}function Oat(e,r,t,n){if(!r.sprite){var a=e.context,i=e.ratio;a.clearRect(0,0,(zo<<5)/i,cu/i);var o=0,l=0,s=0,u=t.length;for(--n;++n<u;){r=t[n],a.save(),a.font=r.style+" "+r.weight+" "+~~((r.size+1)/i)+"px "+r.font;var f=a.measureText(r.text+"m").width*i,c=r.size<<1;if(r.rotate){var h=Math.sin(r.rotate*_h),p=Math.cos(r.rotate*_h),d=f*p,v=f*h,g=c*p,y=c*h;f=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,c=~~Math.max(Math.abs(v+g),Math.abs(v-g))}else f=f+31>>5<<5;if(c>s&&(s=c),o+f>=zo<<5&&(o=0,l+=s,s=0),l+c>=cu)break;a.translate((o+(f>>1))/i,(l+(c>>1))/i),r.rotate&&a.rotate(r.rotate*_h),a.fillText(r.text,0,0),r.padding&&(a.lineWidth=2*r.padding,a.strokeText(r.text,0,0)),a.restore(),r.width=f,r.height=c,r.xoff=o,r.yoff=l,r.x1=f>>1,r.y1=c>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=f}for(var m=a.getImageData(0,0,(zo<<5)/i,cu/i).data,b=[];--n>=0;)if(r=t[n],!!r.hasText){for(var f=r.width,x=f>>5,c=r.y1-r.y0,w=0;w<c*x;w++)b[w]=0;if(o=r.xoff,o==null)return;l=r.yoff;for(var S=0,A=-1,I=0;I<c;I++){for(var w=0;w<f;w++){var k=x*I+(w>>5),E=m[(l+I)*(zo<<5)+(o+w)<<2]?1<<31-w%32:0;b[k]|=E,S|=E}S?A=I:(r.y0++,c--,I--,l++)}r.y1=r.y0+A,r.sprite=b.slice(0,(r.y1-r.y0)*x)}}}function kat(e,r,t){t>>=5;for(var n=e.sprite,a=e.width>>5,i=e.x-(a<<4),o=i&127,l=32-o,s=e.y1-e.y0,u=(e.y+e.y0)*t+(i>>5),f,c=0;c<s;c++){f=0;for(var h=0;h<=a;h++)if((f<<l|(h<a?(f=n[c*a+h])>>>o:0))&r[u+h])return!0;u+=t}return!1}function Fat(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function Pat(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function vE(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Lat(e){var r=4,t=r*e[0]/e[1],n=0,a=0;return function(i){var o=i<0?-1:1;switch(Math.sqrt(1+4*o*i)-o&3){case 0:n+=t;break;case 1:a+=r;break;case 2:n-=t;break;default:a-=r;break}return[n,a]}}function lw(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function Rat(){return document.createElement("canvas")}function Gr(e){return lt(e)?e:function(){return e}}var Dat={archimedean:vE,rectangular:Lat};function Bat(){var e=[256,256],r=Tat,t=Iat,n=ow,a=Eat,i=Mat,o=vE,l=Math.random,s=[],u=1/0,f=Aat,c=ow,h=Rat,p={};p.start=function(){var g=e[0],y=e[1],m=d(h()),b=p.board?p.board:lw((e[0]>>5)*e[1]),x=s.length,w=[],S=s.map(function(E,M,O){return E.text=f.call(this,E,M,O),E.font=r.call(this,E,M,O),E.style=c.call(this,E,M,O),E.weight=n.call(this,E,M,O),E.rotate=a.call(this,E,M,O),E.size=~~t.call(this,E,M,O),E.padding=i.call(this,E,M,O),E}).sort(function(E,M){return M.size-E.size}),A=-1,I=p.board?[{x:0,y:0},{x:g,y}]:null;k();function k(){for(var E=Date.now();Date.now()-E<u&&++A<x;){var M=S[A];M.x=g*(l()+.5)>>1,M.y=y*(l()+.5)>>1,Oat(m,M,S,A),M.hasText&&v(b,M,I)&&(w.push(M),I?p.hasImage||Fat(I,M):I=[{x:M.x+M.x0,y:M.y+M.y0},{x:M.x+M.x1,y:M.y+M.y1}],M.x-=e[0]>>1,M.y-=e[1]>>1)}p._tags=w,p._bounds=I}return p};function d(g){g.width=g.height=1;var y=Math.sqrt(g.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);g.width=(zo<<5)/y,g.height=cu/y;var m=g.getContext("2d",{willReadFrequently:!0});return m.fillStyle=m.strokeStyle="red",m.textAlign="center",{context:m,ratio:y}}function v(g,y,m){for(var b=y.x,x=y.y,w=Math.sqrt(e[0]*e[0]+e[1]*e[1]),S=o(e),A=l()<.5?1:-1,I,k=-A,E,M;(I=S(k+=A))&&(E=~~I[0],M=~~I[1],!(Math.min(Math.abs(E),Math.abs(M))>=w));)if(y.x=b+E,y.y=x+M,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!m||!kat(y,g,e[0]))&&(!m||Pat(y,m))){for(var O=y.sprite,F=y.width>>5,L=e[0]>>5,D=y.x-(F<<4),_=D&127,z=32-_,X=y.y1-y.y0,V=void 0,N=(y.y+y.y0)*L+(D>>5),P=0;P<X;P++){V=0;for(var j=0;j<=F;j++)g[N+j]|=V<<z|(j<F?(V=O[P*F+j])>>>_:0);N+=L}return delete y.sprite,!0}return!1}return p.createMask=function(g){var y=document.createElement("canvas"),m=e[0],b=e[1];if(!(!m||!b)){var x=m>>5,w=lw((m>>5)*b);y.width=m,y.height=b;var S=y.getContext("2d");S.drawImage(g,0,0,g.width,g.height,0,0,m,b);for(var A=S.getImageData(0,0,m,b).data,I=0;I<b;I++)for(var k=0;k<m;k++){var E=x*I+(k>>5),M=I*m+k<<2,O=A[M]>=250&&A[M+1]>=250&&A[M+2]>=250,F=O?1<<31-k%32:0;w[E]|=F}p.board=w,p.hasImage=!0}},p.timeInterval=function(g){u=g??1/0},p.words=function(g){s=g},p.size=function(g){e=[+g[0],+g[1]]},p.font=function(g){r=Gr(g)},p.fontWeight=function(g){n=Gr(g)},p.rotate=function(g){a=Gr(g)},p.spiral=function(g){o=Dat[g]||g},p.fontSize=function(g){t=Gr(g)},p.padding=function(g){i=Gr(g)},p.random=function(g){l=Gr(g)},p}function gE(e){var r=e.options,t=e.chart,n=t,a=n.width,i=n.height,o=n.padding,l=n.appendPadding,s=n.ele,u=r.data,f=r.imageMask,c=r.wordField,h=r.weightField,p=r.colorField,d=r.wordStyle,v=r.timeInterval,g=r.random,y=r.spiral,m=r.autoFit,b=m===void 0?!0:m,x=r.placementStrategy;if(!u||!u.length)return[];var w=d.fontFamily,S=d.fontWeight,A=d.padding,I=d.fontSize,k=zat(u,h),E=[Wat(k),Gat(k)],M=u.map(function(L){return{text:L[c],value:L[h],color:L[p],datum:L}}),O={imageMask:f,font:w,fontSize:jat(I,E),fontWeight:S,size:_at({width:a,height:i,padding:o,appendPadding:l,autoFit:b,container:s}),padding:A,timeInterval:v,random:g,spiral:y,rotate:Hat(r)};if(lt(x)){var F=M.map(function(L,D,_){return T(T(T({},L),{hasText:!!L.text,font:Gr(O.font)(L,D,_),weight:Gr(O.fontWeight)(L,D,_),rotate:Gr(O.rotate)(L,D,_),size:Gr(O.fontSize)(L,D,_),style:"normal"}),x.call(t,L,D,_))});return F.push({text:"",value:0,x:0,y:0,opacity:0}),F.push({text:"",value:0,x:O.size[0],y:O.size[1],opacity:0}),F}return Sat(M,O)}function _at(e){var r=e.width,t=e.height,n=e.container,a=e.autoFit,i=e.padding,o=e.appendPadding;if(a){var l=vd(n);r=l.width,t=l.height}r=r||400,t=t||400;var s=Nat({padding:i,appendPadding:o}),u=s[0],f=s[1],c=s[2],h=s[3],p=[r-(h+f),t-(u+c)];return p}function Nat(e){var r=na(e.padding),t=na(e.appendPadding),n=r[0]+t[0],a=r[1]+t[1],i=r[2]+t[2],o=r[3]+t[3];return[n,a,i,o]}function $at(e){return new Promise(function(r,t){if(e instanceof HTMLImageElement){r(e);return}if(dt(e)){var n=new Image;n.crossOrigin="anonymous",n.src=e,n.onload=function(){r(n)},n.onerror=function(){wn(Dr.ERROR,!1,"image %s load failed !!!",e),t()};return}wn(Dr.WARN,e===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function jat(e,r){if(lt(e))return e;if(J(e)){var t=e[0],n=e[1];if(!r)return function(){return(n+t)/2};var a=r[0],i=r[1];return i===a?function(){return(n+t)/2}:function(l){var s=l.value;return(n-t)/(i-a)*(s-a)+t}}return function(){return e}}function zat(e,r){return e.map(function(t){return t[r]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function Hat(e){var r=Vat(e),t=r.rotation,n=r.rotationSteps;if(!J(t))return t;var a=t[0],i=t[1],o=n===1?0:(i-a)/(n-1);return function(){return i===a?i:Math.floor(Math.random()*n)*o}}function Vat(e){var r=e.wordStyle.rotationSteps;return r<1&&(wn(Dr.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),r=1),{rotation:e.wordStyle.rotation,rotationSteps:r}}function Wat(e){return Math.min.apply(Math,e)}function Gat(e){return Math.max.apply(Math,e)}function Yat(e){var r=e.chart,t=e.options,n=t.colorField,a=t.color,i=gE(e);r.data(i);var o=Z({},e,{options:{xField:"x",yField:"y",seriesField:n&&Lg,rawFields:lt(a)&&pt(pt([],$(t,"rawFields",[]),!0),["datum"],!1),point:{color:a,shape:"word-cloud"}}}),l=fr(o).ext;return l.geometry.label(!1),r.coordinate().reflect("y"),r.axis(!1),e}function qat(e){return gt(te({x:{nice:!1},y:{nice:!1}}))(e)}function Xat(e){var r=e.chart,t=e.options,n=t.legend,a=t.colorField;return n===!1?r.legend(!1):a&&r.legend(Lg,n),e}function Uat(e){gt(Yat,qat,de,Xat,Yt,$t,Et,ha)(e)}Pt("point","word-cloud",{draw:function(e,r){var t=e.x,n=e.y,a=r.addShape("text",{attrs:T(T({},Kat(e)),{x:t,y:n})}),i=e.data.rotate;return typeof i=="number"&&Ke.rotate(a,i*Math.PI/180),a}});function Kat(e){return{fontSize:e.data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}}(function(e){q(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="word-cloud",t}return r.getDefaultOptions=function(){return bat},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(gE({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var t=this;return new Promise(function(n){var a=t.options.imageMask;if(!a){e.prototype.render.call(t),n();return}var i=function(o){t.options=T(T({},t.options),{imageMask:o||null}),e.prototype.render.call(t),n()};$at(a).then(i).catch(i)})},r.prototype.getSchemaAdaptor=function(){return Uat},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){e.prototype.triggerResize.call(t)}))},r})(bt);(function(e){q(r,e);function r(t,n,a,i){var o=e.call(this,t,Z({},i,n))||this;return o.type="g2-plot",o.defaultOptions=i,o.adaptor=a,o}return r.prototype.getDefaultOptions=function(){return this.defaultOptions},r.prototype.getSchemaAdaptor=function(){return this.adaptor},r})(bt);fT("en-US",MU);fT("zh-CN",OU);var kd=function(){return kd=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kd.apply(this,arguments)};const Zat=window.ReactDOM;var Ql=kd({},Zat),Qat=Ql.version,Jat=Ql.render;Ql.unmountComponentAtNode;var Rg;try{var tit=Number((Qat||"").split(".")[0]);tit>=18&&(Rg=Ql.createRoot)}catch{}function sw(e){var r=Ql.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r&&typeof r=="object"&&(r.usingClientEntryPoint=e)}var uw="__rc_react_root__";function eit(e,r){sw(!0);var t=r[uw]||Rg(r);sw(!1),t.render(e),r[uw]=t}function rit(e,r){Jat(e,r)}function nit(e,r){if(Rg){eit(e,r);return}rit(e,r)}var Nh=new Map,ait=function(e,r,t){var n=document.createElement("div");return r==="tooltip"&&(n.setAttribute("data-uuid",t),Nh.has(t)?n=Nh.get(t):Nh.set(t,n),n.className="g2-tooltip"),nit(e,n),n},Xs=function(e,r){var t={}.toString;return t.call(e)==="[object ".concat(r,"]")},iit=function(e){if(!e)return e;var r={};for(var t in e)r[t]=e[t];return r},qu=function(e){if(!e||typeof e!="object")return e;var r;return Array.isArray(e)?r=e.map(function(t){return qu(t)}):(r={},Object.keys(e).forEach(function(t){return r[t]=qu(e[t])})),r},Fo=function(e,r){for(var t=e,n=0;n<r.length;n+=1)if(t!=null&&t[r[n]])t=t[r[n]];else{t=void 0;break}return t},oit=function(e,r,t){if(!e)return e;var n=e;return r.forEach(function(a,i){i<r.length-1?n=n[a]:n[a]=t}),e},lit=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=Math.random()*16|0,t=e=="x"?r:r&3|8;return t.toString(16)})},pa=function(e,r){e&&(lt(e)?e(r):e.current=r)},Fd=function(){return Fd=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fd.apply(this,arguments)},cw=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const $h=window.React.useRef,fw=window.React.useEffect;function da(e,r){var t=$h(),n=$h(),a=$h(null),i=r.onReady,o=r.onEvent,l=function(c,h){var p;return c===void 0&&(c="image/png"),(p=t.current)===null||p===void 0?void 0:p.chart.canvas.cfg.el.toDataURL(c,h)},s=function(c,h,p){var d;c===void 0&&(c="download"),h===void 0&&(h="image/png");var v=c;c.indexOf(".")===-1&&(v="".concat(c,".").concat(h.split("/")[1]));var g=(d=t.current)===null||d===void 0?void 0:d.chart.canvas.cfg.el.toDataURL(h,p),y=document.createElement("a");return y.href=g,y.download=v,document.body.appendChild(y),y.click(),document.body.removeChild(y),y=null,v},u=function(c,h,p,d){var v=Fo(c,h);oit(c,h,function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var m=Xs(v,"Function")?v.apply(void 0,g):v;return Xs(m,"String")||Xs(m,"Number")||Xs(m,"HTMLDivElement")?m:ait(m,p,d)})},f=function(){var c=lit();Fo(r,["statistic","content","customHtml"])&&u(r,["statistic","content","customHtml"]),Fo(r,["statistic","title","customHtml"])&&u(r,["statistic","title","customHtml"]),typeof r.tooltip=="object"&&(Fo(r,["tooltip","container"])&&u(r,["tooltip","container"],"tooltip",c),Fo(r,["tooltip","customContent"])&&u(r,["tooltip","customContent"],"tooltip",c))};return fw(function(){if(t.current&&!Jt(n.current,r)){var c=!1;if(n.current){var h=n.current;h.data,h.value,h.percent;var p=cw(h,["data","value","percent"]);r.data,r.value,r.percent;var d=cw(r,["data","value","percent"]);c=Jt(p,d)}if(n.current=qu(r),c&&$(r,"chartType")!=="Mix"){var v="data",g=["percent"],y=Object.keys(r);g.forEach(function(m){y.includes(m)&&(v=m)}),t.current.changeData((r==null?void 0:r[v])||[]),t.current.render()}else f(),t.current.update(r)}},[r]),fw(function(){if(!a.current)return function(){return null};n.current||(n.current=qu(r)),f();var c=new e(a.current,Fd({},r));c.toDataURL=function(p,d){return l(p,d)},c.downloadImage=function(p,d,v){return s(p,d,v)},c.render(),t.current=iit(c),i&&i(c);var h=function(p){o&&o(c,p)};return c.on("*",h),function(){t.current&&(t.current.destroy(),t.current.off("*",h),t.current=void 0)}},[]),{chart:t,container:a}}var sit=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();const jh=window.React,uit=window.React.Fragment;var cit=function(e){sit(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(n){var a=t.props.errorTemplate;switch(n){default:return typeof a=="function"?a(n):a||jh.createElement("h5",null,"组件出错了，请核查后重试： ",n.message)}},t}return r.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},r.getDerivedStateFromProps=function(t,n){return n.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},r.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):jh.createElement(uit,null,this.props.children)},r}(jh.Component);const va=cit,ce=window.React.createElement;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kn=function(){return Kn=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Kn.apply(this,arguments)};function fit(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t}var hit=function(){return Math.random().toString(36).substring(6)},yE=function(e){var r=e.animate,t=e.backgroundColor,n=e.backgroundOpacity,a=e.baseUrl,i=e.children,o=e.foregroundColor,l=e.foregroundOpacity,s=e.gradientRatio,u=e.uniqueKey,f=e.interval,c=e.rtl,h=e.speed,p=e.style,d=e.title,v=fit(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=u||hit(),y=g+"-diff",m=g+"-animated-diff",b=g+"-aria",x=c?{transform:"scaleX(-1)"}:null,w="0; "+f+"; 1",S=h+"s";return ce("svg",Kn({"aria-labelledby":b,role:"img",style:Kn(Kn({},p),x)},v),d?ce("title",{id:b},d):null,ce("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+a+"#"+y+")",style:{fill:"url("+a+"#"+m+")"}}),ce("defs",{role:"presentation"},ce("clipPath",{id:y},i),ce("linearGradient",{id:m},ce("stop",{offset:"0%",stopColor:t,stopOpacity:n},r&&ce("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:w,dur:S,repeatCount:"indefinite"})),ce("stop",{offset:"50%",stopColor:o,stopOpacity:l},r&&ce("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:w,dur:S,repeatCount:"indefinite"})),ce("stop",{offset:"100%",stopColor:t,stopOpacity:n},r&&ce("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:w,dur:S,repeatCount:"indefinite"})))))};yE.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var mE=function(e){return e.children?ce(yE,Kn({},e)):ce(pit,Kn({},e))},pit=function(e){return ce(mE,Kn({viewBox:"0 0 476 124"},e),ce("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),ce("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),ce("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),ce("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),ce("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),ce("circle",{cx:"20",cy:"20",r:"20"}))};const dit=mE,vr=window.React;var vit=function(e){var r=e.loadingTemplate,t=e.theme,n=t===void 0?"light":t,a=function(){return r||vr.createElement(dit,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:n==="dark"?"#262626":"#D9D9D9"},vr.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),vr.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),vr.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),vr.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),vr.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),vr.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),vr.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),vr.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),vr.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),vr.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return vr.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:n==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},a())};const ga=vit;var git=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const zh=window.React,yit=window.React.useEffect,mit=window.React.useImperativeHandle,xit=window.React.forwardRef;var bit=xit(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=git(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(TT,u),c=f.chart,h=f.container;return yit(function(){pa(t,c.current)},[c.current]),mit(r,function(){return{getChart:function(){return c.current}}}),zh.createElement(va,{errorTemplate:s},o&&zh.createElement(ga,{loadingTemplate:l,theme:e.theme}),zh.createElement("div",{className:i,style:a,ref:h}))});const wit=bit;var Sit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Hh=window.React,Cit=window.React.useEffect,Ait=window.React.useImperativeHandle,Tit=window.React.forwardRef;var Iit=Tit(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=Sit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(IT,u),c=f.chart,h=f.container;return Cit(function(){pa(t,c.current)},[c.current]),Ait(r,function(){return{getChart:function(){return c.current}}}),Hh.createElement(va,{errorTemplate:s},o&&Hh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Hh.createElement("div",{className:i,style:a,ref:h}))});const Eit=Iit;var Mit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Vh=window.React,Oit=window.React.useEffect,kit=window.React.useImperativeHandle,Fit=window.React.forwardRef;var Pit=Fit(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=Mit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(VT,u),c=f.chart,h=f.container;return Oit(function(){pa(t,c.current)},[c.current]),kit(r,function(){return{getChart:function(){return c.current}}}),Vh.createElement(va,{errorTemplate:s},o&&Vh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Vh.createElement("div",{className:i,style:a,ref:h}))});const Lit=Pit;var Rit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Wh=window.React,Dit=window.React.useEffect,Bit=window.React.useImperativeHandle,_it=window.React.forwardRef;var Nit=_it(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=Rit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(UT,u),c=f.chart,h=f.container;return Dit(function(){pa(t,c.current)},[c.current]),Bit(r,function(){return{getChart:function(){return c.current}}}),Wh.createElement(va,{errorTemplate:s},o&&Wh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Wh.createElement("div",{className:i,style:a,ref:h}))});const $it=Nit;var jit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Gh=window.React,zit=window.React.useEffect,Hit=window.React.useImperativeHandle,Vit=window.React.forwardRef;var Wit=Vit(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=jit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(JT,u),c=f.chart,h=f.container;return zit(function(){pa(t,c.current)},[c.current]),Hit(r,function(){return{getChart:function(){return c.current}}}),Gh.createElement(va,{errorTemplate:s},o&&Gh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Gh.createElement("div",{className:i,style:a,ref:h}))});const Git=Wit;var Yit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Yh=window.React,qit=window.React.useEffect,Xit=window.React.useImperativeHandle,Uit=window.React.forwardRef;var Kit=Uit(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=Yit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(rI,u),c=f.chart,h=f.container;return qit(function(){pa(t,c.current)},[c.current]),Xit(r,function(){return{getChart:function(){return c.current}}}),Yh.createElement(va,{errorTemplate:s},o&&Yh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Yh.createElement("div",{className:i,style:a,ref:h}))});const Zit=Kit;var Qit=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const qh=window.React,Jit=window.React.useEffect,tot=window.React.useImperativeHandle,eot=window.React.forwardRef;var rot=eot(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=Qit(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(dI,u),c=f.chart,h=f.container;return Jit(function(){pa(t,c.current)},[c.current]),tot(r,function(){return{getChart:function(){return c.current}}}),qh.createElement(va,{errorTemplate:s},o&&qh.createElement(ga,{loadingTemplate:l,theme:e.theme}),qh.createElement("div",{className:i,style:a,ref:h}))});const not=rot;var aot=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Xh=window.React,iot=window.React.useEffect,oot=window.React.useImperativeHandle,lot=window.React.forwardRef;var sot=lot(function(e,r){var t=e.chartRef,n=e.style,a=n===void 0?{height:"inherit"}:n,i=e.className,o=e.loading,l=e.loadingTemplate,s=e.errorTemplate,u=aot(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=da(gI,u),c=f.chart,h=f.container;return iot(function(){pa(t,c.current)},[c.current]),oot(r,function(){return{getChart:function(){return c.current}}}),Xh.createElement(va,{errorTemplate:s},o&&Xh.createElement(ga,{loadingTemplate:l,theme:e.theme}),Xh.createElement("div",{className:i,style:a,ref:h}))});const uot=sot,cot=window.React.forwardRef,fot=window.React.useEffect,hot=window.React.useImperativeHandle,Uh=window.React.useState,pot=window.antd.Spin,dot=({id:e,type:r,config:t,apis:n},a)=>{var p;const[i,o]=Uh([]),[l,s]=Uh(!0),[u,f]=Uh(!0),c=At(d=>d.page.variableData);fot(()=>{h({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?c:""]);const h=d=>{s(!0),be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[PieChart]数据格式错误")),s(!1))})};return hot(a,()=>({show(){f(!0)},hide(){f(!1)},update:d=>{h(d)}})),u&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(pot,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:C.jsx($it,{...t.props,data:i})})})},vot=cot(dot),Kh=window.antd.Form,got=window.antd.Space,yot=window.React.memo,mo=yot(()=>C.jsx(Kh.Item,{label:"颜色",children:C.jsx(Kh.List,{name:["color"],children:(e,{add:r,remove:t})=>C.jsx(C.Fragment,{children:e.map(({key:n,name:a,...i})=>C.jsxs(got,{style:{display:"flex",marginBottom:8,padding:"0 10px"},children:[C.jsx(Kh.Item,{noStyle:!0,...i,name:[a],children:C.jsx(UE,{style:{width:"120px"}})}),C.jsx(rr,{onClick:()=>r("#f16622",a+1)}),a>0&&C.jsx(ti,{onClick:()=>t(a)})]},n))})})})),mot={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"扇形值字段",name:"angleField",props:{placeholder:"扇形（弧度）对应值"}},{type:"Input",label:"分类字段",name:"colorField",props:{placeholder:"扇形分类名称"}},{type:"Slider",label:"饼图半径",name:"radius",props:{min:0,max:1,step:.1}},{type:"Slider",label:"内环半径",name:"innerRadius",props:{min:0,max:1,step:.1}},{type:"InputNumber",label:"图表内边距",name:"padding"},{type:"Title",label:"标签配置",key:"label"},{type:"Select",label:"标签位置",name:["label","type"],props:{options:[{label:"内部",value:"inner"},{label:"外部",value:"outer"},{label:"蜘蛛布局",value:"spider"}]}},{type:"InputNumber",label:"字体大小",name:["label","style","fontSize"],props:{placeholder:"数字类型"}},{type:"Select",label:"字重",name:["label","style","fontWeight"],props:{options:[{value:"normal",label:"normal"},{value:"bold",label:"bold"},{value:"lighter",label:"lighter"},{value:"bolder",label:"bolder"}]}},{type:"Input",label:"标签渲染",name:["label","content"],props:{placeholder:"自定义渲染"}},{type:"Title",label:"图例配置",key:"legend"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"内环配置"},{type:"Input",label:"内环标题",name:["statistic","title","content"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{angleField:"count",colorField:"name",radius:1,innerRadius:0,autoFit:!0,appendPadding:20,label:{type:"outer",content:"{value} 人",style:{fontSize:12,fontWeight:"normal"}},legend:{layout:"vertical",position:"right"},theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],interactions:[{type:"element-active"},{type:"pie-legend-active"}]},style:{},api:{sourceType:"json",source:[{name:"基础设施组",count:10},{name:"增长中台组",count:18},{name:"用户平台组",count:23},{name:"司机组",count:19},{name:"多业务中台",count:15}]}},events:[],methods:[{name:"update",title:"更新数据"}]},xot=window.React.forwardRef,bot=window.React.useEffect,wot=window.React.useImperativeHandle,Zh=window.React.useState,Sot=window.antd.Spin,Cot=({id:e,type:r,config:t,apis:n},a)=>{var p;const[i,o]=Zh([]),[l,s]=Zh(!0),[u,f]=Zh(!0),c=At(d=>d.page.variableData);bot(()=>{h({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?c:""]);const h=d=>{s(!0),be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[LineChart]数据格式错误"))),s(!1)})};return wot(a,()=>({show(){f(!0)},hide(){f(!1)},update:d=>{h(d)}})),u&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(Sot,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:C.jsx(Lit,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:i})})})},Aot=xot(Cot),Tot={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Switch",label:"平滑曲线",name:"smooth"},{type:"ColorPicker",label:"填充色",name:["lineStyle","fill"]},{type:"Slider",label:"透明度",name:["lineStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["lineStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["lineStyle","lineWidth"]},{type:"Title",label:"标签配置"},{type:"Switch",label:"显示文本",name:"label"},{type:"Title",label:"点配置"},{type:"Select",label:"点形状",name:["point","shape"],props:{options:[{label:"圆形",value:"circle"},{label:"方形",value:"square"},{label:"竖线",value:"line"},{label:"菱形",value:"diamond"},{label:"三角形",value:"triangle"},{label:"倒三角",value:"triangle-down"},{label:"六边形",value:"hexagon"},{label:"蝴蝶结",value:"bowtie"},{label:"打叉",value:"cross"},{label:"I符号",value:"tick"},{label:"加号",value:"plus"},{label:"减号",value:"hyphen"}]}},{type:"Slider",label:"点大小",name:["point","size"],props:{min:0,max:50,step:1}},{type:"ColorPicker",label:"点颜色",name:["point","style","fill"]},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],xField:"week",yField:"value",seriesField:"name",autoFit:!0,appendPadding:20,legend:{layout:"horizontal",position:"top"},label:{},point:{shape:"circle",size:5}},style:{},api:{sourceType:"json",source:[{week:"周一",value:40,name:"oms"},{week:"周一",value:45,name:"llp"},{week:"周二",value:65,name:"oms"},{week:"周二",value:56,name:"llp"},{week:"周三",value:74,name:"oms"},{week:"周三",value:82,name:"llp"},{week:"周四",value:88,name:"oms"},{week:"周四",value:82,name:"llp"},{week:"周五",value:92,name:"oms"},{week:"周五",value:85,name:"llp"},{week:"周六",value:80,name:"oms"},{week:"周六",value:68,name:"llp"},{week:"周日",value:65,name:"oms"},{week:"周日",value:58,name:"llp"}]}},events:[],methods:[{name:"update",title:"更新数据"}]},Iot=window.React.forwardRef,Eot=window.React.useEffect,Mot=window.React.useImperativeHandle,Qh=window.React.useState,Oot=window.antd.Spin,kot=({id:e,type:r,config:t},n)=>{var h;const[a,i]=Qh([]),[o,l]=Qh(!0),[s,u]=Qh(!0),f=At(p=>p.page.variableData);Eot(()=>{c({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?f:""]);const c=p=>{l(!0),be(t.api,p).then(d=>{(d==null?void 0:d.ret)===0&&(Array.isArray(d.data)?i(d.data):(i([]),console.error("[ColumnChart]数据格式错误"))),l(!1)})};return Mot(n,()=>({show(){u(!0)},hide(){u(!1)},update:p=>{c(p)}})),s&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(Oot,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:C.jsx(Eit,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:a})})})},Fot=Iot(kot),Jh=window.antd.Form,Pot=window.antd.InputNumber,Lot=window.antd.Space,Rot=window.React.memo,xE=Rot(({name:e="columnStyle"})=>{const r=[e,"radius"];return C.jsx(Jh.Item,{label:"圆角",children:C.jsx(Jh.List,{name:r,children:t=>C.jsx(C.Fragment,{children:t.map(({key:n,name:a,...i})=>C.jsx(Lot,{style:{marginBottom:8},children:C.jsx(Jh.Item,{noStyle:!0,...i,name:[a],children:C.jsx(Pot,{})})},n))})})})}),Dot={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Switch",label:"是否分组",name:"isGroup"},{type:"Switch",label:"是否堆叠",name:"isStack"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"宽度占比",name:"columnWidthRatio",props:{min:0,max:1,step:.1}},{type:"Slider",label:"组内间距",name:["dodgePadding"]},{type:"Slider",label:"组外间距",name:["intervalPadding"]},{type:"function",label:"圆角",render(){return C.jsx(xE,{},"radius")}},{type:"ColorPicker",label:"填充色",name:["columnStyle","fill"]},{type:"Slider",label:"透明度",key:"fillOpacity",name:["columnStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["columnStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["columnStyle","lineWidth"]},{type:"Title",label:"标签配置"},{type:"Select",label:"位置",name:["label","position"],key:"labelPosition",props:{options:[{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]}},{type:"ColorPicker",label:"颜色",name:["label","style","fill"]},{type:"Slider",label:"透明度",key:"labelOpacity",name:["label","style","opacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{xField:"project",yField:"value",columnWidthRatio:.6,isGroup:!0,autoFit:!0,appendPadding:20,title:{visible:!0,text:"多色饼图"},theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],seriesField:"type",isStack:!1,isRange:!1,isPercent:!1,label:{position:"middle",style:{fill:"#FFFFFF",opacity:.8}},legend:{layout:"horizontal",position:"top"},xAxis:{label:{autoHide:!0,autoRotate:!0}},columnStyle:{fillOpacity:1,radius:[50,50,0,0]},interactions:[{type:"element-active"},{type:"pie-legend-active"}]},style:{},api:{sourceType:"json",source:[{type:"PV",project:"OMS",value:5e3},{type:"UV",project:"OMS",value:800},{type:"PV",project:"LLP",value:3e3},{type:"UV",project:"LLP",value:300},{type:"PV",project:"货拉拉小程序",value:3e4},{type:"UV",project:"货拉拉小程序",value:1e4},{type:"PV",project:"活动",value:7e3},{type:"UV",project:"活动",value:5e3},{type:"PV",project:"Mars",value:5e4},{type:"UV",project:"Mars",value:35e3}]}},events:[],methods:[{name:"update",title:"更新数据"}]},Bot=window.React.forwardRef,_ot=window.React.useEffect,Not=window.React.useImperativeHandle,tp=window.React.useState,$ot=window.antd.Spin,jot=({id:e,type:r,config:t,apis:n},a)=>{var p;const[i,o]=tp([]),[l,s]=tp(!0),[u,f]=tp(!0),c=At(d=>d.page.variableData);_ot(()=>{h({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?c:""]);const h=d=>{s(!0),be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?o(v.data):(o([]),console.error("[BarChart]数据格式错误"))),s(!1)})};return Not(a,()=>({show(){f(!0)},hide(){f(!1)},update:d=>{h(d)}})),u&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx($ot,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:C.jsx(wit,{...t.props,color:t.props.seriesField?t.props.color:t.props.color[0],data:i})})})},zot=Bot(jot),Hot={attrs:[{type:"Title",label:"基础属性"},{type:"Input",label:"x轴字段",name:"xField"},{type:"Input",label:"y轴字段",name:"yField"},{type:"Switch",label:"是否分组",name:"isGroup"},{type:"Switch",label:"是否堆叠",name:"isStack"},{type:"Input",label:"分类字段",name:"seriesField"},{type:"Slider",label:"组内间距",name:["dodgePadding"]},{type:"Slider",label:"组外间距",name:["intervalPadding"]},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"标签配置"},{type:"Select",label:"位置",name:["label","position"],key:"labelPosition",props:{options:[{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]}},{type:"ColorPicker",label:"颜色",name:["label","style","fill"]},{type:"Slider",label:"透明度",key:"labelOpacity",name:["label","style","opacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"图例配置"},{type:"Select",label:"布局",name:["legend","layout"],props:{options:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}]}},{type:"Select",label:"位置",name:["legend","position"],key:"legendPosition",props:{options:[{label:"top",value:"top"},{label:"top-left",value:"top-left"},{label:"top-right",value:"top-right"},{label:"left",value:"left"},{label:"left-top",value:"left-top"},{label:"left-bottom",value:"left-bottom"},{label:"right",value:"right"},{label:"right-top",value:"right-top"},{label:"right-bottom",value:"right-bottom"},{label:"bottom",value:"bottom"},{label:"bottom-left",value:"bottom-left"},{label:"bottom-right",value:"bottom-right"}]}},{type:"Title",label:"图形配置"},{type:"Slider",label:"宽度占比",name:"barWidthRatio",props:{min:0,max:1,step:.1}},{type:"function",label:"圆角",render(){return C.jsx(xE,{name:"barStyle"},"radius")}},{type:"Slider",label:"透明度",key:"barOpacity",name:["barStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{xField:"value",yField:"project",barWidthRatio:.6,isGroup:!0,theme:"default",color:["#f16622","#FFAB3E","#FADB1E","#9ADB19","#28C084","#3CA2FF","#1861EB","#A24CF5","#F32AA3","#F11818"],seriesField:"type",autoFit:!0,appendPadding:20,isStack:!1,isRange:!1,isPercent:!1,label:{position:"middle",style:{fill:"#FFFFFF",opacity:.8}},legend:{layout:"horizontal",position:"top"},yAxis:{label:{autoHide:!0,autoRotate:!0}},barStyle:{fillOpacity:1,radius:[50,50,0,0]},interactions:[{type:"element-active"}]},style:{},api:{sourceType:"json",source:[{type:"PV",project:"OMS",value:5e3},{type:"UV",project:"OMS",value:800},{type:"PV",project:"LLP",value:3e3},{type:"UV",project:"LLP",value:300},{type:"PV",project:"货拉拉小程序",value:3e4},{type:"UV",project:"货拉拉小程序",value:1e4},{type:"PV",project:"活动",value:7e3},{type:"UV",project:"活动",value:5e3},{type:"PV",project:"Mars",value:5e4},{type:"UV",project:"Mars",value:35e3}]}},events:[],methods:[{name:"update",title:"更新数据"}]},Vot=window.React.forwardRef,Wot=window.React.useEffect,Got=window.React.useImperativeHandle,ep=window.React.useState,Yot=window.antd.Spin,qot=({id:e,type:r,config:t},n)=>{var h;const[a,i]=ep([]),[o,l]=ep(!0),[s,u]=ep(!0),f=At(p=>p.page.variableData);Wot(()=>{c({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?f:""]);const c=p=>{l(!0),be(t.api,p).then(d=>{(d==null?void 0:d.ret)===0&&(Array.isArray(d.data)?i(d.data):(i([]),console.error("[TinyLine]数据格式错误")),l(!1))})};return Got(n,()=>({show(){u(!0)},hide(){u(!1)},update:p=>{c(p)}})),s&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(Yot,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:C.jsx(uot,{...t.props,data:a})})})},Xot=Vot(qot),Uot={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Switch",label:"平滑曲线",name:"smooth"},{type:"ColorPicker",label:"填充色",name:["lineStyle","fill"]},{type:"Slider",label:"透明度",name:["lineStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["lineStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["lineStyle","lineWidth"]},{type:"Title",label:"点配置"},{type:"Select",label:"点形状",name:["point","shape"],props:{options:[{label:"圆形",value:"circle"},{label:"方形",value:"square"},{label:"竖线",value:"line"},{label:"菱形",value:"diamond"},{label:"三角形",value:"triangle"},{label:"倒三角",value:"triangle-down"},{label:"六边形",value:"hexagon"},{label:"蝴蝶结",value:"bowtie"},{label:"打叉",value:"cross"},{label:"I符号",value:"tick"},{label:"加号",value:"plus"},{label:"减号",value:"hyphen"}]}},{type:"Slider",label:"点大小",name:["point","size"],props:{min:0,max:50,step:1}},{type:"ColorPicker",label:"点颜色",name:["point","style","fill"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"ColorPicker",label:"颜色",name:["color"]}],config:{props:{theme:"default",autoFit:!0,appendPadding:20,smooth:!0,point:{shape:"circle",size:0},lineStyle:{lineWidth:2,fillOpacity:1},color:"#7d33ff"},style:{height:"80px"},api:{sourceType:"json",source:[264,417,438,887,309,397,550,575,563,430,525,592,492,467,513,546,983,340,539,243,226,192]}},events:[],methods:[{name:"update",title:"更新数据"}]},Kot=window.React.forwardRef,Zot=window.React.useEffect,Qot=window.React.useImperativeHandle,rp=window.React.useState,Jot=window.antd.Spin,tlt=({id:e,type:r,config:t},n)=>{var h;const[a,i]=rp([]),[o,l]=rp(!0),[s,u]=rp(!0),f=At(p=>p.page.variableData);Zot(()=>{c({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?f:""]);const c=p=>{l(!0),be(t.api,p).then(d=>{(d==null?void 0:d.ret)===0&&(Array.isArray(d.data)?i(d.data):(i([]),console.error("[TinyColumn]数据格式错误")),l(!1))})};return Qot(n,()=>({show(){u(!0)},hide(){u(!1)},update:p=>{c(p)}})),s&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(Jot,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:C.jsx(not,{...t.props,data:a})})})},elt=Kot(tlt),rlt={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"平滑曲线",name:"columnWidthRatio",props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"填充色",name:["columnStyle","fill"]},{type:"Slider",label:"透明度",name:["columnStyle","fillOpacity"],props:{min:0,max:1,step:.1}},{type:"ColorPicker",label:"图形描边",name:["columnStyle","stroke"]},{type:"InputNumber",label:"描边宽度",name:["columnStyle","lineWidth"]},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"ColorPicker",label:"颜色",name:["color"]}],config:{props:{theme:"default",autoFit:!0,appendPadding:20,smooth:!0,lineStyle:{lineWidth:2,fillOpacity:1},color:"#7d33ff"},style:{height:"80px"},api:{sourceType:"json",source:[274,337,81,497,666,219,269]}},events:[],methods:[{name:"update",title:"更新数据"}]},nlt=window.React.forwardRef,alt=window.React.useEffect,ilt=window.React.useImperativeHandle,np=window.React.useState,olt=window.antd.Spin,llt=({id:e,type:r,config:t,apis:n},a)=>{var p;const[i,o]=np(0),[l,s]=np(!0),[u,f]=np(!0),c=At(d=>d.page.variableData);alt(()=>{h({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?c:""]);const h=d=>{s(!0),be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(typeof v.data=="number"?o(v.data):console.error("数据格式错误，进度条需要0-1的数字。")),s(!1)})};return ilt(a,()=>({show(){f(!0)},hide(){f(!1)},update:d=>{h(d)}})),u&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(olt,{spinning:l,size:"large",wrapperClassName:"spin-loading",children:C.jsx(Git,{...t.props,percent:i})})})},slt=nlt(llt),ult={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"宽度占比",name:"barWidthRatio",props:{min:0,max:1,step:.05}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{autoFit:!1,appendPadding:0,barWidthRatio:.2,color:["#f16622","#E8EDF3"]},style:{display:"inline-block",width:"300px",height:"100px"},api:{sourceType:"json",source:.7}},events:[],methods:[{name:"update",title:"更新数据"}]},clt=window.React.forwardRef,flt=window.React.useEffect,hlt=window.React.useImperativeHandle,ap=window.React.useState,plt=window.antd.Spin,dlt=({id:e,type:r,config:t},n)=>{var h;const[a,i]=ap(0),[o,l]=ap(!0),[s,u]=ap(!0),f=At(p=>p.page.variableData);flt(()=>{c({})},[t.api,((h=t.api)==null?void 0:h.sourceType)=="variable"?f:""]);const c=p=>{l(!0),be(t.api,p).then(d=>{(d==null?void 0:d.ret)===0&&(typeof d.data=="number"?i(d.data):console.error("数据格式错误，进度条需要0-1的数字。")),l(!1)})};return hlt(n,()=>({show(){u(!0)},hide(){u(!1)},update:p=>{c(p)}})),s&&C.jsx("div",{"data-id":e,"data-type":r,style:t.style,children:C.jsx(plt,{spinning:o,size:"large",wrapperClassName:"spin-loading",children:C.jsx(Zit,{...t.props,percent:a})})})},vlt=clt(dlt),glt={attrs:[{type:"Title",label:"基础属性"},{type:"Switch",label:"自适应",name:"autoFit"},{type:"InputNumber",label:"图表内边距",name:"appendPadding"},{type:"Title",label:"图形样式"},{type:"Slider",label:"外环半径",name:"radius",props:{min:0,max:1,step:.05}},{type:"Slider",label:"内环半径",name:"innerRadius",props:{min:0,max:1,step:.05}},{type:"Title",label:"主题配置"},{type:"Select",label:"主题",name:"theme",props:{options:[{label:"默认",value:"default"},{label:"暗黑",value:"dark"}]}},{type:"function",label:"图形颜色",name:"color",render(){return C.jsx(mo,{},"ColorSet")}}],config:{props:{theme:"default",autoFit:!0,appendPadding:0,innerRadius:.85,radius:1,color:["#f16622","#E8EDF3"]},style:{display:"inline-block",width:"100px",height:"100px"},api:{sourceType:"json",source:.7}},events:[],methods:[{name:"update",title:"更新数据"}]},ylt=window.antd.Button,mlt=window.antd.Modal,xlt=window.antd.Spin,blt=window.React.forwardRef,wlt=window.React.memo,Slt=window.React.useEffect,Clt=window.React.useImperativeHandle,ip=window.React.useState,Alt=blt(({id:e,type:r,config:t,elements:n,onLoad:a,onOk:i,onCancel:o},l)=>{const[s,u]=ip(!1),[f,c]=ip(t.props.confirmLoading||!1),[h,p]=ip(!1),d=At(b=>b.addChildElements),[,v]=lr({accept:"MENU_ITEM",drop(b,x){if(x.didDrop())return;const{config:w,events:S,methods:A=[]}=or[b.type+"Config"]||{};d({type:b.type,name:b.name,parentId:e,id:b.id,config:w,events:S,methods:A})},collect:b=>({isOver:b.isOver(),canDrop:b.canDrop()})});Clt(l,()=>({close:()=>{u(!1)},open:()=>new Promise(b=>{u(()=>(b(!0),!0))}),showConfirmLoading:()=>{c(!0)},hideConfirmLoading:()=>{c(!1)},showLoading:()=>{p(!0)},hideLoading:()=>{p(!1)}}),[]),Slt(()=>{var w;s&&(a==null||a());const b=(w=document.querySelector("#page"))==null?void 0:w.getBoundingClientRect(),x=document.querySelector(`[data-id="${e}"]`);x&&(x.style.height=(b==null?void 0:b.height)+"px")},[s]);const g=()=>{i==null||i()},y=()=>{o==null||o(),u(!1)},m=document.querySelector(`[data-id="${e}"]`);return s&&m?m.style.display="":m&&(m.style.display="none"),C.jsxs(C.Fragment,{children:[C.jsx("div",{children:C.jsx(ylt,{onClick:()=>u(!0),children:t.props.title})}),C.jsx(mlt,{...t.props,"data-id":e,"data-type":r,open:s,footer:t.props.footer?void 0:null,getContainer:!1,onOk:g,maskClosable:!1,onCancel:y,width:t.props.width||void 0,confirmLoading:f,style:{...t.style},children:C.jsx("div",{ref:v,children:C.jsx(xlt,{spinning:h,children:n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽组件到这里"})})})})]})}),Tlt=wlt(Alt),Ilt={attrs:[{type:"Title",label:"基础设置",key:"modal-basic"},{type:"Variable",label:"标题",name:"title"},{type:"InputNumber",label:"弹框宽度",name:"width"},{type:"Switch",label:"显示关闭",name:"closable"},{type:"Switch",label:"Footer",name:"footer"},{type:"Input",label:"确认文本",name:"okText"},{type:"Input",label:"取消文本",name:"cancelText"},{type:"Switch",label:"关闭后销毁",name:"destroyOnClose"},{type:"Switch",label:"确认Loading",name:"confirmLoading"}],config:{props:{title:"弹框",closable:!0,footer:!0,open:!0,okText:"确定",cancelText:"取消",destroyOnClose:!1,confirmLoading:!1},style:{}},events:[{value:"onLoad",name:"初始化事件"},{value:"onOk",name:"确认事件"},{value:"onCancel",name:"取消事件"}],methods:[{name:"open",title:"打开弹框"},{name:"close",title:"关闭弹框"},{name:"showConfirmLoading",title:"确认Loading"},{name:"hideConfirmLoading",title:"隐藏确认Loading"},{name:"showLoading",title:"显示加载Loading"},{name:"hideLoading",title:"隐藏加载Loading"}]},Elt=window.React,Mlt=window.React.forwardRef,Olt=window.React.useEffect,klt=window.React.useImperativeHandle,hw=window.React.useState,Flt=window.antd.Avatar,Plt=window.antd.Button,op=window.antd.List,pw=window.antd.Tag,Llt=({id:e,type:r,config:t},n)=>{var p;const[a,i]=hw([]),[o,l]=hw(!0),s=At(d=>d.page.variableData);Olt(()=>{u({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?s:""]);const u=d=>{be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?i(v.data):(console.error("[List]","data数据格式错误，请检查"),i([])))})};klt(n,()=>({show(){l(!0)},hide(){l(!1)},update:d=>{u(d)}}));const f=d=>{var y;const v=d[(y=t.props.content)==null?void 0:y.name],g=t.props.content.type;if(!v||!g||g==="text")return v;if(g==="money")return Xr(v,"currency");if(g==="number")return Xr(v);if(g==="date1")return Ri(v,"YYYY-MM-DD");if(g==="date2")return Ri(v);if(g==="tag")return Array.isArray(v)?v.map((m,b)=>C.jsx(pw,{children:m},b)):typeof v=="string"||typeof v=="number"?C.jsx(pw,{children:v}):v==null?void 0:v.toString()},c=(d,v={})=>{const g=t.events.find(y=>y.eventName===d);Ga(g==null?void 0:g.actions,v)},h=Jr;return o&&C.jsx(op,{"data-id":e,"data-type":r,style:t.style,bordered:t.props.bordered,size:t.props.size,split:t.props.split,header:t.props.header?C.jsx("div",{children:t.props.header}):null,footer:t.props.footer?C.jsx("div",{children:t.props.footer}):null,dataSource:a,renderItem:d=>{var v,g,y;return C.jsxs(op.Item,{actions:((v=t.props.bulkActionList)==null?void 0:v.map((m,b)=>C.jsx(Plt,{type:m.type,danger:m.danger,icon:m.icon?Elt.createElement(h[m.icon]):null,onClick:()=>c(m.eventName,d),children:m.text},m.eventName)))||[],children:[C.jsx(op.Item.Meta,{avatar:t.props.avatar?C.jsx(Flt,{src:d[t.props.avatar]}):null,title:(g=t.props.title)!=null&&g.name?C.jsx("span",{style:{color:t.props.title.color},children:d[t.props.title.name]}):null,description:t.props.desc.name?C.jsx("span",{style:{color:t.props.desc.color},children:d[t.props.desc.name]}):null}),(y=t.props.content)!=null&&y.name?C.jsx("div",{style:{color:t.props.content.color},children:f(d)}):null]})}})},Rlt=Mlt(Llt),Dlt={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"头部标题",name:"header"},{type:"Input",label:"底部标题",name:"footer"},{type:"Switch",label:"显示边框",name:"bordered"},{type:"Select",label:"List尺寸",name:"size",props:{options:[{label:"默认",value:"default"},{label:"大",value:"large"},{label:"小",value:"small"}]}},{type:"Switch",label:"显示分割线",name:"split"},{type:"Title",label:"Meta配置",key:"Meta"},{type:"Input",label:"头像字段",name:"avatar"},{type:"Input",label:"标题字段",name:["title","name"]},{type:"ColorPicker",label:"标题颜色",name:["title","color"]},{type:"Input",label:"描述字段",name:["desc","name"]},{type:"ColorPicker",label:"描述颜色",name:["desc","color"]},{type:"Title",label:"内容配置",key:"content"},{type:"Input",label:"内容字段",name:["content","name"]},{type:"ColorPicker",label:"内容颜色",name:["content","color"]},{type:"Select",label:"展示类型",name:["content","type"],props:{options:[{value:"text",label:"文本"},{value:"date1",label:"日期-不含时分秒"},{value:"date2",label:"日期-包含时分秒"},{value:"money",label:"金额千分位"},{value:"number",label:"数字千分位"},{value:"tag",label:"标签"}]}},{type:"Title",label:"批量操作栏"},{type:"function",render(e){return C.jsx(Vd,{form:e},"ActionSetting")}}],config:{props:{size:"default",bordered:!1,split:!0,header:"列表标题",footer:"列表底部",avatar:"avatar",title:{name:"name",color:"#000"},desc:{name:"remark",color:""},content:{name:"content",color:"#000",type:"money"},bulkActionList:[]},style:{padding:"20px"},events:[],api:{sourceType:"json",source:[{id:1,name:"上海分店",remark:"20%利润",avatar:"https://static.huolala.cn/image/90036e2b501d9f90d1f1e028841a2f81165845b7.png",content:"12423"},{id:2,name:"深圳分店",remark:"70%利润",avatar:"https://static.huolala.cn/image/90036e2b501d9f90d1f1e028841a2f81165845b7.png",content:"10999"},{id:3,name:"北京分店",remark:"35%利润",avatar:"https://static.huolala.cn/image/90036e2b501d9f90d1f1e028841a2f81165845b7.png",content:"30999"}]}},events:[]},dw=window.antd.Button,Blt=window.antd.Descriptions,_lt=window.antd.Image,vw=window.antd.Tag,gw=window.antd.Tooltip,yw=window.antd.Typography,Nlt=window.React.forwardRef,$lt=window.React.useEffect,jlt=window.React.useImperativeHandle,zlt=window.React.useMemo,mw=window.React.useState,Hlt=({id:e,type:r,config:t},n)=>{var p;const[a,i]=mw(!0),[o,l]=mw([]),s=At(d=>d.page.variableData);$lt(()=>{u({})},[t.api,((p=t.api)==null?void 0:p.sourceType)=="variable"?s:""]);const u=d=>{be(t.api,d).then(v=>{(v==null?void 0:v.ret)===0&&(Array.isArray(v.data)?l(v.data):l([v.data]))})};jlt(n,()=>({show(){i(!0)},hide(){i(!1)}}));const f=(d,v)=>{const g=t.events.find(y=>y.eventName===d);Ga(g==null?void 0:g.actions,v)},c=(d,v,g)=>{if(Pr(d)?v.type==="money"?d=Xr(d,"currency"):v.type==="number"?d=Xr(d):v.type==="date1"?d=Ri(d,"YYYY-MM-DD"):v.type==="date2"&&(d=Ri(d)):typeof t.props.empty>"u"?d="-":t.props.empty&&(d=t.props.empty),v.render)try{d=new Function("text","record",`return (${v.render})(text,record);`)(d,g)}catch(y){console.error(`列[${v.title}]渲染失败`,y),d="解析异常"}if(v.type==="text"){const y=C.jsx(dw,{type:"link",onClick:()=>f(v.eventName,g),children:d.toString()});return v.ellipsis&&v.copyable?C.jsx(gw,{title:d,children:C.jsx(yw.Paragraph,{copyable:!0,style:{marginBottom:0},children:v.clickable?y:d.toString()})}):v.ellipsis?C.jsx(gw,{title:d,children:v.clickable?y:d.toString()}):v.copyable?C.jsx(yw.Paragraph,{copyable:!0,children:v.clickable?y:d.toString()}):v.clickable?C.jsx(dw,{type:"link",onClick:()=>f(v.eventName,g),children:d.toString()}):d.toString()}return v.type==="image"?C.jsx(_lt,{src:d,width:30}):v.type==="tag"?Array.isArray(d)?d.map(y=>C.jsx(vw,{children:y},y)):typeof d=="string"||typeof d=="number"?C.jsx(vw,{children:d}):d==null?void 0:d.toString():d},h=zlt(()=>t.props.items.map(d=>{var y;const v=((y=o[0])==null?void 0:y[d.name])||"",g=c(v,d,o[0]||{});return{key:d.key,label:d.label,children:g}}),[t.props.items,o]);return a&&C.jsx(Blt,{...t.props,items:h,"data-id":e,"data-type":r,style:t.style})},Vlt=Nlt(Hlt),Us=window.antd.Input,Wlt=window.antd.Modal,zr=window.antd.Form,Fn=window.antd.Col,Po=window.antd.Row,Pn=window.antd.Select,lp=window.antd.Switch,Glt=window.React.useImperativeHandle,xw=window.React.useState,Ylt=window.React.memo,qlt=Ylt(e=>{const[r,t]=xw(!1),[n,a]=xw(0),[i]=Mw(),{selectedElement:o,elementsMap:l,editTableProps:s,editEvents:u}=At(h=>({selectedElement:h.selectedElement,elementsMap:h.page.elementsMap,editTableProps:h.editTableProps,editEvents:h.editEvents}));Glt(e.columnRef,()=>({open(h){const d=l[o==null?void 0:o.id].config.props.items[h],v=d.render||`function render(text,record) {
    return text;
}`;i.resetFields(),i.setFieldsValue({span:1,type:"text",...d,render:v}),a(h),t(!0)}}));const f=()=>{i.validateFields().then(()=>{const h=i.getFieldsValue(),p=l[o==null?void 0:o.id],d=Ll(`ClickItem${h.name}`);h.clickable?h.eventName=h.eventName||d:h.eventName="",s({id:o==null?void 0:o.id,type:"items",index:n,props:{...h,key:h.dataIndex||n}});let v=p.events;const g=p.config.props.items[n].eventName;v=v.filter(y=>y.value!=g),h.clickable&&v.push({name:`${h.label}点击事件`,value:h.eventName||d}),u({id:p.id,events:v}),e.update(h.label,n),t(!1)})},c=()=>{t(!1)};return C.jsx(Wlt,{title:"描述项设置",open:r,onOk:f,onCancel:c,width:800,children:C.jsxs(zr,{form:i,labelCol:{span:8},wrapperCol:{span:14},children:[C.jsxs(Po,{children:[C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"标题",name:"label",rules:[{required:!0,message:"请输入项名称"}],children:C.jsx(Us,{})})}),C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"字段",name:"name",rules:[{required:!0,message:"请输入项字段"}],children:C.jsx(Us,{})})})]}),C.jsxs(Po,{children:[C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"跨列数",name:"span",children:C.jsx(Us,{})})}),C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"列类型",name:"type",children:C.jsxs(Pn,{children:[C.jsx(Pn.Option,{value:"text",children:"文本"}),C.jsx(Pn.Option,{value:"image",children:"图片"}),C.jsx(Pn.Option,{value:"date1",children:"日期-不含时分秒"}),C.jsx(Pn.Option,{value:"date2",children:"日期-包含时分秒"}),C.jsx(Pn.Option,{value:"money",children:"金额千分位"}),C.jsx(Pn.Option,{value:"number",children:"数字千分位"}),C.jsx(Pn.Option,{value:"tag",children:"标签"})]})})})]}),C.jsxs(Po,{children:[C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"超长省略",name:"ellipsis",tooltip:"省略后，会自动开启tooltip功能",children:C.jsx(lp,{})})}),C.jsx(Fn,{span:12,children:C.jsx(zr.Item,{label:"可复制",name:"copyable",tooltip:"开启后，列增加复制功能，只对文本生效",children:C.jsx(lp,{})})})]}),C.jsx(Po,{children:C.jsxs(Fn,{span:12,children:[C.jsx(zr.Item,{label:"可点击",name:"clickable",tooltip:"开启后，当前列展示为可点击的link格式",children:C.jsx(lp,{})}),C.jsx(zr.Item,{name:"eventName",hidden:!0,children:C.jsx(Us,{})})]})}),C.jsx(Po,{children:C.jsx(Fn,{span:24,children:C.jsx(zr.Item,{label:"自定义渲染",name:"render",labelCol:{span:4},wrapperCol:{span:21},tooltip:"通过编程的方式实现值渲染，不支持ReactNode渲染。例如：if(text === 1)return '在线'; ",children:C.jsx(al,{})})})})]})})}),sp=window.antd.Form,bw=window.antd.Input,Xlt=window.antd.Space,Ult=window.React.memo,Klt=window.React.useRef,Zlt=Ult(({form:e})=>{const r=Klt(),t=a=>{var i;(i=r.current)==null||i.open(a)},n=(a,i)=>{e.setFieldValue(["items",i,"label"],a)};return C.jsxs(C.Fragment,{children:[C.jsx(sp.List,{name:["items"],children:(a,{add:i,remove:o})=>C.jsx(C.Fragment,{children:a.map(({key:l,name:s,...u})=>C.jsxs(Xlt,{style:{display:"flex",marginBottom:8,padding:"0 10px"},align:"baseline",children:[C.jsx(sp.Item,{...u,wrapperCol:{span:22},name:[s,"label"],children:C.jsx(bw,{placeholder:"项名称"})}),C.jsx(sp.Item,{...u,wrapperCol:{span:22},name:[s,"name"],children:C.jsx(bw,{placeholder:"项字段",style:{width:"100%"}})}),C.jsx(Ku,{onClick:()=>t(s)}),C.jsx(rr,{onClick:()=>i({label:"-",name:`name${s+1}`},s+1)}),C.jsx(ti,{onClick:()=>o(s)})]},l))})}),C.jsx(qlt,{columnRef:r,update:n})]})}),Qlt=Zlt,Jlt={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Input",label:"标题",name:["title"]},{type:"Switch",label:"展示边框",name:["bordered"]},{type:"Switch",label:"展示冒号",name:["colon"]},{type:"InputNumber",label:"一行列数",name:["column"]},{type:"Select",label:"布局",name:["layout"],tooltip:"文字和内容的排列",props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"Select",label:"列表大小",name:["size"],props:{options:[{value:"default",label:"默认"},{value:"middle",label:"中等"},{value:"small",label:"小号"}]}},{type:"Select",label:"空值显示",name:["empty"],props:{options:[{label:"空",value:""},{label:"-",value:"-"},{label:"/",value:"/"}]}},{type:"Title",label:"列表设置",key:"ListSet"},{type:"function",key:"DescItemSetting",render(e){return C.jsx(Qlt,{form:e},"DescItemSetting")}}],config:{props:{title:"用户信息",colon:!0,column:3,layout:"horizontal",size:"default",empty:"-",items:[{label:"名称",name:"name",type:"text"},{label:"类型",name:"type",type:"text"},{label:"寿命",name:"time",type:"text"},{label:"地区分布",name:"area",type:"text"}]},style:{},events:[],api:{sourceType:"json",sourceField:"list",source:[{id:1001,name:"萤火虫",type:"昆虫",avatar:"https://static.huolala.cn/image/64c8745c0bdb2cea429b2b1e8fb86367b6d5a0ab.jpeg",time:10,skill:["飞","发光","御敌"],sales:9.9,createdAt:new Date().getTime(),area:"热带、亚热带和温带地区"}]}},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]},up=window.antd.Empty,tst=window.React.forwardRef,est=window.React.useImperativeHandle,rst=window.React.useState,nst=({id:e,type:r,config:t},n)=>{var l,s,u,f;const[a,i]=rst(!0);est(n,()=>({show(){i(!0)},hide(){i(!1)}}));let o=(l=t.props)==null?void 0:l.image;return((s=t.props)==null?void 0:s.image)==="simple"?o=up.PRESENTED_IMAGE_SIMPLE:((u=t.props)==null?void 0:u.image)==="default"?o=up.PRESENTED_IMAGE_DEFAULT:o=(f=t.props)==null?void 0:f.image,a&&C.jsx(up,{style:t.style,...t.props,image:o,"data-id":e,"data-type":r})},ast=tst(nst),ist={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Input",label:"描述",name:["description"]},{type:"InputSelect",label:"图片",name:["image"],tooltip:"可以选择系统默认或者手动输入图片地址",props:{options:[{value:"simple",label:"简单"},{value:"default",label:"默认"}]}},{type:"InputNumber",label:"图片宽度",name:["imageStyle","width"],props:{placeholder:"请输入图片宽度"}},{type:"InputNumber",label:"图片高度",name:["imageStyle","height"],props:{placeholder:"请输入图片高度"}}],config:{props:{description:"暂无数据",image:"default"},style:{},events:[]},events:[],methods:[]},ost=window.antd.Steps,lst=window.React.forwardRef,ww=window.React.useEffect,sst=window.React.useImperativeHandle,cp=window.React.useState,ust=({id:e,type:r,config:t,onChange:n},a)=>{var d;const[i,o]=cp(!0),[l,s]=cp(t.props.current||0),[u,f]=cp([]),c=At(v=>v.page.variableData);ww(()=>{s(t.props.current)},[t.props.current]),ww(()=>{h({})},[t.api,((d=t.api)==null?void 0:d.sourceType)=="variable"?c:""]);const h=v=>{be(t.api,v).then(g=>{(g==null?void 0:g.ret)===0&&(Array.isArray(g.data)?f(g.data):(console.error("[Steps]","data数据格式错误，请检查"),f([])))})};sst(a,()=>({show(){o(!0)},hide(){o(!1)},update(){h(u)},updateStep(v){s(v)}}));const p=v=>{s(v),n==null||n({current:v})};return i&&C.jsx(ost,{style:t.style,...t.props,current:l,items:u,onChange:p,"data-id":e,"data-type":r})},cst=lst(ust),fst={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Variable",label:"当前步骤",name:["current"]},{type:"Select",label:"步骤条方向",name:["direction"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"Select",label:"标签位置",name:["labelPlacement"],props:{options:[{value:"horizontal",label:"水平"},{value:"vertical",label:"垂直"}]}},{type:"InputNumber",label:"当前进度",name:["percent"],tooltip:"当前 process 步骤显示的进度条进度（只对基本类型的 Steps 生效，取值0-100）"},{type:"Switch",label:"响应式",name:["responsive"]},{type:"Select",label:"尺寸",name:["size"],props:{options:[{value:"default",label:"默认"},{value:"small",label:"迷你"}]}},{type:"Select",label:"当前状态",name:["status"],props:{options:[{value:"wait",label:"wait"},{value:"process",label:"process"},{value:"finish",label:"finish"},{value:"error",label:"error"}]}},{type:"Select",label:"步骤类型",name:["type"],props:{options:[{value:"default",label:"default"},{value:"navigation",label:"navigation"},{value:"inline",label:"inline"}]}}],config:{props:{current:0,direction:"horizontal",labelPlacement:"horizontal",responsive:!0},style:{},events:[],api:{sourceType:"json",source:[{title:"第一步",description:"开始"},{title:"第二步",description:"进行中",subTitle:"加速中"},{title:"第三步",description:"结束"}]}},events:[{value:"onChange",name:"值变化事件"}],methods:[{name:"update",title:"更新数据"},{name:"更新步骤",title:"updateStep"}]},hst=window.React,pst=window.React.forwardRef,dst=window.React.useImperativeHandle,fp=window.React.useState,vst=window.antd.Button,gst=({id:e,type:r,config:t,onClick:n},a)=>{const[i,o]=fp(!0),[l,s]=fp(!1),[u,f]=fp(!1);dst(a,()=>({show(){o(!0)},hide(){o(!1)},enable(){s(!1)},disable(){s(!0)},startLoading:()=>{f(!0)},hideLoading:()=>{f(!1)}}));const c=()=>{n&&n()},h=Jr,{authCode:p,authScript:d,...v}=t.props;return i&&C.jsx(vst,{style:t.style,loading:u,disabled:l,...v,icon:v.icon?hst.createElement(h[v.icon]):null,"data-id":e,"data-type":r,onClick:c,children:t.props.text})},yst=pst(gst),mst=window.React,xst=window.antd.Form,Sw=window.antd.Select;function Dg({name:e="icon"}){const r=Jr;return C.jsx(xst.Item,{label:"按钮图标",name:e,children:C.jsx(Sw,{placeholder:"请选择菜单图表",showSearch:!0,allowClear:!0,children:Object.keys(Jr).filter(t=>!["default","createFromIconfontCN","getTwoToneColor","setTwoToneColor","IconProvider"].includes(t)).map(t=>C.jsx(Sw.Option,{value:t,children:mst.createElement(r[t],{style:{fontSize:"18px",verticalAlign:"middle"}})},t))})})}const bst={attrs:[{type:"Title",label:"基础设置",key:"basic"},{type:"Variable",label:"按钮名称",name:["text"]},{type:"Select",label:"按钮类型",name:["type"],props:{options:[{value:"primary",label:"primary"},{value:"default",label:"default"},{value:"ghost",label:"ghost"},{value:"dashed",label:"dashed"},{value:"text",label:"text"},{value:"link",label:"link"}]}},{type:"Select",label:"按钮形状",name:["shape"],props:{options:[{value:"default",label:"default"},{value:"circle",label:"circle"},{value:"round",label:"round"}]}},{type:"Switch",label:"块状按钮",name:["block"]},{type:"Switch",label:"幽灵按钮",name:["ghost"]},{type:"Switch",label:"危险按钮",name:["danger"]},{type:"Variable",label:"是否禁用",name:["disabled"]},{type:"function",render(){return C.jsx(Dg,{},"icon-setting")}},{type:"Title",label:"权限验证",key:"auth"},{type:"Input",label:"权限标识",name:["authCode"],props:{placeholder:"按钮权限标识"}},{type:"Variable",label:"三方验证",name:["authScript"],props:{placeholder:"运行脚本"}}],config:{props:{type:"primary",size:"middle",text:"按钮",shape:"default"},style:{},events:[]},events:[{value:"onClick",name:"点击事件"}],methods:[{name:"startLoading",title:"开始loading"},{name:"endLoading",title:"结束loading"}]},wst=window.React,hp=window.React.useState,Sst=window.React.useImperativeHandle,Cst=window.React.forwardRef,Ast=window.antd.Button,Tst=window.antd.Upload,Ist=({id:e,type:r,config:t,onSuccess:n,onFail:a},i)=>{const[o,l]=hp(!0),[s,u]=hp(!1),[f,c]=hp(!1),h=At(m=>m.page.apis);Sst(i,()=>({show(){l(!0)},hide(){l(!1)},enable(){u(!1)},disable(){u(!0)}}));const p=m=>{var w;return((w=t.props.upload.accept)==null?void 0:w.includes(m.type))?m.size>t.props.upload.limitSize*1024*1024?(Or.error("图片超出最大限制"),!1):!0:(Or.error("不支持该文件格式，请重新选择"),!1)},d=m=>{c(!0);const{stgApi:b,method:x,replaceData:w,params:S}=h[t.api.id],{data:A}=l1(x,w,S,{});Ai.post(b,{[t.props.upload.name||"file"]:m.file,...A},{headers:{"Content-Type":"multipart/form-data"}}).then(I=>{c(!1),n==null||n(I.data)}).catch(()=>{a==null||a()}).finally(()=>{c(!1)})},v=Jr,{button:g,upload:y}=t.props;return o&&C.jsx(Tst,{...y,withCredentials:!0,showUploadList:!1,style:t.style,beforeUpload:p,customRequest:d,children:C.jsx(Ast,{...g,icon:g.icon?wst.createElement(v[g.icon]):null,loading:f,disabled:s,"data-id":e,"data-type":r,children:g.text})})},Est=Cst(Ist),Mst={attrs:[{type:"Title",label:"基础配置",key:"title1"},{type:"Input",label:"按钮名称",name:["button","text"]},{type:"Select",label:"按钮类型",name:["button","type"],props:{options:[{value:"primary",label:"primary"},{value:"default",label:"default"},{value:"ghost",label:"ghost"},{value:"dashed",label:"dashed"},{value:"text",label:"text"},{value:"link",label:"link"}]}},{type:"Select",label:"按钮形状",name:["button","shape"],props:{options:[{value:"default",label:"default"},{value:"circle",label:"circle"},{value:"round",label:"round"}]}},{type:"Switch",label:"块状按钮",name:["button","block"]},{type:"Switch",label:"幽灵按钮",name:["button","ghost"]},{type:"Switch",label:"危险按钮",name:["button","danger"]},{type:"function",render(){return C.jsx(Dg,{name:["button","icon"]},"icon-setting")}},{type:"Title",label:"上传配置",key:"title2"},{type:"Input",label:"参数名称",name:["upload","name"],props:{placeholder:"请输入上传参数"}},{type:"Select",label:"文件类型",name:["upload","accept"],props:{mode:"multiple",options:[{value:"image/jpeg",label:"image/jpeg"},{value:"image/png",label:"image/png"},{value:"image/gif",label:"image/gif"},{value:"video/mp4",label:"video/mp4"},{value:"text/csv",label:"text/csv"},{value:"text/html",label:"text/html"},{value:"application/zip",label:"application/zip"},{value:"application/pdf",label:"application/pdf"},{value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",label:"excel"},{value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"word"},{value:"application/vnd.openxmlformats-officedocument.presentationml.presentation",label:"ppt"}]}},{type:"InputNumber",label:"文件大小",name:["upload","limitSize"],props:{placeholder:"单位：MB",addonAfter:"MB"}},{type:"Switch",label:"支持多选",name:["upload","multiple"]},{type:"Input",label:"上传地址",name:["upload","action"],props:{placeholder:"请输入上传地址"}}],config:{props:{button:{type:"primary",size:"middle",text:"上传",shape:"default",icon:"UploadOutlined"},upload:{name:"file",accept:["excel"],listType:"text",multiple:!1,limitSize:10},text:"Upload",structure:"url"},style:{},events:[],api:{},source:[]},events:[{value:"onSuccess",name:"上传成功事件"},{value:"onFail",name:"上传失败事件"}]},Ost=window.React,kst=window.React.forwardRef,Fst=window.React.useImperativeHandle,Pst=window.React.useState,Lst=window.antd.Tabs,Rst=({id:e,type:r,config:t,onClick:n,elements:a,onTabClick:i,onChange:o},l)=>{const[s,u]=Pst(!0),{updateToolbar:f,elementsMap:c}=At(m=>({elementsMap:m.page.elementsMap,updateToolbar:m.updateToolbar}));Fst(l,()=>({show(){u(!0)},hide(){u(!1)}}));const h=m=>{o==null||o({activeKey:m}),f()},p=m=>{i==null||i({activeKey:m}),f()},{items:d=[],...v}=t.props,g=Jr,y=d.map((m,b)=>{var w;if(!a[b])return{label:m.label,key:m.key};const x=c[(w=a[b])==null?void 0:w.id].config.props;return{key:m.key,...x,icon:x.icon?Ost.createElement(g[x.icon]):null,children:C.jsx(sr,{elements:[a[b]]})}});return s&&C.jsx(Lst,{style:t.style,...v,items:y,"data-id":e,"data-type":r,onChange:h,onTabClick:p})},Dst=kst(Rst),Bst=window.React.forwardRef,_st=window.React.useImperativeHandle,Nst=window.React.useState,$st=({id:e,type:r,config:t,elements:n},a)=>{const[i,o]=Nst(!0),l=At(u=>u.addChildElements),[,s]=lr({accept:"MENU_ITEM",drop(u,f){if(f.didDrop())return;const{config:c,events:h,methods:p=[]}=or[u.type+"Config"]||{};l({type:u.type,name:u.name,parentId:e,id:u.id,config:c,events:h,methods:p})},collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})});return _st(a,()=>({show(){o(!0)},hide(){o(!1)}})),i&&C.jsx("div",{style:t.style,"data-id":e,"data-type":r,ref:s,children:n.length?C.jsx(sr,{elements:n}):C.jsx("div",{className:"slots",style:{lineHeight:"150px"},children:"拖拽组件到这里"})})},jst=Bst($st),bE={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"Key",name:["key"]},{type:"Input",label:"标签名称",name:["label"]},{type:"function",render(){return C.jsx(Dg,{},"icon-setting")}},{type:"Switch",label:"显示关闭",name:["closable"],props:{tooltip:'type="editable-card"有效'}},{type:"Switch",label:"禁用",name:["disabled"]},{type:"Switch",label:"隐藏渲染",name:["forceRender"]},{type:"Switch",label:"隐藏销毁",name:["destroyInactiveTabPane"]}],config:{props:{key:"active1",label:"Tab1",icon:"",closable:!1,forceRender:!1,disabled:!1,destroyInactiveTabPane:!1},style:{},events:[]},events:[],methods:[]},zst=window.React.memo,Cw=window.antd.Form,Hst=window.antd.Input,Vst=window.antd.Space,Wst=window.antd.Button,Gst=zst(({form:e})=>{const{selectedElement:r,addChildElements:t}=At(i=>({selectedElement:i.selectedElement,addChildElements:i.addChildElements})),n=(i,o)=>{const l=Ll("Tab");i({id:l,key:"active"+o,label:"Tab"+o});const{config:s,events:u,methods:f=[]}=bE||{};t({type:"Tab",name:"子页签",parentId:r==null?void 0:r.id,id:l,config:{...s,props:{...s.props,activeKey:"Tab"+o}},events:u,methods:f})},a=(i,o)=>{i(o)};return C.jsx(C.Fragment,{children:C.jsx(Cw.List,{name:["items"],children:(i,{add:o,remove:l})=>C.jsxs(C.Fragment,{children:[i.map(({key:s,name:u,...f})=>C.jsxs(Vst,{align:"baseline",children:[C.jsx(Cw.Item,{...f,labelCol:{span:12},name:[u,"label"],label:"页签",children:C.jsx(Hst,{placeholder:"页签名称"})}),C.jsx(Pw,{onClick:()=>a(l,u)})]},s)),C.jsx("div",{style:{padding:"0 10px 10px"},children:C.jsx(Wst,{type:"primary",block:!0,ghost:!0,onClick:()=>n(o,i.length+1),icon:C.jsx(rr,{}),children:"新增"})})]})})})}),Yst=Gst,Aw=Ca("Tab"),qst={attrs:[{type:"Title",label:"页签配置",key:"tabs-title"},{type:"function",render(e){return C.jsx(Yst,{form:e},"tab-setting")}},{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"激活值",name:["activeKey"]},{type:"Input",label:"初始值",name:["defaultActiveKey"]},{type:"Switch",label:"标签居中",name:["centered"]},{type:"Switch",label:"隐藏加号",name:["hideAdd"]},{type:"Select",label:"尺寸",name:["size"],props:{options:[{value:"large",label:"large"},{value:"middle",label:"middle"},{value:"small",label:"small"}]}},{type:"InputNumber",label:"Tab间隙",name:["tabBarGutter"]},{type:"Select",label:"页签位置",name:["tabPosition"],props:{options:[{value:"top",label:"top"},{value:"right",label:"right"},{value:"bottom",label:"bottom"},{value:"left",label:"left"}]}},{type:"Switch",label:"隐藏销毁",name:["destroyInactiveTabPane"]},{type:"Select",label:"页签样式",name:["type"],props:{options:[{value:"line",label:"line"},{value:"card",label:"card"},{value:"editable-card",label:"editable-card"}]}}],config:{props:{type:"line",size:"middle",tabPosition:"top",activeKey:void 0,centered:!1,hideAdd:!0,destroyInactiveTabPane:!1,items:[{id:Aw,key:"active1",label:"Tab1"}]},style:{},events:[]},elements:[{id:Aw,type:"Tab",name:"子标签"}],events:[{value:"onTabClick",name:"点击事件"},{value:"onChange",name:"切换事件"}],methods:[]},Xst=window.antd.Image,Ust=window.React.useState,Kst=window.React.useImperativeHandle,Zst=window.React.forwardRef,Qst=({id:e,type:r,config:t},n)=>{const[a,i]=Ust(!0);return Kst(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx(Xst,{style:t.style,...t.props,"data-id":e,"data-type":r})},Jst=Zst(Qst),tut={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Input",label:"图片地址",name:"src"},{type:"Input",label:"图片宽度",name:"width"},{type:"Input",label:"图片高度",name:"height"},{type:"Switch",label:"是否预览",name:"preview"},{type:"Input",label:"图片alt",name:"alt"}],config:{props:{src:"https://static.huolala.cn/image/64c8745c0bdb2cea429b2b1e8fb86367b6d5a0ab.jpeg",preview:!1,width:"200px",height:"200px",alt:""},style:{}},events:[{value:"handleClick",name:"点击事件"}],api:{}},Tw=window.React.useState,eut=window.React.useEffect,rut=window.React.useImperativeHandle,nut=window.React.forwardRef,aut=window.antd.Typography,pp=window.dayjs,iut=({id:e,type:r,config:t},n)=>{var s,u;const[a,i]=Tw(""),[o,l]=Tw(!0);return eut(()=>{var d,v,g,y;const f=((v=(d=t.props)==null?void 0:d.text)==null?void 0:v.toString())||"",c=(g=t.props)==null?void 0:g.format,h=(y=t.props)==null?void 0:y.script;let p=f;if(c==="YYYY-MM-DD HH:mm:ss"||c==="YYYY-MM-DD"||c==="HH:mm:ss"?p=pp(f).format(c):c==="money"?p=Xr(f,"currency"):c==="number"?p=Xr(f,"decimal"):c==="percent"&&(p=Xr(f,"percent")),h)try{p=new Function("value",`return (${h})(value);`)(p)}catch(m){console.error("脚本解析失败",m),Or.error(JSON.stringify(m))}i(p==null?void 0:p.toString())},[t.props.text,(s=t.props)==null?void 0:s.format,(u=t.props)==null?void 0:u.script]),rut(n,()=>({show(){l(!0)},hide(){l(!1)}})),o&&C.jsx(aut.Text,{style:t.style,...t.props,text:void 0,"data-id":e,"data-type":r,children:a})},out=nut(iut),Iw=window.antd.Form;function lut(e){return C.jsxs(C.Fragment,{children:[C.jsx(Iw.Item,{label:"自定义",tooltip:"通过编程的方式，实现自定义渲染。"}),C.jsx(Iw.Item,{name:["script"],noStyle:!0,children:C.jsx(al,{})})]})}const sut={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"Variable",label:"文本内容",name:"text"},{type:"Select",label:"文本类型",name:"type",props:{options:[{value:"",label:"默认"},{value:"secondary",label:"弱提示"},{value:"success",label:"成功提示"},{value:"warning",label:"警告提示"},{value:"danger",label:"错误提示"}]}},{type:"Select",label:"文本格式",name:"format",props:{options:[{value:"",label:"默认"},{value:"YYYY-MM-DD HH:mm:ss",label:"年-月-日 时:分:秒"},{value:"YYYY-MM-DD",label:"年-月-日"},{value:"HH:mm:ss",label:"时:分:秒"},{value:"money",label:"金额千分位"},{value:"number",label:"数字千分位"},{value:"percent",label:"百分比"}]}},{type:"function",label:"自定义渲染",key:"render",render:e=>(e.setFieldValue("script",`function render(value){
    return value;
}`),C.jsx(lut,{form:e},"render"))},{type:"Title",label:"格式配置",key:"format_config"},{type:"Switch",label:"代码格式",name:"code"},{type:"Switch",label:"删除线",name:"delete"},{type:"Switch",label:"禁用文本",name:"disabled"},{type:"Switch",label:"是否可复制",name:"copyable"},{type:"Switch",label:"标记格式",name:"mark"},{type:"Switch",label:"是否加粗",name:"strong"},{type:"Switch",label:"是否斜体",name:"italic"},{type:"Switch",label:"下划线",name:"underline"}],config:{props:{text:"欢迎使用Mars低代码系统",type:""},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},uut=window.antd.Typography,cut=window.React.useState,fut=window.React.useImperativeHandle,hut=window.React.forwardRef,put=({id:e,type:r,config:t},n)=>{const[a,i]=cut(!0);return fut(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx(uut.Title,{style:t.style,...t.props,text:void 0,"data-id":e,"data-type":r,children:t.props.text})},dut=hut(put),vut={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"标题内容",name:"text"},{type:"Select",label:"重要程度",name:"level",props:{options:[{value:1,label:"H1"},{value:2,label:"H2"},{value:3,label:"H3"},{value:4,label:"H4"},{value:5,label:"H5"}]}},{type:"Select",label:"文本类型",name:"type",props:{options:[{value:"",label:"默认"},{value:"secondary",label:"弱提示"},{value:"success",label:"成功提示"},{value:"warning",label:"警告提示"},{value:"danger",label:"错误提示"}]}},{type:"Switch",label:"代码格式",name:"code"},{type:"Switch",label:"删除线",name:"delete"},{type:"Switch",label:"禁用文本",name:"disabled"},{type:"Switch",label:"是否可复制",name:"copyable"},{type:"Switch",label:"标记格式",name:"mark"},{type:"Switch",label:"是否加粗",name:"strong"},{type:"Switch",label:"是否斜体",name:"italic"},{type:"Switch",label:"下划线",name:"underline"}],config:{props:{text:"欢迎使用Mars低代码系统",type:"",level:1},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},gut=window.React.useState,yut=window.React.useImperativeHandle,mut=window.React.forwardRef,xut=({id:e,type:r,config:t},n)=>{const[a,i]=gut(!0);return yut(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx("a",{style:t.style,...t.props,"data-id":e,"data-type":r,children:t.props.text})},but=mut(xut),wut={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"文本内容",name:"text"},{type:"Input",label:"跳转链接",name:"href"},{type:"Select",label:"跳转位置",name:"target",props:{options:[{value:"_self",label:"当前页面加载（默认）"},{value:"_blank",label:"打开新页签"},{value:"_parent",label:"父窗口打开"},{value:"_top",label:"最顶级窗口打开"}]}}],config:{props:{text:"打开oms系统",href:"https://www.huolala.cn",target:"_blank"},style:{},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}},Sut=window.React.useState,Cut=window.React.useImperativeHandle,Aut=window.React.forwardRef,Tut=({id:e,type:r,config:t},n)=>{const[a,i]=Sut(!0);return Cut(n,()=>({show(){i(!0)},hide(){i(!1)}})),a&&C.jsx("iframe",{style:t.style,...t.props,"data-id":e,"data-type":r})},Iut=Aut(Tut),Eut={attrs:[{type:"Title",label:"基础配置",key:"basic"},{type:"TextArea",label:"远程地址",name:"src"},{type:"Input",label:"显示标题",name:"title"}],config:{props:{src:"https://activity-v.huolala.cn/#/rent-h5",title:"IFrame组件"},style:{border:"none",width:"300px",height:"500px"},events:[],api:{},source:""},events:[{value:"handleClick",name:"点击事件"}],api:{}};export{or as C,YM as D,PF as P,Zn as a,lr as b,FF as c,KE as i,EO as u};
