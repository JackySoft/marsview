import{j as u}from"./index-DHYities.js";import{i as I,c as j}from"./index-BttOVbUh.js";import{F as k}from"./context-V_gTMpak.js";import"./_commonjsHelpers-BosuxZz1.js";import"./immer-DZPz5TFl.js";const P=window.antd.Form,W=window.antd.DatePicker,f=window.React.useEffect,y=window.React.useContext,w=window.React.useState,V=window.React.useImperativeHandle,E=window.React.forwardRef,h=({config:e,onChange:a},R)=>{const{RangePicker:b}=W,n=y(k),[v,l]=w(!0),[x,i]=w(!1);f(()=>{var r;const s=(r=e.props.formItem)==null?void 0:r.name,t=e.props.defaultValue;if(s&&!I(t)){const o=j(t);n==null||n.setFieldValue(s,o)}},[e.props.defaultValue]),f(()=>{i(e.props.formWrap.disabled||!1)},[e.props.formWrap.disabled]),V(R,()=>({show(){l(!0)},hide(){l(!1)},enable(){i(!1)},disable(){i(!0)}}));const F=s=>{const t={},{startField:r,endField:o,formItem:{name:m},formWrap:{format:D}}=e.props,[d,c]=(s==null?void 0:s.map(p=>p==null?void 0:p.format(D)))||[void 0,void 0];r&&o?(t[r]=d,t[o]=c,delete t[m]):t[m]=[d,c],a==null||a(t)};return v&&u.jsx(P.Item,{...e.props.formItem,children:u.jsx(b,{...e.props.formWrap,disabled:x,variant:e.props.formWrap.variant||void 0,style:e.style,onChange:F})})},N=E(h);export{N as DatePickerRange};
